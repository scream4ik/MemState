
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Transactional Memory for AI Agents - Keep SQL and Vector DBs in sync with ACID-like guarantees">
      
      
      
        <link rel="canonical" href="https://scream4ik.github.io/memstate/api/integrations/">
      
      
        <link rel="prev" href="../backends/">
      
      
        <link rel="next" href="../../changelog/">
      
      
        
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.0">
    
    
      
        <title>Integrations - MemState</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.618322db.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#memstate.integrations" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="MemState" class="md-header__button md-logo" aria-label="MemState" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            MemState
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Integrations
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9zM20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zm-9.15 3.96h2.3L12 9z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="purple"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="lime"  aria-label="Switch to system preference"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to system preference" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/scream4ik/MemState" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    scream4ik/MemState
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../.." class="md-tabs__link">
          
  
  
  Home

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../documentation/" class="md-tabs__link">
          
  
  
  Documentation

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../examples/" class="md-tabs__link">
          
  
  
  Examples

        </a>
      </li>
    
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../" class="md-tabs__link">
          
  
  
  API Reference

        </a>
      </li>
    
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../changelog/" class="md-tabs__link">
        
  
  
    
  
  Changelog

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="MemState" class="md-nav__button md-logo" aria-label="MemState" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    MemState
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/scream4ik/MemState" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    scream4ik/MemState
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" >
        
          
          <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    Home
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../quickstart/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Quickstart
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Documentation
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Documentation
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../documentation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Core concept
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../documentation/backends/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Backends
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../documentation/integrations/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Integrations
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../documentation/exceptions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Exceptions
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Examples
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Examples
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/langgraph/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    LangGraph
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/rag/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    RAG
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/agent/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Agent
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    API Reference
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    API Reference
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../memstate/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    MemState
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../backends/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Backends
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    Integrations
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Integrations
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#memstate.integrations.chroma" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;chroma
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" chroma">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.chroma.AsyncChromaSyncHook" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;AsyncChromaSyncHook
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" AsyncChromaSyncHook">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.chroma.AsyncChromaSyncHook.search" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;search
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" search">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.chroma.AsyncChromaSyncHook.search(query)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;query
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.chroma.AsyncChromaSyncHook.search(limit)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;limit
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.chroma.AsyncChromaSyncHook.search(filters)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;filters
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.chroma.AsyncChromaSyncHook.search(score_threshold)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;score_threshold
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.chroma.ChromaSyncHook" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;ChromaSyncHook
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" ChromaSyncHook">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.chroma.ChromaSyncHook.search" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;search
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" search">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.chroma.ChromaSyncHook.search(query)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;query
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.chroma.ChromaSyncHook.search(limit)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;limit
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.chroma.ChromaSyncHook.search(filters)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;filters
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.chroma.ChromaSyncHook.search(score_threshold)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;score_threshold
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#memstate.integrations.langgraph" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;langgraph
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" langgraph">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.langgraph.AsyncMemStateCheckpointer" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;AsyncMemStateCheckpointer
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" AsyncMemStateCheckpointer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.langgraph.AsyncMemStateCheckpointer.adelete_thread" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;adelete_thread
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" adelete_thread">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.langgraph.AsyncMemStateCheckpointer.adelete_thread(thread_id)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;thread_id
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.langgraph.AsyncMemStateCheckpointer.aget_tuple" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;aget_tuple
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" aget_tuple">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.langgraph.AsyncMemStateCheckpointer.aget_tuple(config)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;config
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.langgraph.AsyncMemStateCheckpointer.alist" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;alist
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" alist">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.langgraph.AsyncMemStateCheckpointer.alist(config)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;config
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.langgraph.AsyncMemStateCheckpointer.alist(filter)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;filter
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.langgraph.AsyncMemStateCheckpointer.alist(before)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;before
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.langgraph.AsyncMemStateCheckpointer.alist(limit)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;limit
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.langgraph.AsyncMemStateCheckpointer.aput" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;aput
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" aput">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.langgraph.AsyncMemStateCheckpointer.aput(config)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;config
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.langgraph.AsyncMemStateCheckpointer.aput(checkpoint)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;checkpoint
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.langgraph.AsyncMemStateCheckpointer.aput(metadata)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;metadata
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.langgraph.AsyncMemStateCheckpointer.aput(new_versions)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;new_versions
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.langgraph.AsyncMemStateCheckpointer.aput_writes" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;aput_writes
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" aput_writes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.langgraph.AsyncMemStateCheckpointer.aput_writes(config)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;config
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.langgraph.AsyncMemStateCheckpointer.aput_writes(writes)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;writes
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.langgraph.AsyncMemStateCheckpointer.aput_writes(task_id)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;task_id
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.langgraph.AsyncMemStateCheckpointer.aput_writes(task_path)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;task_path
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.langgraph.MemStateCheckpointer" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;MemStateCheckpointer
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" MemStateCheckpointer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.langgraph.MemStateCheckpointer.delete_thread" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;delete_thread
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" delete_thread">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.langgraph.MemStateCheckpointer.delete_thread(thread_id)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;thread_id
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.langgraph.MemStateCheckpointer.get_tuple" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_tuple
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" get_tuple">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.langgraph.MemStateCheckpointer.get_tuple(config)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;config
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.langgraph.MemStateCheckpointer.list" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;list
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" list">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.langgraph.MemStateCheckpointer.list(config)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;config
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.langgraph.MemStateCheckpointer.list(filter)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;filter
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.langgraph.MemStateCheckpointer.list(before)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;before
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.langgraph.MemStateCheckpointer.list(limit)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;limit
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.langgraph.MemStateCheckpointer.put" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;put
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" put">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.langgraph.MemStateCheckpointer.put(config)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;config
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.langgraph.MemStateCheckpointer.put(checkpoint)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;checkpoint
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.langgraph.MemStateCheckpointer.put(metadata)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;metadata
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.langgraph.MemStateCheckpointer.put(new_versions)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;new_versions
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.langgraph.MemStateCheckpointer.put_writes" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;put_writes
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" put_writes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.langgraph.MemStateCheckpointer.put_writes(config)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;config
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.langgraph.MemStateCheckpointer.put_writes(writes)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;writes
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.langgraph.MemStateCheckpointer.put_writes(task_id)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;task_id
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.langgraph.MemStateCheckpointer.put_writes(task_path)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;task_path
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#memstate.integrations.qdrant" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;qdrant
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" qdrant">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.qdrant.AsyncQdrantSyncHook" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;AsyncQdrantSyncHook
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" AsyncQdrantSyncHook">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.qdrant.AsyncQdrantSyncHook.search" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;search
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" search">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.qdrant.AsyncQdrantSyncHook.search(query)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;query
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.qdrant.AsyncQdrantSyncHook.search(limit)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;limit
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.qdrant.AsyncQdrantSyncHook.search(filters)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;filters
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.qdrant.AsyncQdrantSyncHook.search(score_threshold)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;score_threshold
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.qdrant.FastEmbedEncoder" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;FastEmbedEncoder
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" FastEmbedEncoder">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.qdrant.FastEmbedEncoder(model_name)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;model_name
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.qdrant.FastEmbedEncoder(options)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;options
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.qdrant.QdrantSyncHook" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;QdrantSyncHook
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" QdrantSyncHook">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.qdrant.QdrantSyncHook.search" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;search
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" search">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.qdrant.QdrantSyncHook.search(query)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;query
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.qdrant.QdrantSyncHook.search(limit)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;limit
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.qdrant.QdrantSyncHook.search(filters)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;filters
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.qdrant.QdrantSyncHook.search(score_threshold)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;score_threshold
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../changelog/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Changelog
  

    
  </span>
  
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#memstate.integrations.chroma" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;chroma
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" chroma">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.chroma.AsyncChromaSyncHook" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;AsyncChromaSyncHook
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" AsyncChromaSyncHook">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.chroma.AsyncChromaSyncHook.search" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;search
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" search">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.chroma.AsyncChromaSyncHook.search(query)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;query
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.chroma.AsyncChromaSyncHook.search(limit)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;limit
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.chroma.AsyncChromaSyncHook.search(filters)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;filters
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.chroma.AsyncChromaSyncHook.search(score_threshold)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;score_threshold
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.chroma.ChromaSyncHook" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;ChromaSyncHook
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" ChromaSyncHook">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.chroma.ChromaSyncHook.search" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;search
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" search">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.chroma.ChromaSyncHook.search(query)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;query
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.chroma.ChromaSyncHook.search(limit)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;limit
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.chroma.ChromaSyncHook.search(filters)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;filters
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.chroma.ChromaSyncHook.search(score_threshold)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;score_threshold
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#memstate.integrations.langgraph" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;langgraph
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" langgraph">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.langgraph.AsyncMemStateCheckpointer" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;AsyncMemStateCheckpointer
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" AsyncMemStateCheckpointer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.langgraph.AsyncMemStateCheckpointer.adelete_thread" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;adelete_thread
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" adelete_thread">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.langgraph.AsyncMemStateCheckpointer.adelete_thread(thread_id)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;thread_id
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.langgraph.AsyncMemStateCheckpointer.aget_tuple" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;aget_tuple
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" aget_tuple">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.langgraph.AsyncMemStateCheckpointer.aget_tuple(config)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;config
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.langgraph.AsyncMemStateCheckpointer.alist" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;alist
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" alist">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.langgraph.AsyncMemStateCheckpointer.alist(config)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;config
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.langgraph.AsyncMemStateCheckpointer.alist(filter)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;filter
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.langgraph.AsyncMemStateCheckpointer.alist(before)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;before
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.langgraph.AsyncMemStateCheckpointer.alist(limit)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;limit
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.langgraph.AsyncMemStateCheckpointer.aput" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;aput
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" aput">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.langgraph.AsyncMemStateCheckpointer.aput(config)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;config
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.langgraph.AsyncMemStateCheckpointer.aput(checkpoint)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;checkpoint
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.langgraph.AsyncMemStateCheckpointer.aput(metadata)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;metadata
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.langgraph.AsyncMemStateCheckpointer.aput(new_versions)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;new_versions
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.langgraph.AsyncMemStateCheckpointer.aput_writes" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;aput_writes
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" aput_writes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.langgraph.AsyncMemStateCheckpointer.aput_writes(config)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;config
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.langgraph.AsyncMemStateCheckpointer.aput_writes(writes)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;writes
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.langgraph.AsyncMemStateCheckpointer.aput_writes(task_id)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;task_id
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.langgraph.AsyncMemStateCheckpointer.aput_writes(task_path)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;task_path
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.langgraph.MemStateCheckpointer" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;MemStateCheckpointer
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" MemStateCheckpointer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.langgraph.MemStateCheckpointer.delete_thread" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;delete_thread
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" delete_thread">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.langgraph.MemStateCheckpointer.delete_thread(thread_id)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;thread_id
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.langgraph.MemStateCheckpointer.get_tuple" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_tuple
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" get_tuple">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.langgraph.MemStateCheckpointer.get_tuple(config)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;config
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.langgraph.MemStateCheckpointer.list" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;list
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" list">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.langgraph.MemStateCheckpointer.list(config)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;config
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.langgraph.MemStateCheckpointer.list(filter)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;filter
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.langgraph.MemStateCheckpointer.list(before)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;before
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.langgraph.MemStateCheckpointer.list(limit)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;limit
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.langgraph.MemStateCheckpointer.put" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;put
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" put">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.langgraph.MemStateCheckpointer.put(config)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;config
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.langgraph.MemStateCheckpointer.put(checkpoint)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;checkpoint
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.langgraph.MemStateCheckpointer.put(metadata)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;metadata
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.langgraph.MemStateCheckpointer.put(new_versions)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;new_versions
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.langgraph.MemStateCheckpointer.put_writes" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;put_writes
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" put_writes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.langgraph.MemStateCheckpointer.put_writes(config)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;config
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.langgraph.MemStateCheckpointer.put_writes(writes)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;writes
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.langgraph.MemStateCheckpointer.put_writes(task_id)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;task_id
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.langgraph.MemStateCheckpointer.put_writes(task_path)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;task_path
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#memstate.integrations.qdrant" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;qdrant
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" qdrant">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.qdrant.AsyncQdrantSyncHook" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;AsyncQdrantSyncHook
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" AsyncQdrantSyncHook">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.qdrant.AsyncQdrantSyncHook.search" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;search
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" search">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.qdrant.AsyncQdrantSyncHook.search(query)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;query
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.qdrant.AsyncQdrantSyncHook.search(limit)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;limit
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.qdrant.AsyncQdrantSyncHook.search(filters)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;filters
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.qdrant.AsyncQdrantSyncHook.search(score_threshold)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;score_threshold
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.qdrant.FastEmbedEncoder" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;FastEmbedEncoder
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" FastEmbedEncoder">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.qdrant.FastEmbedEncoder(model_name)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;model_name
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.qdrant.FastEmbedEncoder(options)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;options
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.qdrant.QdrantSyncHook" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;QdrantSyncHook
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" QdrantSyncHook">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.qdrant.QdrantSyncHook.search" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;search
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" search">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.qdrant.QdrantSyncHook.search(query)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;query
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.qdrant.QdrantSyncHook.search(limit)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;limit
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.qdrant.QdrantSyncHook.search(filters)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;filters
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#memstate.integrations.qdrant.QdrantSyncHook.search(score_threshold)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;score_threshold
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
  


<div class="doc doc-object doc-module">



<h1 id="memstate.integrations" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-module"></code>            <span class="doc doc-object-name doc-module-name">integrations</span>


</h1>

    <div class="doc doc-contents first">

          





<p><span class="doc-section-title">Modules:</span></p>
    <ul>
        <li class="doc-section-item field-body">
          <b><code><a class="autorefs autorefs-internal" title="&lt;code class=&quot;doc-symbol doc-symbol-heading doc-symbol-module&quot;&gt;&lt;/code&gt;            &lt;span class=&quot;doc doc-object-name doc-module-name&quot;&gt;chroma&lt;/span&gt; (&lt;code&gt;memstate.integrations.chroma&lt;/code&gt;)" href="#memstate.integrations.chroma">chroma</a></code></b>
          –
          <div class="doc-md-description">
            <p>Chroma DB integration.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
          <b><code><a class="autorefs autorefs-internal" title="&lt;code class=&quot;doc-symbol doc-symbol-heading doc-symbol-module&quot;&gt;&lt;/code&gt;            &lt;span class=&quot;doc doc-object-name doc-module-name&quot;&gt;langgraph&lt;/span&gt; (&lt;code&gt;memstate.integrations.langgraph&lt;/code&gt;)" href="#memstate.integrations.langgraph">langgraph</a></code></b>
          –
          <div class="doc-md-description">
            <p>LangGraph Checkpointer.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
          <b><code><a class="autorefs autorefs-internal" title="&lt;code class=&quot;doc-symbol doc-symbol-heading doc-symbol-module&quot;&gt;&lt;/code&gt;            &lt;span class=&quot;doc doc-object-name doc-module-name&quot;&gt;qdrant&lt;/span&gt; (&lt;code&gt;memstate.integrations.qdrant&lt;/code&gt;)" href="#memstate.integrations.qdrant">qdrant</a></code></b>
          –
          <div class="doc-md-description">
            <p>Qdrant integration.</p>
          </div>
        </li>
    </ul>











<div class="doc doc-children">











<div class="doc doc-object doc-module">



<h2 id="memstate.integrations.chroma" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-module"></code>            <span class="doc doc-object-name doc-module-name">chroma</span>


</h2>

    <div class="doc doc-contents ">

        <p>Chroma DB integration.</p>

          









<p><span class="doc-section-title">Classes:</span></p>
    <ul>
        <li class="doc-section-item field-body">
          <b><code><a class="autorefs autorefs-internal" title="&lt;code class=&quot;doc-symbol doc-symbol-heading doc-symbol-class&quot;&gt;&lt;/code&gt;            &lt;span class=&quot;doc doc-object-name doc-class-name&quot;&gt;AsyncChromaSyncHook&lt;/span&gt; (&lt;code&gt;memstate.integrations.chroma.AsyncChromaSyncHook&lt;/code&gt;)" href="#memstate.integrations.chroma.AsyncChromaSyncHook">AsyncChromaSyncHook</a></code></b>
          –
          <div class="doc-md-description">
            <p>Handles synchronization of memory data with Chroma collections by integrating</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
          <b><code><a class="autorefs autorefs-internal" title="&lt;code class=&quot;doc-symbol doc-symbol-heading doc-symbol-class&quot;&gt;&lt;/code&gt;            &lt;span class=&quot;doc doc-object-name doc-class-name&quot;&gt;ChromaSyncHook&lt;/span&gt; (&lt;code&gt;memstate.integrations.chroma.ChromaSyncHook&lt;/code&gt;)" href="#memstate.integrations.chroma.ChromaSyncHook">ChromaSyncHook</a></code></b>
          –
          <div class="doc-md-description">
            <p>Handles synchronization of memory data with Chroma collections by integrating</p>
          </div>
        </li>
    </ul>







<div class="doc doc-children">









<div class="doc doc-object doc-class">



<h3 id="memstate.integrations.chroma.AsyncChromaSyncHook" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">AsyncChromaSyncHook</span>


</h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">AsyncChromaSyncHook</span><span class="p">(</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>    <span class="n"><span title="memstate.integrations.chroma.AsyncChromaSyncHook(client)">client</span></span><span class="p">:</span> <span class="n"><span title="chromadb.api.AsyncClientAPI">AsyncClientAPI</span></span><span class="p">,</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>    <span class="n"><span title="memstate.integrations.chroma.AsyncChromaSyncHook(collection_name)">collection_name</span></span><span class="p">:</span> <span class="n"><span title="str">str</span></span><span class="p">,</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>    <span class="n"><span title="memstate.integrations.chroma.AsyncChromaSyncHook(embedding_fn)">embedding_fn</span></span><span class="p">:</span> <span class="p">(</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>        <span class="n"><span title="chromadb.EmbeddingFunction">EmbeddingFunction</span></span><span class="p">[</span><span class="n"><span title="chromadb.api.Embeddable">Embeddable</span></span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>    <span class="p">)</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>    <span class="n"><span title="memstate.integrations.chroma.AsyncChromaSyncHook(target_types)">target_types</span></span><span class="p">:</span> <span class="n"><span title="set">set</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>    <span class="n"><span title="memstate.integrations.chroma.AsyncChromaSyncHook(text_field)">text_field</span></span><span class="p">:</span> <span class="n"><span title="str">str</span></span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a>    <span class="n"><span title="memstate.integrations.chroma.AsyncChromaSyncHook(text_formatter)">text_formatter</span></span><span class="p">:</span> <span class="n"><span title="memstate.integrations.chroma.TextFormatter">TextFormatter</span></span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a>    <span class="n"><span title="memstate.integrations.chroma.AsyncChromaSyncHook(metadata_fields)">metadata_fields</span></span><span class="p">:</span> <span class="n"><span title="list">list</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a>    <span class="n"><span title="memstate.integrations.chroma.AsyncChromaSyncHook(metadata_formatter)">metadata_formatter</span></span><span class="p">:</span> <span class="n"><span title="memstate.integrations.chroma.MetadataFormatter">MetadataFormatter</span></span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="memstate.types.AsyncMemoryHook">AsyncMemoryHook</span></code></p>



        <p>Handles synchronization of memory data with Chroma collections by integrating
fact operations and data transformations.</p>
<p>This class is responsible for managing connections to a Chroma collection via
AsyncClientAPI, extracting and formatting text and metadata as per the provided
configuration, and performing operations like deletion or upserting of facts
based on various triggers or operations. It also provides flexibility in defining
target data types, metadata extraction, text processing, and overall data
synchronization rules.</p>


<details class="example" open>
  <summary>Example</summary>
  <div class="language-python highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">client</span> <span class="o">=</span> <span class="k">await</span> <span class="n">chromadb</span><span class="o">.</span><span class="n">AsyncHttpClient</span><span class="p">()</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="n">hook</span> <span class="o">=</span> <span class="n">AsyncChromaSyncHook</span><span class="p">(</span><span class="n">client</span><span class="p">,</span> <span class="s2">&quot;my_collection&quot;</span><span class="p">,</span> <span class="n">text_field</span><span class="o">=</span><span class="s2">&quot;content&quot;</span><span class="p">)</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="n">store</span> <span class="o">=</span> <span class="n">AsyncMemoryStore</span><span class="p">(</span><span class="n">AsyncInMemoryStorage</span><span class="p">(),</span> <span class="n">hooks</span><span class="o">=</span><span class="p">[</span><span class="n">hook</span><span class="p">])</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="k">await</span> <span class="n">store</span><span class="o">.</span><span class="n">commit_model</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
</code></pre></div>
</details>

<p><span class="doc-section-title">Attributes:</span></p>
    <ul>
        <li class="doc-section-item field-body">
          <b><code><span title="memstate.integrations.chroma.AsyncChromaSyncHook.client">client</span></code></b>
              (<code><span title="chromadb.api.AsyncClientAPI">AsyncClientAPI</span></code>)
          –
          <div class="doc-md-description">
            <p>The Chroma client instance used for collection access and management.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
          <b><code><span title="memstate.integrations.chroma.AsyncChromaSyncHook.collection_name">collection_name</span></code></b>
              (<code><span title="str">str</span></code>)
          –
          <div class="doc-md-description">
            <p>The name of the Chroma collection to be synchronized.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
          <b><code><span title="memstate.integrations.chroma.AsyncChromaSyncHook.embedding_fn">embedding_fn</span></code></b>
              (<code><span title="chromadb.EmbeddingFunction">EmbeddingFunction</span> | None</code>)
          –
          <div class="doc-md-description">
            <p>Optional function for generating embeddings from text.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
          <b><code><span title="memstate.integrations.chroma.AsyncChromaSyncHook.target_types">target_types</span></code></b>
              (<code><span title="set">set</span>[<span title="str">str</span>]</code>)
          –
          <div class="doc-md-description">
            <p>A set of fact types allowed for synchronization. If empty, all types are allowed.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
          <b><code><span title="memstate.integrations.chroma.AsyncChromaSyncHook.text_field">text_field</span></code></b>
              (<code><span title="str">str</span> | None</code>)
          –
          <div class="doc-md-description">
            <p>Field name of text in fact.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
          <b><code><span title="memstate.integrations.chroma.AsyncChromaSyncHook.text_formatter">text_formatter</span></code></b>
              (<code><span title="memstate.integrations.chroma.TextFormatter">TextFormatter</span> | None</code>)
          –
          <div class="doc-md-description">
            <p>Optional custom function for extracting text. Overrides <code>text_field</code> if provided.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
          <b><code><span title="memstate.integrations.chroma.AsyncChromaSyncHook.metadata_fields">metadata_fields</span></code></b>
              (<code><span title="list">list</span>[<span title="str">str</span>]</code>)
          –
          <div class="doc-md-description">
            <p>The list of metadata fields to extract from the fact
payload. Used if no metadata formatter is provided.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
          <b><code><span title="memstate.integrations.chroma.AsyncChromaSyncHook.metadata_formatter">metadata_formatter</span></code></b>
              (<code><span title="memstate.integrations.chroma.MetadataFormatter">MetadataFormatter</span> | None</code>)
          –
          <div class="doc-md-description">
            <p>Optional custom function for extracting metadata.
Overrides <code>metadata_fields</code> if provided.</p>
          </div>
        </li>
    </ul>

          











<p><span class="doc-section-title">Methods:</span></p>
    <ul>
          <li class="doc-section-item field-body">
            <b><code><a class="autorefs autorefs-internal" title="&lt;code class=&quot;doc-symbol doc-symbol-heading doc-symbol-method&quot;&gt;&lt;/code&gt;            &lt;span class=&quot;doc doc-object-name doc-function-name&quot;&gt;search&lt;/span&gt;


  &lt;span class=&quot;doc doc-labels&quot;&gt;
      &lt;small class=&quot;doc doc-label doc-label-async&quot;&gt;&lt;code&gt;async&lt;/code&gt;&lt;/small&gt;
  &lt;/span&gt; (&lt;code&gt;memstate.integrations.chroma.AsyncChromaSyncHook.search&lt;/code&gt;)" href="#memstate.integrations.chroma.AsyncChromaSyncHook.search">search</a></code></b>
            –
            <div class="doc-md-description">
              <p>Asynchronously searches for results based on a query string, a specified limit, and optional filters.</p>
            </div>
          </li>
    </ul>



                  <details class="mkdocstrings-source">
                    <summary>Source code in <code>memstate/integrations/chroma.py</code></summary>
                    <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-231">231</a></span>
<span class="normal"><a href="#__codelineno-0-232">232</a></span>
<span class="normal"><a href="#__codelineno-0-233">233</a></span>
<span class="normal"><a href="#__codelineno-0-234">234</a></span>
<span class="normal"><a href="#__codelineno-0-235">235</a></span>
<span class="normal"><a href="#__codelineno-0-236">236</a></span>
<span class="normal"><a href="#__codelineno-0-237">237</a></span>
<span class="normal"><a href="#__codelineno-0-238">238</a></span>
<span class="normal"><a href="#__codelineno-0-239">239</a></span>
<span class="normal"><a href="#__codelineno-0-240">240</a></span>
<span class="normal"><a href="#__codelineno-0-241">241</a></span>
<span class="normal"><a href="#__codelineno-0-242">242</a></span>
<span class="normal"><a href="#__codelineno-0-243">243</a></span>
<span class="normal"><a href="#__codelineno-0-244">244</a></span>
<span class="normal"><a href="#__codelineno-0-245">245</a></span>
<span class="normal"><a href="#__codelineno-0-246">246</a></span>
<span class="normal"><a href="#__codelineno-0-247">247</a></span>
<span class="normal"><a href="#__codelineno-0-248">248</a></span>
<span class="normal"><a href="#__codelineno-0-249">249</a></span>
<span class="normal"><a href="#__codelineno-0-250">250</a></span>
<span class="normal"><a href="#__codelineno-0-251">251</a></span>
<span class="normal"><a href="#__codelineno-0-252">252</a></span>
<span class="normal"><a href="#__codelineno-0-253">253</a></span>
<span class="normal"><a href="#__codelineno-0-254">254</a></span>
<span class="normal"><a href="#__codelineno-0-255">255</a></span>
<span class="normal"><a href="#__codelineno-0-256">256</a></span>
<span class="normal"><a href="#__codelineno-0-257">257</a></span>
<span class="normal"><a href="#__codelineno-0-258">258</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-231" name="__codelineno-0-231"></a><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
<a id="__codelineno-0-232" name="__codelineno-0-232"></a>    <span class="bp">self</span><span class="p">,</span>
<a id="__codelineno-0-233" name="__codelineno-0-233"></a>    <span class="n">client</span><span class="p">:</span> <span class="n">AsyncClientAPI</span><span class="p">,</span>
<a id="__codelineno-0-234" name="__codelineno-0-234"></a>    <span class="n">collection_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
<a id="__codelineno-0-235" name="__codelineno-0-235"></a>    <span class="n">embedding_fn</span><span class="p">:</span> <span class="n">EmbeddingFunction</span><span class="p">[</span><span class="n">Embeddable</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-236" name="__codelineno-0-236"></a>    <span class="n">target_types</span><span class="p">:</span> <span class="nb">set</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-237" name="__codelineno-0-237"></a>    <span class="n">text_field</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-238" name="__codelineno-0-238"></a>    <span class="n">text_formatter</span><span class="p">:</span> <span class="n">TextFormatter</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-239" name="__codelineno-0-239"></a>    <span class="n">metadata_fields</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-240" name="__codelineno-0-240"></a>    <span class="n">metadata_formatter</span><span class="p">:</span> <span class="n">MetadataFormatter</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-241" name="__codelineno-0-241"></a><span class="p">):</span>
<a id="__codelineno-0-242" name="__codelineno-0-242"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">client</span> <span class="o">=</span> <span class="n">client</span>
<a id="__codelineno-0-243" name="__codelineno-0-243"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">collection_name</span> <span class="o">=</span> <span class="n">collection_name</span>
<a id="__codelineno-0-244" name="__codelineno-0-244"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">embedding_fn</span> <span class="o">=</span> <span class="n">embedding_fn</span>
<a id="__codelineno-0-245" name="__codelineno-0-245"></a>
<a id="__codelineno-0-246" name="__codelineno-0-246"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_collection</span><span class="p">:</span> <span class="n">AsyncCollection</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
<a id="__codelineno-0-247" name="__codelineno-0-247"></a>
<a id="__codelineno-0-248" name="__codelineno-0-248"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">target_types</span> <span class="o">=</span> <span class="n">target_types</span> <span class="ow">or</span> <span class="nb">set</span><span class="p">()</span>
<a id="__codelineno-0-249" name="__codelineno-0-249"></a>
<a id="__codelineno-0-250" name="__codelineno-0-250"></a>    <span class="k">if</span> <span class="n">text_formatter</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-251" name="__codelineno-0-251"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_extract_text</span> <span class="o">=</span> <span class="n">text_formatter</span>
<a id="__codelineno-0-252" name="__codelineno-0-252"></a>    <span class="k">elif</span> <span class="n">text_field</span><span class="p">:</span>
<a id="__codelineno-0-253" name="__codelineno-0-253"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_extract_text</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">data</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">text_field</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">))</span>
<a id="__codelineno-0-254" name="__codelineno-0-254"></a>    <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-255" name="__codelineno-0-255"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_extract_text</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">data</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<a id="__codelineno-0-256" name="__codelineno-0-256"></a>
<a id="__codelineno-0-257" name="__codelineno-0-257"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">metadata_fields</span> <span class="o">=</span> <span class="n">metadata_fields</span> <span class="ow">or</span> <span class="p">[]</span>
<a id="__codelineno-0-258" name="__codelineno-0-258"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">metadata_formatter</span> <span class="o">=</span> <span class="n">metadata_formatter</span>
</code></pre></div></td></tr></table></div>
                  </details>



<div class="doc doc-children">










<div class="doc doc-object doc-function">


<h4 id="memstate.integrations.chroma.AsyncChromaSyncHook.search" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">search</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h4>
<div class="language-python doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">search</span><span class="p">(</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>    <span class="n"><a class="autorefs autorefs-internal" title="&lt;b&gt;&lt;code&gt;query&lt;/code&gt;&lt;/b&gt; (&lt;code&gt;memstate.integrations.chroma.AsyncChromaSyncHook.search(query)&lt;/code&gt;)" href="#memstate.integrations.chroma.AsyncChromaSyncHook.search(query)">query</a></span><span class="p">:</span> <span class="n"><span title="str">str</span></span><span class="p">,</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>    <span class="n"><a class="autorefs autorefs-internal" title="&lt;b&gt;&lt;code&gt;limit&lt;/code&gt;&lt;/b&gt; (&lt;code&gt;memstate.integrations.chroma.AsyncChromaSyncHook.search(limit)&lt;/code&gt;)" href="#memstate.integrations.chroma.AsyncChromaSyncHook.search(limit)">limit</a></span><span class="p">:</span> <span class="n"><span title="int">int</span></span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>    <span class="n"><a class="autorefs autorefs-internal" title="&lt;b&gt;&lt;code&gt;filters&lt;/code&gt;&lt;/b&gt; (&lt;code&gt;memstate.integrations.chroma.AsyncChromaSyncHook.search(filters)&lt;/code&gt;)" href="#memstate.integrations.chroma.AsyncChromaSyncHook.search(filters)">filters</a></span><span class="p">:</span> <span class="n"><span title="dict">dict</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">,</span> <span class="n"><span title="typing.Any">Any</span></span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>    <span class="n"><a class="autorefs autorefs-internal" title="&lt;b&gt;&lt;code&gt;score_threshold&lt;/code&gt;&lt;/b&gt; (&lt;code&gt;memstate.integrations.chroma.AsyncChromaSyncHook.search(score_threshold)&lt;/code&gt;)" href="#memstate.integrations.chroma.AsyncChromaSyncHook.search(score_threshold)">score_threshold</a></span><span class="p">:</span> <span class="n"><span title="float">float</span></span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><span title="list">list</span></span><span class="p">[</span><span class="n"><span title="memstate.schemas.SearchResult">SearchResult</span></span><span class="p">]</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Asynchronously searches for results based on a query string, a specified limit, and optional filters.</p>
<p>This function performs a search and returns a list of results
matching the input query. The number of results returned can
be limited by the <code>limit</code> parameter. Filters can also be applied
to refine the search. If no filters are provided, the search is
performed without additional constraints.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
<h5 id="memstate.integrations.chroma.AsyncChromaSyncHook.search(query)" class="doc doc-heading doc-heading-parameter">              <b><code>query</code></b>
</h5>              (<code><span title="str">str</span></code>)
          –
          <div class="doc-md-description">
            <p>A string representing the search query.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
<h5 id="memstate.integrations.chroma.AsyncChromaSyncHook.search(limit)" class="doc doc-heading doc-heading-parameter">              <b><code>limit</code></b>
</h5>              (<code><span title="int">int</span></code>, default:
                  <code>5</code>
)
          –
          <div class="doc-md-description">
            <p>An integer specifying the maximum number of results to return. Defaults to 5.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
<h5 id="memstate.integrations.chroma.AsyncChromaSyncHook.search(filters)" class="doc doc-heading doc-heading-parameter">              <b><code>filters</code></b>
</h5>              (<code><span title="dict">dict</span> | None</code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>Metadata filters using ChromaDB syntax.
This is passed directly to the 'where' parameter.
Examples:
    - Exact match: <code>{"role": "user"}</code>
    - Comparison: <code>{"age": {"$gt": 20}}</code>
    - Logic: <code>{"$and": [{"role": "user"}, {"active": true}]}</code></p>
          </div>
        </li>
        <li class="doc-section-item field-body">
<h5 id="memstate.integrations.chroma.AsyncChromaSyncHook.search(score_threshold)" class="doc doc-heading doc-heading-parameter">              <b><code>score_threshold</code></b>
</h5>              (<code><span title="float">float</span> | None</code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>Filters out results that are "too far" from the query.
Since Chroma uses Distance metric:
- 0.0 means exact match.
- Higher values mean less similar.
This parameter sets the <strong>Maximum Distance</strong>.
(e.g., set to 1.2 to filter out irrelevant noise).</p>
          </div>
        </li>
    </ul>
        <p>Returns:
    A list of <code>SearchResult</code> objects corresponding to the
        matches found according to the query, limit, and filters.</p>

          

            <details class="mkdocstrings-source">
              <summary>Source code in <code>memstate/integrations/chroma.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-342">342</a></span>
<span class="normal"><a href="#__codelineno-0-343">343</a></span>
<span class="normal"><a href="#__codelineno-0-344">344</a></span>
<span class="normal"><a href="#__codelineno-0-345">345</a></span>
<span class="normal"><a href="#__codelineno-0-346">346</a></span>
<span class="normal"><a href="#__codelineno-0-347">347</a></span>
<span class="normal"><a href="#__codelineno-0-348">348</a></span>
<span class="normal"><a href="#__codelineno-0-349">349</a></span>
<span class="normal"><a href="#__codelineno-0-350">350</a></span>
<span class="normal"><a href="#__codelineno-0-351">351</a></span>
<span class="normal"><a href="#__codelineno-0-352">352</a></span>
<span class="normal"><a href="#__codelineno-0-353">353</a></span>
<span class="normal"><a href="#__codelineno-0-354">354</a></span>
<span class="normal"><a href="#__codelineno-0-355">355</a></span>
<span class="normal"><a href="#__codelineno-0-356">356</a></span>
<span class="normal"><a href="#__codelineno-0-357">357</a></span>
<span class="normal"><a href="#__codelineno-0-358">358</a></span>
<span class="normal"><a href="#__codelineno-0-359">359</a></span>
<span class="normal"><a href="#__codelineno-0-360">360</a></span>
<span class="normal"><a href="#__codelineno-0-361">361</a></span>
<span class="normal"><a href="#__codelineno-0-362">362</a></span>
<span class="normal"><a href="#__codelineno-0-363">363</a></span>
<span class="normal"><a href="#__codelineno-0-364">364</a></span>
<span class="normal"><a href="#__codelineno-0-365">365</a></span>
<span class="normal"><a href="#__codelineno-0-366">366</a></span>
<span class="normal"><a href="#__codelineno-0-367">367</a></span>
<span class="normal"><a href="#__codelineno-0-368">368</a></span>
<span class="normal"><a href="#__codelineno-0-369">369</a></span>
<span class="normal"><a href="#__codelineno-0-370">370</a></span>
<span class="normal"><a href="#__codelineno-0-371">371</a></span>
<span class="normal"><a href="#__codelineno-0-372">372</a></span>
<span class="normal"><a href="#__codelineno-0-373">373</a></span>
<span class="normal"><a href="#__codelineno-0-374">374</a></span>
<span class="normal"><a href="#__codelineno-0-375">375</a></span>
<span class="normal"><a href="#__codelineno-0-376">376</a></span>
<span class="normal"><a href="#__codelineno-0-377">377</a></span>
<span class="normal"><a href="#__codelineno-0-378">378</a></span>
<span class="normal"><a href="#__codelineno-0-379">379</a></span>
<span class="normal"><a href="#__codelineno-0-380">380</a></span>
<span class="normal"><a href="#__codelineno-0-381">381</a></span>
<span class="normal"><a href="#__codelineno-0-382">382</a></span>
<span class="normal"><a href="#__codelineno-0-383">383</a></span>
<span class="normal"><a href="#__codelineno-0-384">384</a></span>
<span class="normal"><a href="#__codelineno-0-385">385</a></span>
<span class="normal"><a href="#__codelineno-0-386">386</a></span>
<span class="normal"><a href="#__codelineno-0-387">387</a></span>
<span class="normal"><a href="#__codelineno-0-388">388</a></span>
<span class="normal"><a href="#__codelineno-0-389">389</a></span>
<span class="normal"><a href="#__codelineno-0-390">390</a></span>
<span class="normal"><a href="#__codelineno-0-391">391</a></span>
<span class="normal"><a href="#__codelineno-0-392">392</a></span>
<span class="normal"><a href="#__codelineno-0-393">393</a></span>
<span class="normal"><a href="#__codelineno-0-394">394</a></span>
<span class="normal"><a href="#__codelineno-0-395">395</a></span>
<span class="normal"><a href="#__codelineno-0-396">396</a></span>
<span class="normal"><a href="#__codelineno-0-397">397</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-342" name="__codelineno-0-342"></a><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">search</span><span class="p">(</span>
<a id="__codelineno-0-343" name="__codelineno-0-343"></a>    <span class="bp">self</span><span class="p">,</span> <span class="n">query</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">limit</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span> <span class="n">filters</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">score_threshold</span><span class="p">:</span> <span class="nb">float</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
<a id="__codelineno-0-344" name="__codelineno-0-344"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">SearchResult</span><span class="p">]:</span>
<a id="__codelineno-0-345" name="__codelineno-0-345"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-346" name="__codelineno-0-346"></a><span class="sd">    Asynchronously searches for results based on a query string, a specified limit, and optional filters.</span>
<a id="__codelineno-0-347" name="__codelineno-0-347"></a>
<a id="__codelineno-0-348" name="__codelineno-0-348"></a><span class="sd">    This function performs a search and returns a list of results</span>
<a id="__codelineno-0-349" name="__codelineno-0-349"></a><span class="sd">    matching the input query. The number of results returned can</span>
<a id="__codelineno-0-350" name="__codelineno-0-350"></a><span class="sd">    be limited by the `limit` parameter. Filters can also be applied</span>
<a id="__codelineno-0-351" name="__codelineno-0-351"></a><span class="sd">    to refine the search. If no filters are provided, the search is</span>
<a id="__codelineno-0-352" name="__codelineno-0-352"></a><span class="sd">    performed without additional constraints.</span>
<a id="__codelineno-0-353" name="__codelineno-0-353"></a>
<a id="__codelineno-0-354" name="__codelineno-0-354"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-355" name="__codelineno-0-355"></a><span class="sd">        query (str): A string representing the search query.</span>
<a id="__codelineno-0-356" name="__codelineno-0-356"></a><span class="sd">        limit (int): An integer specifying the maximum number of results to return. Defaults to 5.</span>
<a id="__codelineno-0-357" name="__codelineno-0-357"></a><span class="sd">        filters (dict | None): Metadata filters using ChromaDB syntax.</span>
<a id="__codelineno-0-358" name="__codelineno-0-358"></a><span class="sd">            This is passed directly to the &#39;where&#39; parameter.</span>
<a id="__codelineno-0-359" name="__codelineno-0-359"></a><span class="sd">            Examples:</span>
<a id="__codelineno-0-360" name="__codelineno-0-360"></a><span class="sd">                - Exact match: `{&quot;role&quot;: &quot;user&quot;}`</span>
<a id="__codelineno-0-361" name="__codelineno-0-361"></a><span class="sd">                - Comparison: `{&quot;age&quot;: {&quot;$gt&quot;: 20}}`</span>
<a id="__codelineno-0-362" name="__codelineno-0-362"></a><span class="sd">                - Logic: `{&quot;$and&quot;: [{&quot;role&quot;: &quot;user&quot;}, {&quot;active&quot;: true}]}`</span>
<a id="__codelineno-0-363" name="__codelineno-0-363"></a><span class="sd">        score_threshold (float | None): Filters out results that are &quot;too far&quot; from the query.</span>
<a id="__codelineno-0-364" name="__codelineno-0-364"></a><span class="sd">            Since Chroma uses Distance metric:</span>
<a id="__codelineno-0-365" name="__codelineno-0-365"></a><span class="sd">            - 0.0 means exact match.</span>
<a id="__codelineno-0-366" name="__codelineno-0-366"></a><span class="sd">            - Higher values mean less similar.</span>
<a id="__codelineno-0-367" name="__codelineno-0-367"></a><span class="sd">            This parameter sets the **Maximum Distance**.</span>
<a id="__codelineno-0-368" name="__codelineno-0-368"></a><span class="sd">            (e.g., set to 1.2 to filter out irrelevant noise).</span>
<a id="__codelineno-0-369" name="__codelineno-0-369"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-370" name="__codelineno-0-370"></a><span class="sd">        A list of `SearchResult` objects corresponding to the</span>
<a id="__codelineno-0-371" name="__codelineno-0-371"></a><span class="sd">            matches found according to the query, limit, and filters.</span>
<a id="__codelineno-0-372" name="__codelineno-0-372"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-373" name="__codelineno-0-373"></a>    <span class="n">collection</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_collection</span><span class="p">()</span>
<a id="__codelineno-0-374" name="__codelineno-0-374"></a>
<a id="__codelineno-0-375" name="__codelineno-0-375"></a>    <span class="n">results</span> <span class="o">=</span> <span class="k">await</span> <span class="n">collection</span><span class="o">.</span><span class="n">query</span><span class="p">(</span>
<a id="__codelineno-0-376" name="__codelineno-0-376"></a>        <span class="n">query_texts</span><span class="o">=</span><span class="p">[</span><span class="n">query</span><span class="p">],</span>
<a id="__codelineno-0-377" name="__codelineno-0-377"></a>        <span class="n">n_results</span><span class="o">=</span><span class="n">limit</span><span class="p">,</span>
<a id="__codelineno-0-378" name="__codelineno-0-378"></a>        <span class="n">where</span><span class="o">=</span><span class="n">filters</span><span class="p">,</span>
<a id="__codelineno-0-379" name="__codelineno-0-379"></a>        <span class="n">include</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;distances&quot;</span><span class="p">],</span>
<a id="__codelineno-0-380" name="__codelineno-0-380"></a>    <span class="p">)</span>
<a id="__codelineno-0-381" name="__codelineno-0-381"></a>
<a id="__codelineno-0-382" name="__codelineno-0-382"></a>    <span class="n">ids</span> <span class="o">=</span> <span class="p">(</span><span class="n">results</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;ids&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="p">[[]])[</span><span class="mi">0</span><span class="p">]</span>
<a id="__codelineno-0-383" name="__codelineno-0-383"></a>    <span class="n">distances</span> <span class="o">=</span> <span class="p">(</span><span class="n">results</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;distances&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="p">[[]])[</span><span class="mi">0</span><span class="p">]</span>
<a id="__codelineno-0-384" name="__codelineno-0-384"></a>
<a id="__codelineno-0-385" name="__codelineno-0-385"></a>    <span class="k">if</span> <span class="ow">not</span> <span class="n">ids</span><span class="p">:</span>
<a id="__codelineno-0-386" name="__codelineno-0-386"></a>        <span class="k">return</span> <span class="p">[]</span>
<a id="__codelineno-0-387" name="__codelineno-0-387"></a>
<a id="__codelineno-0-388" name="__codelineno-0-388"></a>    <span class="n">search_results</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-0-389" name="__codelineno-0-389"></a>    <span class="k">for</span> <span class="n">fid</span><span class="p">,</span> <span class="n">dist</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">ids</span><span class="p">,</span> <span class="n">distances</span><span class="p">):</span>
<a id="__codelineno-0-390" name="__codelineno-0-390"></a>        <span class="n">val</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">dist</span><span class="p">)</span>
<a id="__codelineno-0-391" name="__codelineno-0-391"></a>
<a id="__codelineno-0-392" name="__codelineno-0-392"></a>        <span class="k">if</span> <span class="n">score_threshold</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">val</span> <span class="o">&gt;</span> <span class="n">score_threshold</span><span class="p">:</span>
<a id="__codelineno-0-393" name="__codelineno-0-393"></a>            <span class="k">continue</span>
<a id="__codelineno-0-394" name="__codelineno-0-394"></a>
<a id="__codelineno-0-395" name="__codelineno-0-395"></a>        <span class="n">search_results</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">SearchResult</span><span class="p">(</span><span class="n">fact_id</span><span class="o">=</span><span class="n">fid</span><span class="p">,</span> <span class="n">score</span><span class="o">=</span><span class="n">val</span><span class="p">))</span>
<a id="__codelineno-0-396" name="__codelineno-0-396"></a>
<a id="__codelineno-0-397" name="__codelineno-0-397"></a>    <span class="k">return</span> <span class="n">search_results</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="memstate.integrations.chroma.ChromaSyncHook" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">ChromaSyncHook</span>


</h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">ChromaSyncHook</span><span class="p">(</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>    <span class="n"><span title="memstate.integrations.chroma.ChromaSyncHook(client)">client</span></span><span class="p">:</span> <span class="n"><span title="chromadb.api.ClientAPI">ClientAPI</span></span><span class="p">,</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>    <span class="n"><span title="memstate.integrations.chroma.ChromaSyncHook(collection_name)">collection_name</span></span><span class="p">:</span> <span class="n"><span title="str">str</span></span><span class="p">,</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>    <span class="n"><span title="memstate.integrations.chroma.ChromaSyncHook(embedding_fn)">embedding_fn</span></span><span class="p">:</span> <span class="p">(</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>        <span class="n"><span title="chromadb.EmbeddingFunction">EmbeddingFunction</span></span><span class="p">[</span><span class="n"><span title="chromadb.api.Embeddable">Embeddable</span></span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>    <span class="p">)</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>    <span class="n"><span title="memstate.integrations.chroma.ChromaSyncHook(target_types)">target_types</span></span><span class="p">:</span> <span class="n"><span title="set">set</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>    <span class="n"><span title="memstate.integrations.chroma.ChromaSyncHook(text_field)">text_field</span></span><span class="p">:</span> <span class="n"><span title="str">str</span></span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a>    <span class="n"><span title="memstate.integrations.chroma.ChromaSyncHook(text_formatter)">text_formatter</span></span><span class="p">:</span> <span class="n"><span title="memstate.integrations.chroma.TextFormatter">TextFormatter</span></span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a>    <span class="n"><span title="memstate.integrations.chroma.ChromaSyncHook(metadata_fields)">metadata_fields</span></span><span class="p">:</span> <span class="n"><span title="list">list</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a>    <span class="n"><span title="memstate.integrations.chroma.ChromaSyncHook(metadata_formatter)">metadata_formatter</span></span><span class="p">:</span> <span class="n"><span title="memstate.integrations.chroma.MetadataFormatter">MetadataFormatter</span></span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="memstate.types.MemoryHook">MemoryHook</span></code></p>



        <p>Handles synchronization of memory data with Chroma collections by integrating
fact operations and data transformations.</p>
<p>This class is responsible for managing connections to a Chroma collection via
a Chroma client, extracting and formatting text and metadata as per the provided
configuration, and performing operations like deletion or upserting of facts
based on various triggers or operations. It also provides flexibility in defining
target data types, metadata extraction, text processing, and overall data
synchronization rules.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <ul>
        <li class="doc-section-item field-body">
          <b><code><span title="memstate.integrations.chroma.ChromaSyncHook.client">client</span></code></b>
              (<code><span title="chromadb.api.ClientAPI">ClientAPI</span></code>)
          –
          <div class="doc-md-description">
            <p>The Chroma client instance used for collection access and management.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
          <b><code><span title="memstate.integrations.chroma.ChromaSyncHook.collection_name">collection_name</span></code></b>
              (<code><span title="str">str</span></code>)
          –
          <div class="doc-md-description">
            <p>The name of the Chroma collection to be synchronized.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
          <b><code><span title="memstate.integrations.chroma.ChromaSyncHook.embedding_fn">embedding_fn</span></code></b>
              (<code><span title="chromadb.EmbeddingFunction">EmbeddingFunction</span> | None</code>)
          –
          <div class="doc-md-description">
            <p>Optional function for generating embeddings from text.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
          <b><code><span title="memstate.integrations.chroma.ChromaSyncHook.target_types">target_types</span></code></b>
              (<code><span title="set">set</span>[<span title="str">str</span>]</code>)
          –
          <div class="doc-md-description">
            <p>A set of fact types allowed for synchronization. If empty, all types are allowed.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
          <b><code><span title="memstate.integrations.chroma.ChromaSyncHook.text_field">text_field</span></code></b>
              (<code><span title="str">str</span> | None</code>)
          –
          <div class="doc-md-description">
            <p>Field name of text in fact.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
          <b><code><span title="memstate.integrations.chroma.ChromaSyncHook.text_formatter">text_formatter</span></code></b>
              (<code><span title="memstate.integrations.chroma.TextFormatter">TextFormatter</span> | None</code>)
          –
          <div class="doc-md-description">
            <p>Optional custom function for extracting text. Overrides <code>text_field</code> if provided.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
          <b><code><span title="memstate.integrations.chroma.ChromaSyncHook.metadata_fields">metadata_fields</span></code></b>
              (<code><span title="list">list</span>[<span title="str">str</span>]</code>)
          –
          <div class="doc-md-description">
            <p>The list of metadata fields to extract from the fact
payload. Used if no metadata formatter is provided.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
          <b><code><span title="memstate.integrations.chroma.ChromaSyncHook.metadata_formatter">metadata_formatter</span></code></b>
              (<code><span title="memstate.integrations.chroma.MetadataFormatter">MetadataFormatter</span> | None</code>)
          –
          <div class="doc-md-description">
            <p>Optional custom function for extracting metadata.
Overrides <code>metadata_fields</code> if provided.</p>
          </div>
        </li>
    </ul>

          











<p><span class="doc-section-title">Methods:</span></p>
    <ul>
          <li class="doc-section-item field-body">
            <b><code><a class="autorefs autorefs-internal" title="&lt;code class=&quot;doc-symbol doc-symbol-heading doc-symbol-method&quot;&gt;&lt;/code&gt;            &lt;span class=&quot;doc doc-object-name doc-function-name&quot;&gt;search&lt;/span&gt; (&lt;code&gt;memstate.integrations.chroma.ChromaSyncHook.search&lt;/code&gt;)" href="#memstate.integrations.chroma.ChromaSyncHook.search">search</a></code></b>
            –
            <div class="doc-md-description">
              <p>Searches for results based on a query string, a specified limit, and optional filters.</p>
            </div>
          </li>
    </ul>



                  <details class="mkdocstrings-source">
                    <summary>Source code in <code>memstate/integrations/chroma.py</code></summary>
                    <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-47">47</a></span>
<span class="normal"><a href="#__codelineno-0-48">48</a></span>
<span class="normal"><a href="#__codelineno-0-49">49</a></span>
<span class="normal"><a href="#__codelineno-0-50">50</a></span>
<span class="normal"><a href="#__codelineno-0-51">51</a></span>
<span class="normal"><a href="#__codelineno-0-52">52</a></span>
<span class="normal"><a href="#__codelineno-0-53">53</a></span>
<span class="normal"><a href="#__codelineno-0-54">54</a></span>
<span class="normal"><a href="#__codelineno-0-55">55</a></span>
<span class="normal"><a href="#__codelineno-0-56">56</a></span>
<span class="normal"><a href="#__codelineno-0-57">57</a></span>
<span class="normal"><a href="#__codelineno-0-58">58</a></span>
<span class="normal"><a href="#__codelineno-0-59">59</a></span>
<span class="normal"><a href="#__codelineno-0-60">60</a></span>
<span class="normal"><a href="#__codelineno-0-61">61</a></span>
<span class="normal"><a href="#__codelineno-0-62">62</a></span>
<span class="normal"><a href="#__codelineno-0-63">63</a></span>
<span class="normal"><a href="#__codelineno-0-64">64</a></span>
<span class="normal"><a href="#__codelineno-0-65">65</a></span>
<span class="normal"><a href="#__codelineno-0-66">66</a></span>
<span class="normal"><a href="#__codelineno-0-67">67</a></span>
<span class="normal"><a href="#__codelineno-0-68">68</a></span>
<span class="normal"><a href="#__codelineno-0-69">69</a></span>
<span class="normal"><a href="#__codelineno-0-70">70</a></span>
<span class="normal"><a href="#__codelineno-0-71">71</a></span>
<span class="normal"><a href="#__codelineno-0-72">72</a></span>
<span class="normal"><a href="#__codelineno-0-73">73</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-47" name="__codelineno-0-47"></a><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
<a id="__codelineno-0-48" name="__codelineno-0-48"></a>    <span class="bp">self</span><span class="p">,</span>
<a id="__codelineno-0-49" name="__codelineno-0-49"></a>    <span class="n">client</span><span class="p">:</span> <span class="n">ClientAPI</span><span class="p">,</span>
<a id="__codelineno-0-50" name="__codelineno-0-50"></a>    <span class="n">collection_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
<a id="__codelineno-0-51" name="__codelineno-0-51"></a>    <span class="n">embedding_fn</span><span class="p">:</span> <span class="n">EmbeddingFunction</span><span class="p">[</span><span class="n">Embeddable</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-52" name="__codelineno-0-52"></a>    <span class="n">target_types</span><span class="p">:</span> <span class="nb">set</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-53" name="__codelineno-0-53"></a>    <span class="n">text_field</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-54" name="__codelineno-0-54"></a>    <span class="n">text_formatter</span><span class="p">:</span> <span class="n">TextFormatter</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-55" name="__codelineno-0-55"></a>    <span class="n">metadata_fields</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-56" name="__codelineno-0-56"></a>    <span class="n">metadata_formatter</span><span class="p">:</span> <span class="n">MetadataFormatter</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-57" name="__codelineno-0-57"></a><span class="p">):</span>
<a id="__codelineno-0-58" name="__codelineno-0-58"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">client</span> <span class="o">=</span> <span class="n">client</span>
<a id="__codelineno-0-59" name="__codelineno-0-59"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">collection</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">get_or_create_collection</span><span class="p">(</span>
<a id="__codelineno-0-60" name="__codelineno-0-60"></a>        <span class="n">name</span><span class="o">=</span><span class="n">collection_name</span><span class="p">,</span>
<a id="__codelineno-0-61" name="__codelineno-0-61"></a>        <span class="n">embedding_function</span><span class="o">=</span><span class="n">embedding_fn</span><span class="p">,</span>
<a id="__codelineno-0-62" name="__codelineno-0-62"></a>    <span class="p">)</span>
<a id="__codelineno-0-63" name="__codelineno-0-63"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">target_types</span> <span class="o">=</span> <span class="n">target_types</span> <span class="ow">or</span> <span class="nb">set</span><span class="p">()</span>
<a id="__codelineno-0-64" name="__codelineno-0-64"></a>
<a id="__codelineno-0-65" name="__codelineno-0-65"></a>    <span class="k">if</span> <span class="n">text_formatter</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-66" name="__codelineno-0-66"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_extract_text</span> <span class="o">=</span> <span class="n">text_formatter</span>
<a id="__codelineno-0-67" name="__codelineno-0-67"></a>    <span class="k">elif</span> <span class="n">text_field</span><span class="p">:</span>
<a id="__codelineno-0-68" name="__codelineno-0-68"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_extract_text</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">data</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">text_field</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">))</span>
<a id="__codelineno-0-69" name="__codelineno-0-69"></a>    <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-70" name="__codelineno-0-70"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_extract_text</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">data</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<a id="__codelineno-0-71" name="__codelineno-0-71"></a>
<a id="__codelineno-0-72" name="__codelineno-0-72"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">metadata_fields</span> <span class="o">=</span> <span class="n">metadata_fields</span> <span class="ow">or</span> <span class="p">[]</span>
<a id="__codelineno-0-73" name="__codelineno-0-73"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">metadata_formatter</span> <span class="o">=</span> <span class="n">metadata_formatter</span>
</code></pre></div></td></tr></table></div>
                  </details>



<div class="doc doc-children">










<div class="doc doc-object doc-function">


<h4 id="memstate.integrations.chroma.ChromaSyncHook.search" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">search</span>


</h4>
<div class="language-python doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">search</span><span class="p">(</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>    <span class="n"><a class="autorefs autorefs-internal" title="&lt;b&gt;&lt;code&gt;query&lt;/code&gt;&lt;/b&gt; (&lt;code&gt;memstate.integrations.chroma.ChromaSyncHook.search(query)&lt;/code&gt;)" href="#memstate.integrations.chroma.ChromaSyncHook.search(query)">query</a></span><span class="p">:</span> <span class="n"><span title="str">str</span></span><span class="p">,</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>    <span class="n"><a class="autorefs autorefs-internal" title="&lt;b&gt;&lt;code&gt;limit&lt;/code&gt;&lt;/b&gt; (&lt;code&gt;memstate.integrations.chroma.ChromaSyncHook.search(limit)&lt;/code&gt;)" href="#memstate.integrations.chroma.ChromaSyncHook.search(limit)">limit</a></span><span class="p">:</span> <span class="n"><span title="int">int</span></span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>    <span class="n"><a class="autorefs autorefs-internal" title="&lt;b&gt;&lt;code&gt;filters&lt;/code&gt;&lt;/b&gt; (&lt;code&gt;memstate.integrations.chroma.ChromaSyncHook.search(filters)&lt;/code&gt;)" href="#memstate.integrations.chroma.ChromaSyncHook.search(filters)">filters</a></span><span class="p">:</span> <span class="n"><span title="dict">dict</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">,</span> <span class="n"><span title="typing.Any">Any</span></span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>    <span class="n"><a class="autorefs autorefs-internal" title="&lt;b&gt;&lt;code&gt;score_threshold&lt;/code&gt;&lt;/b&gt; (&lt;code&gt;memstate.integrations.chroma.ChromaSyncHook.search(score_threshold)&lt;/code&gt;)" href="#memstate.integrations.chroma.ChromaSyncHook.search(score_threshold)">score_threshold</a></span><span class="p">:</span> <span class="n"><span title="float">float</span></span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><span title="list">list</span></span><span class="p">[</span><span class="n"><span title="memstate.schemas.SearchResult">SearchResult</span></span><span class="p">]</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Searches for results based on a query string, a specified limit, and optional filters.</p>
<p>This function performs a search and returns a list of results
matching the input query. The number of results returned can
be limited by the <code>limit</code> parameter. Filters can also be applied
to refine the search. If no filters are provided, the search is
performed without additional constraints.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
<h5 id="memstate.integrations.chroma.ChromaSyncHook.search(query)" class="doc doc-heading doc-heading-parameter">              <b><code>query</code></b>
</h5>              (<code><span title="str">str</span></code>)
          –
          <div class="doc-md-description">
            <p>A string representing the search query.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
<h5 id="memstate.integrations.chroma.ChromaSyncHook.search(limit)" class="doc doc-heading doc-heading-parameter">              <b><code>limit</code></b>
</h5>              (<code><span title="int">int</span></code>, default:
                  <code>5</code>
)
          –
          <div class="doc-md-description">
            <p>An integer specifying the maximum number of results to return. Defaults to 5.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
<h5 id="memstate.integrations.chroma.ChromaSyncHook.search(filters)" class="doc doc-heading doc-heading-parameter">              <b><code>filters</code></b>
</h5>              (<code><span title="dict">dict</span> | None</code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>Metadata filters using ChromaDB syntax.
This is passed directly to the 'where' parameter.
Examples:
    - Exact match: <code>{"role": "user"}</code>
    - Comparison: <code>{"age": {"$gt": 20}}</code>
    - Logic: <code>{"$and": [{"role": "user"}, {"active": true}]}</code></p>
          </div>
        </li>
        <li class="doc-section-item field-body">
<h5 id="memstate.integrations.chroma.ChromaSyncHook.search(score_threshold)" class="doc doc-heading doc-heading-parameter">              <b><code>score_threshold</code></b>
</h5>              (<code><span title="float">float</span> | None</code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>Filters out results that are "too far" from the query.
Since Chroma uses Distance metric:
- 0.0 means exact match.
- Higher values mean less similar.
This parameter sets the <strong>Maximum Distance</strong>.
(e.g., set to 1.2 to filter out irrelevant noise).</p>
          </div>
        </li>
    </ul>
        <p>Returns:
    A list of <code>SearchResult</code> objects corresponding to the
        matches found according to the query, limit, and filters.</p>

          

            <details class="mkdocstrings-source">
              <summary>Source code in <code>memstate/integrations/chroma.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-142">142</a></span>
<span class="normal"><a href="#__codelineno-0-143">143</a></span>
<span class="normal"><a href="#__codelineno-0-144">144</a></span>
<span class="normal"><a href="#__codelineno-0-145">145</a></span>
<span class="normal"><a href="#__codelineno-0-146">146</a></span>
<span class="normal"><a href="#__codelineno-0-147">147</a></span>
<span class="normal"><a href="#__codelineno-0-148">148</a></span>
<span class="normal"><a href="#__codelineno-0-149">149</a></span>
<span class="normal"><a href="#__codelineno-0-150">150</a></span>
<span class="normal"><a href="#__codelineno-0-151">151</a></span>
<span class="normal"><a href="#__codelineno-0-152">152</a></span>
<span class="normal"><a href="#__codelineno-0-153">153</a></span>
<span class="normal"><a href="#__codelineno-0-154">154</a></span>
<span class="normal"><a href="#__codelineno-0-155">155</a></span>
<span class="normal"><a href="#__codelineno-0-156">156</a></span>
<span class="normal"><a href="#__codelineno-0-157">157</a></span>
<span class="normal"><a href="#__codelineno-0-158">158</a></span>
<span class="normal"><a href="#__codelineno-0-159">159</a></span>
<span class="normal"><a href="#__codelineno-0-160">160</a></span>
<span class="normal"><a href="#__codelineno-0-161">161</a></span>
<span class="normal"><a href="#__codelineno-0-162">162</a></span>
<span class="normal"><a href="#__codelineno-0-163">163</a></span>
<span class="normal"><a href="#__codelineno-0-164">164</a></span>
<span class="normal"><a href="#__codelineno-0-165">165</a></span>
<span class="normal"><a href="#__codelineno-0-166">166</a></span>
<span class="normal"><a href="#__codelineno-0-167">167</a></span>
<span class="normal"><a href="#__codelineno-0-168">168</a></span>
<span class="normal"><a href="#__codelineno-0-169">169</a></span>
<span class="normal"><a href="#__codelineno-0-170">170</a></span>
<span class="normal"><a href="#__codelineno-0-171">171</a></span>
<span class="normal"><a href="#__codelineno-0-172">172</a></span>
<span class="normal"><a href="#__codelineno-0-173">173</a></span>
<span class="normal"><a href="#__codelineno-0-174">174</a></span>
<span class="normal"><a href="#__codelineno-0-175">175</a></span>
<span class="normal"><a href="#__codelineno-0-176">176</a></span>
<span class="normal"><a href="#__codelineno-0-177">177</a></span>
<span class="normal"><a href="#__codelineno-0-178">178</a></span>
<span class="normal"><a href="#__codelineno-0-179">179</a></span>
<span class="normal"><a href="#__codelineno-0-180">180</a></span>
<span class="normal"><a href="#__codelineno-0-181">181</a></span>
<span class="normal"><a href="#__codelineno-0-182">182</a></span>
<span class="normal"><a href="#__codelineno-0-183">183</a></span>
<span class="normal"><a href="#__codelineno-0-184">184</a></span>
<span class="normal"><a href="#__codelineno-0-185">185</a></span>
<span class="normal"><a href="#__codelineno-0-186">186</a></span>
<span class="normal"><a href="#__codelineno-0-187">187</a></span>
<span class="normal"><a href="#__codelineno-0-188">188</a></span>
<span class="normal"><a href="#__codelineno-0-189">189</a></span>
<span class="normal"><a href="#__codelineno-0-190">190</a></span>
<span class="normal"><a href="#__codelineno-0-191">191</a></span>
<span class="normal"><a href="#__codelineno-0-192">192</a></span>
<span class="normal"><a href="#__codelineno-0-193">193</a></span>
<span class="normal"><a href="#__codelineno-0-194">194</a></span>
<span class="normal"><a href="#__codelineno-0-195">195</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-142" name="__codelineno-0-142"></a><span class="k">def</span><span class="w"> </span><span class="nf">search</span><span class="p">(</span>
<a id="__codelineno-0-143" name="__codelineno-0-143"></a>    <span class="bp">self</span><span class="p">,</span> <span class="n">query</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">limit</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span> <span class="n">filters</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">score_threshold</span><span class="p">:</span> <span class="nb">float</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
<a id="__codelineno-0-144" name="__codelineno-0-144"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">SearchResult</span><span class="p">]:</span>
<a id="__codelineno-0-145" name="__codelineno-0-145"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-146" name="__codelineno-0-146"></a><span class="sd">    Searches for results based on a query string, a specified limit, and optional filters.</span>
<a id="__codelineno-0-147" name="__codelineno-0-147"></a>
<a id="__codelineno-0-148" name="__codelineno-0-148"></a><span class="sd">    This function performs a search and returns a list of results</span>
<a id="__codelineno-0-149" name="__codelineno-0-149"></a><span class="sd">    matching the input query. The number of results returned can</span>
<a id="__codelineno-0-150" name="__codelineno-0-150"></a><span class="sd">    be limited by the `limit` parameter. Filters can also be applied</span>
<a id="__codelineno-0-151" name="__codelineno-0-151"></a><span class="sd">    to refine the search. If no filters are provided, the search is</span>
<a id="__codelineno-0-152" name="__codelineno-0-152"></a><span class="sd">    performed without additional constraints.</span>
<a id="__codelineno-0-153" name="__codelineno-0-153"></a>
<a id="__codelineno-0-154" name="__codelineno-0-154"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-155" name="__codelineno-0-155"></a><span class="sd">        query (str): A string representing the search query.</span>
<a id="__codelineno-0-156" name="__codelineno-0-156"></a><span class="sd">        limit (int): An integer specifying the maximum number of results to return. Defaults to 5.</span>
<a id="__codelineno-0-157" name="__codelineno-0-157"></a><span class="sd">        filters (dict | None): Metadata filters using ChromaDB syntax.</span>
<a id="__codelineno-0-158" name="__codelineno-0-158"></a><span class="sd">            This is passed directly to the &#39;where&#39; parameter.</span>
<a id="__codelineno-0-159" name="__codelineno-0-159"></a><span class="sd">            Examples:</span>
<a id="__codelineno-0-160" name="__codelineno-0-160"></a><span class="sd">                - Exact match: `{&quot;role&quot;: &quot;user&quot;}`</span>
<a id="__codelineno-0-161" name="__codelineno-0-161"></a><span class="sd">                - Comparison: `{&quot;age&quot;: {&quot;$gt&quot;: 20}}`</span>
<a id="__codelineno-0-162" name="__codelineno-0-162"></a><span class="sd">                - Logic: `{&quot;$and&quot;: [{&quot;role&quot;: &quot;user&quot;}, {&quot;active&quot;: true}]}`</span>
<a id="__codelineno-0-163" name="__codelineno-0-163"></a><span class="sd">        score_threshold (float | None): Filters out results that are &quot;too far&quot; from the query.</span>
<a id="__codelineno-0-164" name="__codelineno-0-164"></a><span class="sd">            Since Chroma uses Distance metric:</span>
<a id="__codelineno-0-165" name="__codelineno-0-165"></a><span class="sd">            - 0.0 means exact match.</span>
<a id="__codelineno-0-166" name="__codelineno-0-166"></a><span class="sd">            - Higher values mean less similar.</span>
<a id="__codelineno-0-167" name="__codelineno-0-167"></a><span class="sd">            This parameter sets the **Maximum Distance**.</span>
<a id="__codelineno-0-168" name="__codelineno-0-168"></a><span class="sd">            (e.g., set to 1.2 to filter out irrelevant noise).</span>
<a id="__codelineno-0-169" name="__codelineno-0-169"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-170" name="__codelineno-0-170"></a><span class="sd">        A list of `SearchResult` objects corresponding to the</span>
<a id="__codelineno-0-171" name="__codelineno-0-171"></a><span class="sd">            matches found according to the query, limit, and filters.</span>
<a id="__codelineno-0-172" name="__codelineno-0-172"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-173" name="__codelineno-0-173"></a>    <span class="n">results</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">collection</span><span class="o">.</span><span class="n">query</span><span class="p">(</span>
<a id="__codelineno-0-174" name="__codelineno-0-174"></a>        <span class="n">query_texts</span><span class="o">=</span><span class="p">[</span><span class="n">query</span><span class="p">],</span>
<a id="__codelineno-0-175" name="__codelineno-0-175"></a>        <span class="n">n_results</span><span class="o">=</span><span class="n">limit</span><span class="p">,</span>
<a id="__codelineno-0-176" name="__codelineno-0-176"></a>        <span class="n">where</span><span class="o">=</span><span class="n">filters</span><span class="p">,</span>
<a id="__codelineno-0-177" name="__codelineno-0-177"></a>        <span class="n">include</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;distances&quot;</span><span class="p">],</span>
<a id="__codelineno-0-178" name="__codelineno-0-178"></a>    <span class="p">)</span>
<a id="__codelineno-0-179" name="__codelineno-0-179"></a>
<a id="__codelineno-0-180" name="__codelineno-0-180"></a>    <span class="n">ids</span> <span class="o">=</span> <span class="p">(</span><span class="n">results</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;ids&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="p">[[]])[</span><span class="mi">0</span><span class="p">]</span>
<a id="__codelineno-0-181" name="__codelineno-0-181"></a>    <span class="n">distances</span> <span class="o">=</span> <span class="p">(</span><span class="n">results</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;distances&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="p">[[]])[</span><span class="mi">0</span><span class="p">]</span>
<a id="__codelineno-0-182" name="__codelineno-0-182"></a>
<a id="__codelineno-0-183" name="__codelineno-0-183"></a>    <span class="k">if</span> <span class="ow">not</span> <span class="n">ids</span><span class="p">:</span>
<a id="__codelineno-0-184" name="__codelineno-0-184"></a>        <span class="k">return</span> <span class="p">[]</span>
<a id="__codelineno-0-185" name="__codelineno-0-185"></a>
<a id="__codelineno-0-186" name="__codelineno-0-186"></a>    <span class="n">search_results</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-0-187" name="__codelineno-0-187"></a>    <span class="k">for</span> <span class="n">fid</span><span class="p">,</span> <span class="n">dist</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">ids</span><span class="p">,</span> <span class="n">distances</span><span class="p">):</span>
<a id="__codelineno-0-188" name="__codelineno-0-188"></a>        <span class="n">val</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">dist</span><span class="p">)</span>
<a id="__codelineno-0-189" name="__codelineno-0-189"></a>
<a id="__codelineno-0-190" name="__codelineno-0-190"></a>        <span class="k">if</span> <span class="n">score_threshold</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">val</span> <span class="o">&gt;</span> <span class="n">score_threshold</span><span class="p">:</span>
<a id="__codelineno-0-191" name="__codelineno-0-191"></a>            <span class="k">continue</span>
<a id="__codelineno-0-192" name="__codelineno-0-192"></a>
<a id="__codelineno-0-193" name="__codelineno-0-193"></a>        <span class="n">search_results</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">SearchResult</span><span class="p">(</span><span class="n">fact_id</span><span class="o">=</span><span class="n">fid</span><span class="p">,</span> <span class="n">score</span><span class="o">=</span><span class="n">val</span><span class="p">))</span>
<a id="__codelineno-0-194" name="__codelineno-0-194"></a>
<a id="__codelineno-0-195" name="__codelineno-0-195"></a>    <span class="k">return</span> <span class="n">search_results</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>




  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h2 id="memstate.integrations.langgraph" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-module"></code>            <span class="doc doc-object-name doc-module-name">langgraph</span>


</h2>

    <div class="doc doc-contents ">

        <p>LangGraph Checkpointer.</p>

          









<p><span class="doc-section-title">Classes:</span></p>
    <ul>
        <li class="doc-section-item field-body">
          <b><code><a class="autorefs autorefs-internal" title="&lt;code class=&quot;doc-symbol doc-symbol-heading doc-symbol-class&quot;&gt;&lt;/code&gt;            &lt;span class=&quot;doc doc-object-name doc-class-name&quot;&gt;AsyncMemStateCheckpointer&lt;/span&gt; (&lt;code&gt;memstate.integrations.langgraph.AsyncMemStateCheckpointer&lt;/code&gt;)" href="#memstate.integrations.langgraph.AsyncMemStateCheckpointer">AsyncMemStateCheckpointer</a></code></b>
          –
          <div class="doc-md-description">
            <p>Async manages the storage, retrieval, and deletion of checkpoint data in memory.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
          <b><code><a class="autorefs autorefs-internal" title="&lt;code class=&quot;doc-symbol doc-symbol-heading doc-symbol-class&quot;&gt;&lt;/code&gt;            &lt;span class=&quot;doc doc-object-name doc-class-name&quot;&gt;MemStateCheckpointer&lt;/span&gt; (&lt;code&gt;memstate.integrations.langgraph.MemStateCheckpointer&lt;/code&gt;)" href="#memstate.integrations.langgraph.MemStateCheckpointer">MemStateCheckpointer</a></code></b>
          –
          <div class="doc-md-description">
            <p>Manages the storage, retrieval, and deletion of checkpoint data in memory.</p>
          </div>
        </li>
    </ul>







<div class="doc doc-children">









<div class="doc doc-object doc-class">



<h3 id="memstate.integrations.langgraph.AsyncMemStateCheckpointer" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">AsyncMemStateCheckpointer</span>


</h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">AsyncMemStateCheckpointer</span><span class="p">(</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>    <span class="n"><span title="memstate.integrations.langgraph.AsyncMemStateCheckpointer(memory)">memory</span></span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="&lt;code class=&quot;doc-symbol doc-symbol-heading doc-symbol-class&quot;&gt;&lt;/code&gt;            &lt;span class=&quot;doc doc-object-name doc-class-name&quot;&gt;AsyncMemoryStore&lt;/span&gt; (&lt;code&gt;memstate.storage.AsyncMemoryStore&lt;/code&gt;)" href="../memstate/#memstate.storage.AsyncMemoryStore">AsyncMemoryStore</a></span><span class="p">,</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>    <span class="n"><span title="memstate.integrations.langgraph.AsyncMemStateCheckpointer(serde)">serde</span></span><span class="p">:</span> <span class="n"><span title="langgraph.checkpoint.base.SerializerProtocol">SerializerProtocol</span></span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="langgraph.checkpoint.base.BaseCheckpointSaver">BaseCheckpointSaver</span>[<span title="str">str</span>]</code></p>



        <p>Async manages the storage, retrieval, and deletion of checkpoint data in memory.</p>
<p>The AsyncMemStateCheckpointer class enables storing checkpoints using an in-memory
storage system, facilitating workflows that require checkpointing and versioning
mechanisms. It interacts with a memory store to persist checkpoint data and
associated metadata, supporting use cases that require checkpointer objects
functioning as temporary memory storage.</p>
<p>Pro Tip: LangGraph checkpoints can be noisy. To prevent them from cluttering your Vector DB,
set <code>target_types</code> in your Sync Hook to include only your semantic fact types (e.g., <code>{"memory", "knowledge"}</code>),
effectively ignoring the technical <code>langgraph_checkpoint</code> type.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <ul>
        <li class="doc-section-item field-body">
          <b><code><span title="memstate.integrations.langgraph.AsyncMemStateCheckpointer.memory">memory</span></code></b>
              (<code><a class="autorefs autorefs-internal" title="&lt;code class=&quot;doc-symbol doc-symbol-heading doc-symbol-class&quot;&gt;&lt;/code&gt;            &lt;span class=&quot;doc doc-object-name doc-class-name&quot;&gt;AsyncMemoryStore&lt;/span&gt; (&lt;code&gt;memstate.storage.AsyncMemoryStore&lt;/code&gt;)" href="../memstate/#memstate.storage.AsyncMemoryStore">AsyncMemoryStore</a></code>)
          –
          <div class="doc-md-description">
            <p>Reference to the memory store used for storage operations.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
          <b><code><span title="memstate.integrations.langgraph.AsyncMemStateCheckpointer.serde">serde</span></code></b>
              (<code><span title="langgraph.checkpoint.base.SerializerProtocol">SerializerProtocol</span></code>)
          –
          <div class="doc-md-description">
            <p>Serializer for serializing checkpoint data.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
          <b><code><span title="memstate.integrations.langgraph.AsyncMemStateCheckpointer.fact_type">fact_type</span></code></b>
              (<code><span title="str">str</span></code>)
          –
          <div class="doc-md-description">
            <p>String identifier for checkpoint facts within the memory store.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
          <b><code><span title="memstate.integrations.langgraph.AsyncMemStateCheckpointer.write_type">write_type</span></code></b>
              (<code><span title="str">str</span></code>)
          –
          <div class="doc-md-description">
            <p>String identifier for write facts within the memory store.</p>
          </div>
        </li>
    </ul>

          











<p><span class="doc-section-title">Methods:</span></p>
    <ul>
          <li class="doc-section-item field-body">
            <b><code><a class="autorefs autorefs-internal" title="&lt;code class=&quot;doc-symbol doc-symbol-heading doc-symbol-method&quot;&gt;&lt;/code&gt;            &lt;span class=&quot;doc doc-object-name doc-function-name&quot;&gt;adelete_thread&lt;/span&gt;


  &lt;span class=&quot;doc doc-labels&quot;&gt;
      &lt;small class=&quot;doc doc-label doc-label-async&quot;&gt;&lt;code&gt;async&lt;/code&gt;&lt;/small&gt;
  &lt;/span&gt; (&lt;code&gt;memstate.integrations.langgraph.AsyncMemStateCheckpointer.adelete_thread&lt;/code&gt;)" href="#memstate.integrations.langgraph.AsyncMemStateCheckpointer.adelete_thread">adelete_thread</a></code></b>
            –
            <div class="doc-md-description">
              <p>Asynchronously deletes a specific thread from memory by its identifier.</p>
            </div>
          </li>
          <li class="doc-section-item field-body">
            <b><code><a class="autorefs autorefs-internal" title="&lt;code class=&quot;doc-symbol doc-symbol-heading doc-symbol-method&quot;&gt;&lt;/code&gt;            &lt;span class=&quot;doc doc-object-name doc-function-name&quot;&gt;aget_tuple&lt;/span&gt;


  &lt;span class=&quot;doc doc-labels&quot;&gt;
      &lt;small class=&quot;doc doc-label doc-label-async&quot;&gt;&lt;code&gt;async&lt;/code&gt;&lt;/small&gt;
  &lt;/span&gt; (&lt;code&gt;memstate.integrations.langgraph.AsyncMemStateCheckpointer.aget_tuple&lt;/code&gt;)" href="#memstate.integrations.langgraph.AsyncMemStateCheckpointer.aget_tuple">aget_tuple</a></code></b>
            –
            <div class="doc-md-description">
              <p>Asynchronously gets a checkpoint tuple based on the provided configuration.</p>
            </div>
          </li>
          <li class="doc-section-item field-body">
            <b><code><a class="autorefs autorefs-internal" title="&lt;code class=&quot;doc-symbol doc-symbol-heading doc-symbol-method&quot;&gt;&lt;/code&gt;            &lt;span class=&quot;doc doc-object-name doc-function-name&quot;&gt;alist&lt;/span&gt;


  &lt;span class=&quot;doc doc-labels&quot;&gt;
      &lt;small class=&quot;doc doc-label doc-label-async&quot;&gt;&lt;code&gt;async&lt;/code&gt;&lt;/small&gt;
  &lt;/span&gt; (&lt;code&gt;memstate.integrations.langgraph.AsyncMemStateCheckpointer.alist&lt;/code&gt;)" href="#memstate.integrations.langgraph.AsyncMemStateCheckpointer.alist">alist</a></code></b>
            –
            <div class="doc-md-description">
              <p>Asynchronously list and yield checkpoint tuples based on given configuration and filters.</p>
            </div>
          </li>
          <li class="doc-section-item field-body">
            <b><code><a class="autorefs autorefs-internal" title="&lt;code class=&quot;doc-symbol doc-symbol-heading doc-symbol-method&quot;&gt;&lt;/code&gt;            &lt;span class=&quot;doc doc-object-name doc-function-name&quot;&gt;aput&lt;/span&gt;


  &lt;span class=&quot;doc doc-labels&quot;&gt;
      &lt;small class=&quot;doc doc-label doc-label-async&quot;&gt;&lt;code&gt;async&lt;/code&gt;&lt;/small&gt;
  &lt;/span&gt; (&lt;code&gt;memstate.integrations.langgraph.AsyncMemStateCheckpointer.aput&lt;/code&gt;)" href="#memstate.integrations.langgraph.AsyncMemStateCheckpointer.aput">aput</a></code></b>
            –
            <div class="doc-md-description">
              <p>Asynchronously updates the state of a process by committing checkpoint metadata into memory</p>
            </div>
          </li>
          <li class="doc-section-item field-body">
            <b><code><a class="autorefs autorefs-internal" title="&lt;code class=&quot;doc-symbol doc-symbol-heading doc-symbol-method&quot;&gt;&lt;/code&gt;            &lt;span class=&quot;doc doc-object-name doc-function-name&quot;&gt;aput_writes&lt;/span&gt;


  &lt;span class=&quot;doc doc-labels&quot;&gt;
      &lt;small class=&quot;doc doc-label doc-label-async&quot;&gt;&lt;code&gt;async&lt;/code&gt;&lt;/small&gt;
  &lt;/span&gt; (&lt;code&gt;memstate.integrations.langgraph.AsyncMemStateCheckpointer.aput_writes&lt;/code&gt;)" href="#memstate.integrations.langgraph.AsyncMemStateCheckpointer.aput_writes">aput_writes</a></code></b>
            –
            <div class="doc-md-description">
              <p>Asynchronously executes the operation to store a sequence of writes by committing them as facts into memory</p>
            </div>
          </li>
    </ul>



                  <details class="mkdocstrings-source">
                    <summary>Source code in <code>memstate/integrations/langgraph.py</code></summary>
                    <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-298">298</a></span>
<span class="normal"><a href="#__codelineno-0-299">299</a></span>
<span class="normal"><a href="#__codelineno-0-300">300</a></span>
<span class="normal"><a href="#__codelineno-0-301">301</a></span>
<span class="normal"><a href="#__codelineno-0-302">302</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-298" name="__codelineno-0-298"></a><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">memory</span><span class="p">:</span> <span class="n">AsyncMemoryStore</span><span class="p">,</span> <span class="n">serde</span><span class="p">:</span> <span class="n">SerializerProtocol</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-299" name="__codelineno-0-299"></a>    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">serde</span><span class="o">=</span><span class="n">serde</span> <span class="ow">or</span> <span class="n">JsonPlusSerializer</span><span class="p">())</span>
<a id="__codelineno-0-300" name="__codelineno-0-300"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">memory</span> <span class="o">=</span> <span class="n">memory</span>
<a id="__codelineno-0-301" name="__codelineno-0-301"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">fact_type</span> <span class="o">=</span> <span class="s2">&quot;langgraph_checkpoint&quot;</span>
<a id="__codelineno-0-302" name="__codelineno-0-302"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">write_type</span> <span class="o">=</span> <span class="s2">&quot;langgraph_write&quot;</span>
</code></pre></div></td></tr></table></div>
                  </details>



<div class="doc doc-children">










<div class="doc doc-object doc-function">


<h4 id="memstate.integrations.langgraph.AsyncMemStateCheckpointer.adelete_thread" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">adelete_thread</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h4>
<div class="language-python doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">adelete_thread</span><span class="p">(</span><span class="n"><a class="autorefs autorefs-internal" title="&lt;b&gt;&lt;code&gt;thread_id&lt;/code&gt;&lt;/b&gt; (&lt;code&gt;memstate.integrations.langgraph.AsyncMemStateCheckpointer.adelete_thread(thread_id)&lt;/code&gt;)" href="#memstate.integrations.langgraph.AsyncMemStateCheckpointer.adelete_thread(thread_id)">thread_id</a></span><span class="p">:</span> <span class="n"><span title="str">str</span></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Asynchronously deletes a specific thread from memory by its identifier.</p>
<p>This method removes the session associated with the given thread ID
from the memory, ensuring that it is no longer retained or accessed
in the system.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
<h5 id="memstate.integrations.langgraph.AsyncMemStateCheckpointer.adelete_thread(thread_id)" class="doc doc-heading doc-heading-parameter">              <b><code>thread_id</code></b>
</h5>              (<code><span title="str">str</span></code>)
          –
          <div class="doc-md-description">
            <p>The unique identifier of the thread to be deleted.</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code>None</code>
          –
          <div class="doc-md-description">
            <p>This method does not return any value.</p>
          </div>
        </li>
    </ul>

          

            <details class="mkdocstrings-source">
              <summary>Source code in <code>memstate/integrations/langgraph.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-521">521</a></span>
<span class="normal"><a href="#__codelineno-0-522">522</a></span>
<span class="normal"><a href="#__codelineno-0-523">523</a></span>
<span class="normal"><a href="#__codelineno-0-524">524</a></span>
<span class="normal"><a href="#__codelineno-0-525">525</a></span>
<span class="normal"><a href="#__codelineno-0-526">526</a></span>
<span class="normal"><a href="#__codelineno-0-527">527</a></span>
<span class="normal"><a href="#__codelineno-0-528">528</a></span>
<span class="normal"><a href="#__codelineno-0-529">529</a></span>
<span class="normal"><a href="#__codelineno-0-530">530</a></span>
<span class="normal"><a href="#__codelineno-0-531">531</a></span>
<span class="normal"><a href="#__codelineno-0-532">532</a></span>
<span class="normal"><a href="#__codelineno-0-533">533</a></span>
<span class="normal"><a href="#__codelineno-0-534">534</a></span>
<span class="normal"><a href="#__codelineno-0-535">535</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-521" name="__codelineno-0-521"></a><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">adelete_thread</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">thread_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-522" name="__codelineno-0-522"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-523" name="__codelineno-0-523"></a><span class="sd">    Asynchronously deletes a specific thread from memory by its identifier.</span>
<a id="__codelineno-0-524" name="__codelineno-0-524"></a>
<a id="__codelineno-0-525" name="__codelineno-0-525"></a><span class="sd">    This method removes the session associated with the given thread ID</span>
<a id="__codelineno-0-526" name="__codelineno-0-526"></a><span class="sd">    from the memory, ensuring that it is no longer retained or accessed</span>
<a id="__codelineno-0-527" name="__codelineno-0-527"></a><span class="sd">    in the system.</span>
<a id="__codelineno-0-528" name="__codelineno-0-528"></a>
<a id="__codelineno-0-529" name="__codelineno-0-529"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-530" name="__codelineno-0-530"></a><span class="sd">        thread_id (str): The unique identifier of the thread to be deleted.</span>
<a id="__codelineno-0-531" name="__codelineno-0-531"></a>
<a id="__codelineno-0-532" name="__codelineno-0-532"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-533" name="__codelineno-0-533"></a><span class="sd">        This method does not return any value.</span>
<a id="__codelineno-0-534" name="__codelineno-0-534"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-535" name="__codelineno-0-535"></a>    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">memory</span><span class="o">.</span><span class="n">discard_session</span><span class="p">(</span><span class="n">thread_id</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="memstate.integrations.langgraph.AsyncMemStateCheckpointer.aget_tuple" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">aget_tuple</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h4>
<div class="language-python doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">aget_tuple</span><span class="p">(</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>    <span class="n"><a class="autorefs autorefs-internal" title="&lt;b&gt;&lt;code&gt;config&lt;/code&gt;&lt;/b&gt; (&lt;code&gt;memstate.integrations.langgraph.AsyncMemStateCheckpointer.aget_tuple(config)&lt;/code&gt;)" href="#memstate.integrations.langgraph.AsyncMemStateCheckpointer.aget_tuple(config)">config</a></span><span class="p">:</span> <span class="n"><span title="langchain_core.runnables.RunnableConfig">RunnableConfig</span></span><span class="p">,</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><span title="langgraph.checkpoint.base.CheckpointTuple">CheckpointTuple</span></span> <span class="o">|</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Asynchronously gets a checkpoint tuple based on the provided configuration.</p>
<p>This method queries memory to retrieve facts associated with a specific thread ID
from the configuration. Depending on whether a thread timestamp is provided,
it selects the most recent fact or the one matching the given timestamp.
Finally, it reconstructs the checkpoint tuple based on the retrieved fact's payload.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
<h5 id="memstate.integrations.langgraph.AsyncMemStateCheckpointer.aget_tuple(config)" class="doc doc-heading doc-heading-parameter">              <b><code>config</code></b>
</h5>              (<code><span title="langchain_core.runnables.RunnableConfig">RunnableConfig</span></code>)
          –
          <div class="doc-md-description">
            <p>Configuration object containing thread-specific retrieval
data, including <code>thread_id</code> and optionally <code>thread_ts</code>.</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code><span title="langgraph.checkpoint.base.CheckpointTuple">CheckpointTuple</span> | None</code>
          –
          <div class="doc-md-description">
            <p>A <code>CheckpointTuple</code> containing the retrieved checkpoint data if a fact is found, otherwise <code>None</code>.</p>
          </div>
        </li>
    </ul>

          

            <details class="mkdocstrings-source">
              <summary>Source code in <code>memstate/integrations/langgraph.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-400">400</a></span>
<span class="normal"><a href="#__codelineno-0-401">401</a></span>
<span class="normal"><a href="#__codelineno-0-402">402</a></span>
<span class="normal"><a href="#__codelineno-0-403">403</a></span>
<span class="normal"><a href="#__codelineno-0-404">404</a></span>
<span class="normal"><a href="#__codelineno-0-405">405</a></span>
<span class="normal"><a href="#__codelineno-0-406">406</a></span>
<span class="normal"><a href="#__codelineno-0-407">407</a></span>
<span class="normal"><a href="#__codelineno-0-408">408</a></span>
<span class="normal"><a href="#__codelineno-0-409">409</a></span>
<span class="normal"><a href="#__codelineno-0-410">410</a></span>
<span class="normal"><a href="#__codelineno-0-411">411</a></span>
<span class="normal"><a href="#__codelineno-0-412">412</a></span>
<span class="normal"><a href="#__codelineno-0-413">413</a></span>
<span class="normal"><a href="#__codelineno-0-414">414</a></span>
<span class="normal"><a href="#__codelineno-0-415">415</a></span>
<span class="normal"><a href="#__codelineno-0-416">416</a></span>
<span class="normal"><a href="#__codelineno-0-417">417</a></span>
<span class="normal"><a href="#__codelineno-0-418">418</a></span>
<span class="normal"><a href="#__codelineno-0-419">419</a></span>
<span class="normal"><a href="#__codelineno-0-420">420</a></span>
<span class="normal"><a href="#__codelineno-0-421">421</a></span>
<span class="normal"><a href="#__codelineno-0-422">422</a></span>
<span class="normal"><a href="#__codelineno-0-423">423</a></span>
<span class="normal"><a href="#__codelineno-0-424">424</a></span>
<span class="normal"><a href="#__codelineno-0-425">425</a></span>
<span class="normal"><a href="#__codelineno-0-426">426</a></span>
<span class="normal"><a href="#__codelineno-0-427">427</a></span>
<span class="normal"><a href="#__codelineno-0-428">428</a></span>
<span class="normal"><a href="#__codelineno-0-429">429</a></span>
<span class="normal"><a href="#__codelineno-0-430">430</a></span>
<span class="normal"><a href="#__codelineno-0-431">431</a></span>
<span class="normal"><a href="#__codelineno-0-432">432</a></span>
<span class="normal"><a href="#__codelineno-0-433">433</a></span>
<span class="normal"><a href="#__codelineno-0-434">434</a></span>
<span class="normal"><a href="#__codelineno-0-435">435</a></span>
<span class="normal"><a href="#__codelineno-0-436">436</a></span>
<span class="normal"><a href="#__codelineno-0-437">437</a></span>
<span class="normal"><a href="#__codelineno-0-438">438</a></span>
<span class="normal"><a href="#__codelineno-0-439">439</a></span>
<span class="normal"><a href="#__codelineno-0-440">440</a></span>
<span class="normal"><a href="#__codelineno-0-441">441</a></span>
<span class="normal"><a href="#__codelineno-0-442">442</a></span>
<span class="normal"><a href="#__codelineno-0-443">443</a></span>
<span class="normal"><a href="#__codelineno-0-444">444</a></span>
<span class="normal"><a href="#__codelineno-0-445">445</a></span>
<span class="normal"><a href="#__codelineno-0-446">446</a></span>
<span class="normal"><a href="#__codelineno-0-447">447</a></span>
<span class="normal"><a href="#__codelineno-0-448">448</a></span>
<span class="normal"><a href="#__codelineno-0-449">449</a></span>
<span class="normal"><a href="#__codelineno-0-450">450</a></span>
<span class="normal"><a href="#__codelineno-0-451">451</a></span>
<span class="normal"><a href="#__codelineno-0-452">452</a></span>
<span class="normal"><a href="#__codelineno-0-453">453</a></span>
<span class="normal"><a href="#__codelineno-0-454">454</a></span>
<span class="normal"><a href="#__codelineno-0-455">455</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-400" name="__codelineno-0-400"></a><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">aget_tuple</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config</span><span class="p">:</span> <span class="n">RunnableConfig</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">CheckpointTuple</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-401" name="__codelineno-0-401"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-402" name="__codelineno-0-402"></a><span class="sd">    Asynchronously gets a checkpoint tuple based on the provided configuration.</span>
<a id="__codelineno-0-403" name="__codelineno-0-403"></a>
<a id="__codelineno-0-404" name="__codelineno-0-404"></a><span class="sd">    This method queries memory to retrieve facts associated with a specific thread ID</span>
<a id="__codelineno-0-405" name="__codelineno-0-405"></a><span class="sd">    from the configuration. Depending on whether a thread timestamp is provided,</span>
<a id="__codelineno-0-406" name="__codelineno-0-406"></a><span class="sd">    it selects the most recent fact or the one matching the given timestamp.</span>
<a id="__codelineno-0-407" name="__codelineno-0-407"></a><span class="sd">    Finally, it reconstructs the checkpoint tuple based on the retrieved fact&#39;s payload.</span>
<a id="__codelineno-0-408" name="__codelineno-0-408"></a>
<a id="__codelineno-0-409" name="__codelineno-0-409"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-410" name="__codelineno-0-410"></a><span class="sd">        config (RunnableConfig): Configuration object containing thread-specific retrieval</span>
<a id="__codelineno-0-411" name="__codelineno-0-411"></a><span class="sd">            data, including `thread_id` and optionally `thread_ts`.</span>
<a id="__codelineno-0-412" name="__codelineno-0-412"></a>
<a id="__codelineno-0-413" name="__codelineno-0-413"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-414" name="__codelineno-0-414"></a><span class="sd">        A `CheckpointTuple` containing the retrieved checkpoint data if a fact is found, otherwise `None`.</span>
<a id="__codelineno-0-415" name="__codelineno-0-415"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-416" name="__codelineno-0-416"></a>    <span class="n">thread_id</span> <span class="o">=</span> <span class="n">config</span><span class="p">[</span><span class="s2">&quot;configurable&quot;</span><span class="p">][</span><span class="s2">&quot;thread_id&quot;</span><span class="p">]</span>
<a id="__codelineno-0-417" name="__codelineno-0-417"></a>    <span class="n">thread_ts</span> <span class="o">=</span> <span class="n">config</span><span class="p">[</span><span class="s2">&quot;configurable&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;thread_ts&quot;</span><span class="p">)</span>
<a id="__codelineno-0-418" name="__codelineno-0-418"></a>    <span class="n">checkpoint_ns</span> <span class="o">=</span> <span class="n">config</span><span class="p">[</span><span class="s2">&quot;configurable&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;checkpoint_ns&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
<a id="__codelineno-0-419" name="__codelineno-0-419"></a>
<a id="__codelineno-0-420" name="__codelineno-0-420"></a>    <span class="n">facts</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">memory</span><span class="o">.</span><span class="n">storage</span><span class="o">.</span><span class="n">query</span><span class="p">(</span>
<a id="__codelineno-0-421" name="__codelineno-0-421"></a>        <span class="n">type_filter</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">fact_type</span><span class="p">,</span> <span class="n">json_filters</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;session_id&quot;</span><span class="p">:</span> <span class="n">thread_id</span><span class="p">,</span> <span class="s2">&quot;payload.checkpoint_ns&quot;</span><span class="p">:</span> <span class="n">checkpoint_ns</span><span class="p">}</span>
<a id="__codelineno-0-422" name="__codelineno-0-422"></a>    <span class="p">)</span>
<a id="__codelineno-0-423" name="__codelineno-0-423"></a>
<a id="__codelineno-0-424" name="__codelineno-0-424"></a>    <span class="k">if</span> <span class="ow">not</span> <span class="n">facts</span><span class="p">:</span>
<a id="__codelineno-0-425" name="__codelineno-0-425"></a>        <span class="k">return</span> <span class="kc">None</span>
<a id="__codelineno-0-426" name="__codelineno-0-426"></a>
<a id="__codelineno-0-427" name="__codelineno-0-427"></a>    <span class="n">facts</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="s2">&quot;ts&quot;</span><span class="p">],</span> <span class="n">reverse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<a id="__codelineno-0-428" name="__codelineno-0-428"></a>
<a id="__codelineno-0-429" name="__codelineno-0-429"></a>    <span class="n">fact</span> <span class="o">=</span> <span class="kc">None</span>
<a id="__codelineno-0-430" name="__codelineno-0-430"></a>    <span class="k">if</span> <span class="n">thread_ts</span><span class="p">:</span>
<a id="__codelineno-0-431" name="__codelineno-0-431"></a>        <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">facts</span><span class="p">:</span>
<a id="__codelineno-0-432" name="__codelineno-0-432"></a>            <span class="k">if</span> <span class="n">f</span><span class="p">[</span><span class="s2">&quot;payload&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;thread_ts&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="n">thread_ts</span><span class="p">:</span>
<a id="__codelineno-0-433" name="__codelineno-0-433"></a>                <span class="n">fact</span> <span class="o">=</span> <span class="n">f</span>
<a id="__codelineno-0-434" name="__codelineno-0-434"></a>                <span class="k">break</span>
<a id="__codelineno-0-435" name="__codelineno-0-435"></a>    <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-436" name="__codelineno-0-436"></a>        <span class="n">fact</span> <span class="o">=</span> <span class="n">facts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<a id="__codelineno-0-437" name="__codelineno-0-437"></a>
<a id="__codelineno-0-438" name="__codelineno-0-438"></a>    <span class="k">if</span> <span class="ow">not</span> <span class="n">fact</span><span class="p">:</span>
<a id="__codelineno-0-439" name="__codelineno-0-439"></a>        <span class="k">return</span> <span class="kc">None</span>
<a id="__codelineno-0-440" name="__codelineno-0-440"></a>
<a id="__codelineno-0-441" name="__codelineno-0-441"></a>    <span class="n">payload</span> <span class="o">=</span> <span class="n">fact</span><span class="p">[</span><span class="s2">&quot;payload&quot;</span><span class="p">]</span>
<a id="__codelineno-0-442" name="__codelineno-0-442"></a>    <span class="n">checkpoint</span> <span class="o">=</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;checkpoint&quot;</span><span class="p">]</span>
<a id="__codelineno-0-443" name="__codelineno-0-443"></a>    <span class="n">pending_sends</span> <span class="o">=</span> <span class="n">checkpoint</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;pending_sends&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="p">[]</span>
<a id="__codelineno-0-444" name="__codelineno-0-444"></a>
<a id="__codelineno-0-445" name="__codelineno-0-445"></a>    <span class="n">saved_metadata</span> <span class="o">=</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;metadata&quot;</span><span class="p">]</span>
<a id="__codelineno-0-446" name="__codelineno-0-446"></a>    <span class="k">if</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;metadata&quot;</span><span class="p">):</span>
<a id="__codelineno-0-447" name="__codelineno-0-447"></a>        <span class="n">saved_metadata</span> <span class="o">=</span> <span class="p">{</span><span class="o">**</span><span class="n">saved_metadata</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span><span class="p">[</span><span class="s2">&quot;metadata&quot;</span><span class="p">]}</span>
<a id="__codelineno-0-448" name="__codelineno-0-448"></a>
<a id="__codelineno-0-449" name="__codelineno-0-449"></a>    <span class="k">return</span> <span class="n">CheckpointTuple</span><span class="p">(</span>
<a id="__codelineno-0-450" name="__codelineno-0-450"></a>        <span class="n">config</span><span class="o">=</span><span class="n">config</span><span class="p">,</span>
<a id="__codelineno-0-451" name="__codelineno-0-451"></a>        <span class="n">checkpoint</span><span class="o">=</span><span class="n">checkpoint</span><span class="p">,</span>
<a id="__codelineno-0-452" name="__codelineno-0-452"></a>        <span class="n">metadata</span><span class="o">=</span><span class="n">saved_metadata</span><span class="p">,</span>
<a id="__codelineno-0-453" name="__codelineno-0-453"></a>        <span class="n">parent_config</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-454" name="__codelineno-0-454"></a>        <span class="n">pending_writes</span><span class="o">=</span><span class="n">pending_sends</span><span class="p">,</span>
<a id="__codelineno-0-455" name="__codelineno-0-455"></a>    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="memstate.integrations.langgraph.AsyncMemStateCheckpointer.alist" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">alist</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h4>
<div class="language-python doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">alist</span><span class="p">(</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>    <span class="n"><a class="autorefs autorefs-internal" title="&lt;b&gt;&lt;code&gt;config&lt;/code&gt;&lt;/b&gt; (&lt;code&gt;memstate.integrations.langgraph.AsyncMemStateCheckpointer.alist(config)&lt;/code&gt;)" href="#memstate.integrations.langgraph.AsyncMemStateCheckpointer.alist(config)">config</a></span><span class="p">:</span> <span class="n"><span title="langchain_core.runnables.RunnableConfig">RunnableConfig</span></span> <span class="o">|</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>    <span class="o">*</span><span class="p">,</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>    <span class="n"><a class="autorefs autorefs-internal" title="&lt;b&gt;&lt;code&gt;filter&lt;/code&gt;&lt;/b&gt; (&lt;code&gt;memstate.integrations.langgraph.AsyncMemStateCheckpointer.alist(filter)&lt;/code&gt;)" href="#memstate.integrations.langgraph.AsyncMemStateCheckpointer.alist(filter)">filter</a></span><span class="p">:</span> <span class="n"><span title="dict">dict</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">,</span> <span class="n"><span title="typing.Any">Any</span></span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>    <span class="n"><a class="autorefs autorefs-internal" title="&lt;b&gt;&lt;code&gt;before&lt;/code&gt;&lt;/b&gt; (&lt;code&gt;memstate.integrations.langgraph.AsyncMemStateCheckpointer.alist(before)&lt;/code&gt;)" href="#memstate.integrations.langgraph.AsyncMemStateCheckpointer.alist(before)">before</a></span><span class="p">:</span> <span class="n"><span title="langchain_core.runnables.RunnableConfig">RunnableConfig</span></span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>    <span class="n"><a class="autorefs autorefs-internal" title="&lt;b&gt;&lt;code&gt;limit&lt;/code&gt;&lt;/b&gt; (&lt;code&gt;memstate.integrations.langgraph.AsyncMemStateCheckpointer.alist(limit)&lt;/code&gt;)" href="#memstate.integrations.langgraph.AsyncMemStateCheckpointer.alist(limit)">limit</a></span><span class="p">:</span> <span class="n"><span title="int">int</span></span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><span title="typing.AsyncIterator">AsyncIterator</span></span><span class="p">[</span><span class="n"><span title="langgraph.checkpoint.base.CheckpointTuple">CheckpointTuple</span></span><span class="p">]</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Asynchronously list and yield checkpoint tuples based on given configuration and filters.</p>
<p>This function retrieves fact data stored in memory, optionally applies
filters based on configuration or other specified parameters, and yields
checkpoint tuples sorted by timestamp. The functionality includes support
for limiting the number of facts processed.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
<h5 id="memstate.integrations.langgraph.AsyncMemStateCheckpointer.alist(config)" class="doc doc-heading doc-heading-parameter">              <b><code>config</code></b>
</h5>              (<code><span title="langchain_core.runnables.RunnableConfig">RunnableConfig</span> | None</code>)
          –
          <div class="doc-md-description">
            <p>Configuration information for filtering facts. Optional.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
<h5 id="memstate.integrations.langgraph.AsyncMemStateCheckpointer.alist(filter)" class="doc doc-heading doc-heading-parameter">              <b><code>filter</code></b>
</h5>              (<code><span title="dict">dict</span>[<span title="str">str</span>, <span title="typing.Any">Any</span>] | None</code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>Additional criteria for filtering facts based on key-value pairs. Optional.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
<h5 id="memstate.integrations.langgraph.AsyncMemStateCheckpointer.alist(before)" class="doc doc-heading doc-heading-parameter">              <b><code>before</code></b>
</h5>              (<code><span title="langchain_core.runnables.RunnableConfig">RunnableConfig</span> | None</code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>Configuration object to apply filter before a certain criterion. Optional.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
<h5 id="memstate.integrations.langgraph.AsyncMemStateCheckpointer.alist(limit)" class="doc doc-heading doc-heading-parameter">              <b><code>limit</code></b>
</h5>              (<code><span title="int">int</span> | None</code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>Maximum number of facts to process and yield. Optional.</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code><span title="typing.AsyncIterator">AsyncIterator</span>[<span title="langgraph.checkpoint.base.CheckpointTuple">CheckpointTuple</span>]</code>
          –
          <div class="doc-md-description">
            <p>An iterator over checkpoint tuples derived from the filtered facts.</p>
          </div>
        </li>
    </ul>

          

            <details class="mkdocstrings-source">
              <summary>Source code in <code>memstate/integrations/langgraph.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-457">457</a></span>
<span class="normal"><a href="#__codelineno-0-458">458</a></span>
<span class="normal"><a href="#__codelineno-0-459">459</a></span>
<span class="normal"><a href="#__codelineno-0-460">460</a></span>
<span class="normal"><a href="#__codelineno-0-461">461</a></span>
<span class="normal"><a href="#__codelineno-0-462">462</a></span>
<span class="normal"><a href="#__codelineno-0-463">463</a></span>
<span class="normal"><a href="#__codelineno-0-464">464</a></span>
<span class="normal"><a href="#__codelineno-0-465">465</a></span>
<span class="normal"><a href="#__codelineno-0-466">466</a></span>
<span class="normal"><a href="#__codelineno-0-467">467</a></span>
<span class="normal"><a href="#__codelineno-0-468">468</a></span>
<span class="normal"><a href="#__codelineno-0-469">469</a></span>
<span class="normal"><a href="#__codelineno-0-470">470</a></span>
<span class="normal"><a href="#__codelineno-0-471">471</a></span>
<span class="normal"><a href="#__codelineno-0-472">472</a></span>
<span class="normal"><a href="#__codelineno-0-473">473</a></span>
<span class="normal"><a href="#__codelineno-0-474">474</a></span>
<span class="normal"><a href="#__codelineno-0-475">475</a></span>
<span class="normal"><a href="#__codelineno-0-476">476</a></span>
<span class="normal"><a href="#__codelineno-0-477">477</a></span>
<span class="normal"><a href="#__codelineno-0-478">478</a></span>
<span class="normal"><a href="#__codelineno-0-479">479</a></span>
<span class="normal"><a href="#__codelineno-0-480">480</a></span>
<span class="normal"><a href="#__codelineno-0-481">481</a></span>
<span class="normal"><a href="#__codelineno-0-482">482</a></span>
<span class="normal"><a href="#__codelineno-0-483">483</a></span>
<span class="normal"><a href="#__codelineno-0-484">484</a></span>
<span class="normal"><a href="#__codelineno-0-485">485</a></span>
<span class="normal"><a href="#__codelineno-0-486">486</a></span>
<span class="normal"><a href="#__codelineno-0-487">487</a></span>
<span class="normal"><a href="#__codelineno-0-488">488</a></span>
<span class="normal"><a href="#__codelineno-0-489">489</a></span>
<span class="normal"><a href="#__codelineno-0-490">490</a></span>
<span class="normal"><a href="#__codelineno-0-491">491</a></span>
<span class="normal"><a href="#__codelineno-0-492">492</a></span>
<span class="normal"><a href="#__codelineno-0-493">493</a></span>
<span class="normal"><a href="#__codelineno-0-494">494</a></span>
<span class="normal"><a href="#__codelineno-0-495">495</a></span>
<span class="normal"><a href="#__codelineno-0-496">496</a></span>
<span class="normal"><a href="#__codelineno-0-497">497</a></span>
<span class="normal"><a href="#__codelineno-0-498">498</a></span>
<span class="normal"><a href="#__codelineno-0-499">499</a></span>
<span class="normal"><a href="#__codelineno-0-500">500</a></span>
<span class="normal"><a href="#__codelineno-0-501">501</a></span>
<span class="normal"><a href="#__codelineno-0-502">502</a></span>
<span class="normal"><a href="#__codelineno-0-503">503</a></span>
<span class="normal"><a href="#__codelineno-0-504">504</a></span>
<span class="normal"><a href="#__codelineno-0-505">505</a></span>
<span class="normal"><a href="#__codelineno-0-506">506</a></span>
<span class="normal"><a href="#__codelineno-0-507">507</a></span>
<span class="normal"><a href="#__codelineno-0-508">508</a></span>
<span class="normal"><a href="#__codelineno-0-509">509</a></span>
<span class="normal"><a href="#__codelineno-0-510">510</a></span>
<span class="normal"><a href="#__codelineno-0-511">511</a></span>
<span class="normal"><a href="#__codelineno-0-512">512</a></span>
<span class="normal"><a href="#__codelineno-0-513">513</a></span>
<span class="normal"><a href="#__codelineno-0-514">514</a></span>
<span class="normal"><a href="#__codelineno-0-515">515</a></span>
<span class="normal"><a href="#__codelineno-0-516">516</a></span>
<span class="normal"><a href="#__codelineno-0-517">517</a></span>
<span class="normal"><a href="#__codelineno-0-518">518</a></span>
<span class="normal"><a href="#__codelineno-0-519">519</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-457" name="__codelineno-0-457"></a><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">alist</span><span class="p">(</span>
<a id="__codelineno-0-458" name="__codelineno-0-458"></a>    <span class="bp">self</span><span class="p">,</span>
<a id="__codelineno-0-459" name="__codelineno-0-459"></a>    <span class="n">config</span><span class="p">:</span> <span class="n">RunnableConfig</span> <span class="o">|</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-460" name="__codelineno-0-460"></a>    <span class="o">*</span><span class="p">,</span>
<a id="__codelineno-0-461" name="__codelineno-0-461"></a>    <span class="nb">filter</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-462" name="__codelineno-0-462"></a>    <span class="n">before</span><span class="p">:</span> <span class="n">RunnableConfig</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-463" name="__codelineno-0-463"></a>    <span class="n">limit</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-464" name="__codelineno-0-464"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncIterator</span><span class="p">[</span><span class="n">CheckpointTuple</span><span class="p">]:</span>
<a id="__codelineno-0-465" name="__codelineno-0-465"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-466" name="__codelineno-0-466"></a><span class="sd">    Asynchronously list and yield checkpoint tuples based on given configuration and filters.</span>
<a id="__codelineno-0-467" name="__codelineno-0-467"></a>
<a id="__codelineno-0-468" name="__codelineno-0-468"></a><span class="sd">    This function retrieves fact data stored in memory, optionally applies</span>
<a id="__codelineno-0-469" name="__codelineno-0-469"></a><span class="sd">    filters based on configuration or other specified parameters, and yields</span>
<a id="__codelineno-0-470" name="__codelineno-0-470"></a><span class="sd">    checkpoint tuples sorted by timestamp. The functionality includes support</span>
<a id="__codelineno-0-471" name="__codelineno-0-471"></a><span class="sd">    for limiting the number of facts processed.</span>
<a id="__codelineno-0-472" name="__codelineno-0-472"></a>
<a id="__codelineno-0-473" name="__codelineno-0-473"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-474" name="__codelineno-0-474"></a><span class="sd">        config (RunnableConfig | None): Configuration information for filtering facts. Optional.</span>
<a id="__codelineno-0-475" name="__codelineno-0-475"></a><span class="sd">        filter (dict[str, Any] | None): Additional criteria for filtering facts based on key-value pairs. Optional.</span>
<a id="__codelineno-0-476" name="__codelineno-0-476"></a><span class="sd">        before (RunnableConfig | None): Configuration object to apply filter before a certain criterion. Optional.</span>
<a id="__codelineno-0-477" name="__codelineno-0-477"></a><span class="sd">        limit (int | None): Maximum number of facts to process and yield. Optional.</span>
<a id="__codelineno-0-478" name="__codelineno-0-478"></a>
<a id="__codelineno-0-479" name="__codelineno-0-479"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-480" name="__codelineno-0-480"></a><span class="sd">        An iterator over checkpoint tuples derived from the filtered facts.</span>
<a id="__codelineno-0-481" name="__codelineno-0-481"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-482" name="__codelineno-0-482"></a>
<a id="__codelineno-0-483" name="__codelineno-0-483"></a>    <span class="n">json_filters</span> <span class="o">=</span> <span class="p">{}</span>
<a id="__codelineno-0-484" name="__codelineno-0-484"></a>    <span class="k">if</span> <span class="n">config</span> <span class="ow">and</span> <span class="s2">&quot;configurable&quot;</span> <span class="ow">in</span> <span class="n">config</span><span class="p">:</span>
<a id="__codelineno-0-485" name="__codelineno-0-485"></a>        <span class="n">thread_id</span> <span class="o">=</span> <span class="n">config</span><span class="p">[</span><span class="s2">&quot;configurable&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;thread_id&quot;</span><span class="p">)</span>
<a id="__codelineno-0-486" name="__codelineno-0-486"></a>        <span class="n">checkpoint_ns</span> <span class="o">=</span> <span class="n">config</span><span class="p">[</span><span class="s2">&quot;configurable&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;checkpoint_ns&quot;</span><span class="p">)</span>
<a id="__codelineno-0-487" name="__codelineno-0-487"></a>        <span class="k">if</span> <span class="n">thread_id</span><span class="p">:</span>
<a id="__codelineno-0-488" name="__codelineno-0-488"></a>            <span class="n">json_filters</span><span class="p">[</span><span class="s2">&quot;session_id&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">thread_id</span>
<a id="__codelineno-0-489" name="__codelineno-0-489"></a>        <span class="k">if</span> <span class="n">checkpoint_ns</span><span class="p">:</span>
<a id="__codelineno-0-490" name="__codelineno-0-490"></a>            <span class="n">json_filters</span><span class="p">[</span><span class="s2">&quot;payload.checkpoint_ns&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">checkpoint_ns</span>
<a id="__codelineno-0-491" name="__codelineno-0-491"></a>
<a id="__codelineno-0-492" name="__codelineno-0-492"></a>    <span class="k">if</span> <span class="nb">filter</span><span class="p">:</span>
<a id="__codelineno-0-493" name="__codelineno-0-493"></a>        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="nb">filter</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
<a id="__codelineno-0-494" name="__codelineno-0-494"></a>            <span class="n">json_filters</span><span class="p">[</span><span class="sa">f</span><span class="s2">&quot;payload.metadata.</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
<a id="__codelineno-0-495" name="__codelineno-0-495"></a>
<a id="__codelineno-0-496" name="__codelineno-0-496"></a>    <span class="c1"># AWAIT QUERY</span>
<a id="__codelineno-0-497" name="__codelineno-0-497"></a>    <span class="n">facts</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">memory</span><span class="o">.</span><span class="n">storage</span><span class="o">.</span><span class="n">query</span><span class="p">(</span>
<a id="__codelineno-0-498" name="__codelineno-0-498"></a>        <span class="n">type_filter</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">fact_type</span><span class="p">,</span> <span class="n">json_filters</span><span class="o">=</span><span class="n">json_filters</span> <span class="k">if</span> <span class="n">json_filters</span> <span class="k">else</span> <span class="kc">None</span>
<a id="__codelineno-0-499" name="__codelineno-0-499"></a>    <span class="p">)</span>
<a id="__codelineno-0-500" name="__codelineno-0-500"></a>    <span class="n">facts</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="s2">&quot;ts&quot;</span><span class="p">],</span> <span class="n">reverse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<a id="__codelineno-0-501" name="__codelineno-0-501"></a>
<a id="__codelineno-0-502" name="__codelineno-0-502"></a>    <span class="k">if</span> <span class="n">limit</span><span class="p">:</span>
<a id="__codelineno-0-503" name="__codelineno-0-503"></a>        <span class="n">facts</span> <span class="o">=</span> <span class="n">facts</span><span class="p">[:</span><span class="n">limit</span><span class="p">]</span>
<a id="__codelineno-0-504" name="__codelineno-0-504"></a>
<a id="__codelineno-0-505" name="__codelineno-0-505"></a>    <span class="c1"># ASYNC YIELD</span>
<a id="__codelineno-0-506" name="__codelineno-0-506"></a>    <span class="k">for</span> <span class="n">fact</span> <span class="ow">in</span> <span class="n">facts</span><span class="p">:</span>
<a id="__codelineno-0-507" name="__codelineno-0-507"></a>        <span class="n">payload</span> <span class="o">=</span> <span class="n">fact</span><span class="p">[</span><span class="s2">&quot;payload&quot;</span><span class="p">]</span>
<a id="__codelineno-0-508" name="__codelineno-0-508"></a>        <span class="k">yield</span> <span class="n">CheckpointTuple</span><span class="p">(</span>
<a id="__codelineno-0-509" name="__codelineno-0-509"></a>            <span class="p">{</span>
<a id="__codelineno-0-510" name="__codelineno-0-510"></a>                <span class="s2">&quot;configurable&quot;</span><span class="p">:</span> <span class="p">{</span>
<a id="__codelineno-0-511" name="__codelineno-0-511"></a>                    <span class="s2">&quot;thread_id&quot;</span><span class="p">:</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;thread_id&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="n">json_filters</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;session_id&quot;</span><span class="p">),</span>
<a id="__codelineno-0-512" name="__codelineno-0-512"></a>                    <span class="s2">&quot;thread_ts&quot;</span><span class="p">:</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;thread_ts&quot;</span><span class="p">],</span>
<a id="__codelineno-0-513" name="__codelineno-0-513"></a>                    <span class="s2">&quot;checkpoint_ns&quot;</span><span class="p">:</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;checkpoint_ns&quot;</span><span class="p">),</span>
<a id="__codelineno-0-514" name="__codelineno-0-514"></a>                <span class="p">}</span>
<a id="__codelineno-0-515" name="__codelineno-0-515"></a>            <span class="p">},</span>
<a id="__codelineno-0-516" name="__codelineno-0-516"></a>            <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;checkpoint&quot;</span><span class="p">],</span>
<a id="__codelineno-0-517" name="__codelineno-0-517"></a>            <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;metadata&quot;</span><span class="p">],</span>
<a id="__codelineno-0-518" name="__codelineno-0-518"></a>            <span class="p">(</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;checkpoint&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="p">{})</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;pending_sends&quot;</span><span class="p">,</span> <span class="p">[]),</span>
<a id="__codelineno-0-519" name="__codelineno-0-519"></a>        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="memstate.integrations.langgraph.AsyncMemStateCheckpointer.aput" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">aput</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h4>
<div class="language-python doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">aput</span><span class="p">(</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>    <span class="n"><a class="autorefs autorefs-internal" title="&lt;b&gt;&lt;code&gt;config&lt;/code&gt;&lt;/b&gt; (&lt;code&gt;memstate.integrations.langgraph.AsyncMemStateCheckpointer.aput(config)&lt;/code&gt;)" href="#memstate.integrations.langgraph.AsyncMemStateCheckpointer.aput(config)">config</a></span><span class="p">:</span> <span class="n"><span title="langchain_core.runnables.RunnableConfig">RunnableConfig</span></span><span class="p">,</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>    <span class="n"><a class="autorefs autorefs-internal" title="&lt;b&gt;&lt;code&gt;checkpoint&lt;/code&gt;&lt;/b&gt; (&lt;code&gt;memstate.integrations.langgraph.AsyncMemStateCheckpointer.aput(checkpoint)&lt;/code&gt;)" href="#memstate.integrations.langgraph.AsyncMemStateCheckpointer.aput(checkpoint)">checkpoint</a></span><span class="p">:</span> <span class="n"><span title="langgraph.checkpoint.base.Checkpoint">Checkpoint</span></span><span class="p">,</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>    <span class="n"><a class="autorefs autorefs-internal" title="&lt;b&gt;&lt;code&gt;metadata&lt;/code&gt;&lt;/b&gt; (&lt;code&gt;memstate.integrations.langgraph.AsyncMemStateCheckpointer.aput(metadata)&lt;/code&gt;)" href="#memstate.integrations.langgraph.AsyncMemStateCheckpointer.aput(metadata)">metadata</a></span><span class="p">:</span> <span class="n"><span title="langgraph.checkpoint.base.CheckpointMetadata">CheckpointMetadata</span></span><span class="p">,</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>    <span class="n"><a class="autorefs autorefs-internal" title="&lt;b&gt;&lt;code&gt;new_versions&lt;/code&gt;&lt;/b&gt; (&lt;code&gt;memstate.integrations.langgraph.AsyncMemStateCheckpointer.aput(new_versions)&lt;/code&gt;)" href="#memstate.integrations.langgraph.AsyncMemStateCheckpointer.aput(new_versions)">new_versions</a></span><span class="p">:</span> <span class="n"><span title="dict">dict</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">,</span> <span class="n"><span title="typing.Any">Any</span></span><span class="p">],</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><span title="langchain_core.runnables.RunnableConfig">RunnableConfig</span></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Asynchronously updates the state of a process by committing checkpoint metadata into memory
and returning an updated configuration object.</p>
<p>This method handles storing the provided checkpoint and its associated metadata
to facilitate process tracking. It interacts with the memory instance to ensure
the relevant details are committed within the appropriate session. After updating
memory, it returns a modified configuration containing the updated thread
parameters.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
<h5 id="memstate.integrations.langgraph.AsyncMemStateCheckpointer.aput(config)" class="doc doc-heading doc-heading-parameter">              <b><code>config</code></b>
</h5>              (<code><span title="langchain_core.runnables.RunnableConfig">RunnableConfig</span></code>)
          –
          <div class="doc-md-description">
            <p>The configuration object for the runnable, which must include a <code>thread_id</code> under the <code>configurable</code> key.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
<h5 id="memstate.integrations.langgraph.AsyncMemStateCheckpointer.aput(checkpoint)" class="doc doc-heading doc-heading-parameter">              <b><code>checkpoint</code></b>
</h5>              (<code><span title="langgraph.checkpoint.base.Checkpoint">Checkpoint</span></code>)
          –
          <div class="doc-md-description">
            <p>The checkpoint object containing state information to be stored in memory.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
<h5 id="memstate.integrations.langgraph.AsyncMemStateCheckpointer.aput(metadata)" class="doc doc-heading doc-heading-parameter">              <b><code>metadata</code></b>
</h5>              (<code><span title="langgraph.checkpoint.base.CheckpointMetadata">CheckpointMetadata</span></code>)
          –
          <div class="doc-md-description">
            <p>Additional metadata corresponding to the checkpoint, providing
supplementary details about the stored state.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
<h5 id="memstate.integrations.langgraph.AsyncMemStateCheckpointer.aput(new_versions)" class="doc doc-heading doc-heading-parameter">              <b><code>new_versions</code></b>
</h5>              (<code><span title="dict">dict</span>[<span title="str">str</span>, <span title="typing.Any">Any</span>]</code>)
          –
          <div class="doc-md-description">
            <p>A mapping of version keys to their new corresponding
values, used to track changes in versions during the execution process.</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code><span title="langchain_core.runnables.RunnableConfig">RunnableConfig</span></code>
          –
          <div class="doc-md-description">
            <p>A modified configuration object reflecting the updated thread
parameters after committing the provided checkpoint to memory.</p>
          </div>
        </li>
    </ul>

          

            <details class="mkdocstrings-source">
              <summary>Source code in <code>memstate/integrations/langgraph.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-304">304</a></span>
<span class="normal"><a href="#__codelineno-0-305">305</a></span>
<span class="normal"><a href="#__codelineno-0-306">306</a></span>
<span class="normal"><a href="#__codelineno-0-307">307</a></span>
<span class="normal"><a href="#__codelineno-0-308">308</a></span>
<span class="normal"><a href="#__codelineno-0-309">309</a></span>
<span class="normal"><a href="#__codelineno-0-310">310</a></span>
<span class="normal"><a href="#__codelineno-0-311">311</a></span>
<span class="normal"><a href="#__codelineno-0-312">312</a></span>
<span class="normal"><a href="#__codelineno-0-313">313</a></span>
<span class="normal"><a href="#__codelineno-0-314">314</a></span>
<span class="normal"><a href="#__codelineno-0-315">315</a></span>
<span class="normal"><a href="#__codelineno-0-316">316</a></span>
<span class="normal"><a href="#__codelineno-0-317">317</a></span>
<span class="normal"><a href="#__codelineno-0-318">318</a></span>
<span class="normal"><a href="#__codelineno-0-319">319</a></span>
<span class="normal"><a href="#__codelineno-0-320">320</a></span>
<span class="normal"><a href="#__codelineno-0-321">321</a></span>
<span class="normal"><a href="#__codelineno-0-322">322</a></span>
<span class="normal"><a href="#__codelineno-0-323">323</a></span>
<span class="normal"><a href="#__codelineno-0-324">324</a></span>
<span class="normal"><a href="#__codelineno-0-325">325</a></span>
<span class="normal"><a href="#__codelineno-0-326">326</a></span>
<span class="normal"><a href="#__codelineno-0-327">327</a></span>
<span class="normal"><a href="#__codelineno-0-328">328</a></span>
<span class="normal"><a href="#__codelineno-0-329">329</a></span>
<span class="normal"><a href="#__codelineno-0-330">330</a></span>
<span class="normal"><a href="#__codelineno-0-331">331</a></span>
<span class="normal"><a href="#__codelineno-0-332">332</a></span>
<span class="normal"><a href="#__codelineno-0-333">333</a></span>
<span class="normal"><a href="#__codelineno-0-334">334</a></span>
<span class="normal"><a href="#__codelineno-0-335">335</a></span>
<span class="normal"><a href="#__codelineno-0-336">336</a></span>
<span class="normal"><a href="#__codelineno-0-337">337</a></span>
<span class="normal"><a href="#__codelineno-0-338">338</a></span>
<span class="normal"><a href="#__codelineno-0-339">339</a></span>
<span class="normal"><a href="#__codelineno-0-340">340</a></span>
<span class="normal"><a href="#__codelineno-0-341">341</a></span>
<span class="normal"><a href="#__codelineno-0-342">342</a></span>
<span class="normal"><a href="#__codelineno-0-343">343</a></span>
<span class="normal"><a href="#__codelineno-0-344">344</a></span>
<span class="normal"><a href="#__codelineno-0-345">345</a></span>
<span class="normal"><a href="#__codelineno-0-346">346</a></span>
<span class="normal"><a href="#__codelineno-0-347">347</a></span>
<span class="normal"><a href="#__codelineno-0-348">348</a></span>
<span class="normal"><a href="#__codelineno-0-349">349</a></span>
<span class="normal"><a href="#__codelineno-0-350">350</a></span>
<span class="normal"><a href="#__codelineno-0-351">351</a></span>
<span class="normal"><a href="#__codelineno-0-352">352</a></span>
<span class="normal"><a href="#__codelineno-0-353">353</a></span>
<span class="normal"><a href="#__codelineno-0-354">354</a></span>
<span class="normal"><a href="#__codelineno-0-355">355</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-304" name="__codelineno-0-304"></a><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">aput</span><span class="p">(</span>
<a id="__codelineno-0-305" name="__codelineno-0-305"></a>    <span class="bp">self</span><span class="p">,</span>
<a id="__codelineno-0-306" name="__codelineno-0-306"></a>    <span class="n">config</span><span class="p">:</span> <span class="n">RunnableConfig</span><span class="p">,</span>
<a id="__codelineno-0-307" name="__codelineno-0-307"></a>    <span class="n">checkpoint</span><span class="p">:</span> <span class="n">Checkpoint</span><span class="p">,</span>
<a id="__codelineno-0-308" name="__codelineno-0-308"></a>    <span class="n">metadata</span><span class="p">:</span> <span class="n">CheckpointMetadata</span><span class="p">,</span>
<a id="__codelineno-0-309" name="__codelineno-0-309"></a>    <span class="n">new_versions</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
<a id="__codelineno-0-310" name="__codelineno-0-310"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RunnableConfig</span><span class="p">:</span>
<a id="__codelineno-0-311" name="__codelineno-0-311"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-312" name="__codelineno-0-312"></a><span class="sd">    Asynchronously updates the state of a process by committing checkpoint metadata into memory</span>
<a id="__codelineno-0-313" name="__codelineno-0-313"></a><span class="sd">    and returning an updated configuration object.</span>
<a id="__codelineno-0-314" name="__codelineno-0-314"></a>
<a id="__codelineno-0-315" name="__codelineno-0-315"></a><span class="sd">    This method handles storing the provided checkpoint and its associated metadata</span>
<a id="__codelineno-0-316" name="__codelineno-0-316"></a><span class="sd">    to facilitate process tracking. It interacts with the memory instance to ensure</span>
<a id="__codelineno-0-317" name="__codelineno-0-317"></a><span class="sd">    the relevant details are committed within the appropriate session. After updating</span>
<a id="__codelineno-0-318" name="__codelineno-0-318"></a><span class="sd">    memory, it returns a modified configuration containing the updated thread</span>
<a id="__codelineno-0-319" name="__codelineno-0-319"></a><span class="sd">    parameters.</span>
<a id="__codelineno-0-320" name="__codelineno-0-320"></a>
<a id="__codelineno-0-321" name="__codelineno-0-321"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-322" name="__codelineno-0-322"></a><span class="sd">        config (RunnableConfig): The configuration object for the runnable, which must include a `thread_id` under the `configurable` key.</span>
<a id="__codelineno-0-323" name="__codelineno-0-323"></a><span class="sd">        checkpoint (Checkpoint): The checkpoint object containing state information to be stored in memory.</span>
<a id="__codelineno-0-324" name="__codelineno-0-324"></a><span class="sd">        metadata (CheckpointMetadata): Additional metadata corresponding to the checkpoint, providing</span>
<a id="__codelineno-0-325" name="__codelineno-0-325"></a><span class="sd">            supplementary details about the stored state.</span>
<a id="__codelineno-0-326" name="__codelineno-0-326"></a><span class="sd">        new_versions (dict[str, Any]): A mapping of version keys to their new corresponding</span>
<a id="__codelineno-0-327" name="__codelineno-0-327"></a><span class="sd">            values, used to track changes in versions during the execution process.</span>
<a id="__codelineno-0-328" name="__codelineno-0-328"></a>
<a id="__codelineno-0-329" name="__codelineno-0-329"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-330" name="__codelineno-0-330"></a><span class="sd">        A modified configuration object reflecting the updated thread</span>
<a id="__codelineno-0-331" name="__codelineno-0-331"></a><span class="sd">            parameters after committing the provided checkpoint to memory.</span>
<a id="__codelineno-0-332" name="__codelineno-0-332"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-333" name="__codelineno-0-333"></a>    <span class="n">thread_id</span> <span class="o">=</span> <span class="n">config</span><span class="p">[</span><span class="s2">&quot;configurable&quot;</span><span class="p">][</span><span class="s2">&quot;thread_id&quot;</span><span class="p">]</span>
<a id="__codelineno-0-334" name="__codelineno-0-334"></a>    <span class="n">checkpoint_ns</span> <span class="o">=</span> <span class="n">config</span><span class="p">[</span><span class="s2">&quot;configurable&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;checkpoint_ns&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
<a id="__codelineno-0-335" name="__codelineno-0-335"></a>
<a id="__codelineno-0-336" name="__codelineno-0-336"></a>    <span class="n">payload</span> <span class="o">=</span> <span class="p">{</span>
<a id="__codelineno-0-337" name="__codelineno-0-337"></a>        <span class="s2">&quot;checkpoint&quot;</span><span class="p">:</span> <span class="n">checkpoint</span><span class="p">,</span>
<a id="__codelineno-0-338" name="__codelineno-0-338"></a>        <span class="s2">&quot;metadata&quot;</span><span class="p">:</span> <span class="n">metadata</span><span class="p">,</span>
<a id="__codelineno-0-339" name="__codelineno-0-339"></a>        <span class="s2">&quot;new_versions&quot;</span><span class="p">:</span> <span class="n">new_versions</span><span class="p">,</span>
<a id="__codelineno-0-340" name="__codelineno-0-340"></a>        <span class="s2">&quot;thread_ts&quot;</span><span class="p">:</span> <span class="n">checkpoint</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">],</span>
<a id="__codelineno-0-341" name="__codelineno-0-341"></a>        <span class="s2">&quot;checkpoint_ns&quot;</span><span class="p">:</span> <span class="n">checkpoint_ns</span><span class="p">,</span>
<a id="__codelineno-0-342" name="__codelineno-0-342"></a>    <span class="p">}</span>
<a id="__codelineno-0-343" name="__codelineno-0-343"></a>
<a id="__codelineno-0-344" name="__codelineno-0-344"></a>    <span class="c1"># AWAIT COMMIT</span>
<a id="__codelineno-0-345" name="__codelineno-0-345"></a>    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">memory</span><span class="o">.</span><span class="n">commit</span><span class="p">(</span>
<a id="__codelineno-0-346" name="__codelineno-0-346"></a>        <span class="n">Fact</span><span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">fact_type</span><span class="p">,</span> <span class="n">payload</span><span class="o">=</span><span class="n">payload</span><span class="p">,</span> <span class="n">source</span><span class="o">=</span><span class="s2">&quot;langgraph_checkpoint&quot;</span><span class="p">),</span> <span class="n">session_id</span><span class="o">=</span><span class="n">thread_id</span>
<a id="__codelineno-0-347" name="__codelineno-0-347"></a>    <span class="p">)</span>
<a id="__codelineno-0-348" name="__codelineno-0-348"></a>
<a id="__codelineno-0-349" name="__codelineno-0-349"></a>    <span class="k">return</span> <span class="p">{</span>
<a id="__codelineno-0-350" name="__codelineno-0-350"></a>        <span class="s2">&quot;configurable&quot;</span><span class="p">:</span> <span class="p">{</span>
<a id="__codelineno-0-351" name="__codelineno-0-351"></a>            <span class="s2">&quot;thread_id&quot;</span><span class="p">:</span> <span class="n">thread_id</span><span class="p">,</span>
<a id="__codelineno-0-352" name="__codelineno-0-352"></a>            <span class="s2">&quot;thread_ts&quot;</span><span class="p">:</span> <span class="n">checkpoint</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">],</span>
<a id="__codelineno-0-353" name="__codelineno-0-353"></a>            <span class="s2">&quot;checkpoint_ns&quot;</span><span class="p">:</span> <span class="n">checkpoint_ns</span><span class="p">,</span>
<a id="__codelineno-0-354" name="__codelineno-0-354"></a>        <span class="p">}</span>
<a id="__codelineno-0-355" name="__codelineno-0-355"></a>    <span class="p">}</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="memstate.integrations.langgraph.AsyncMemStateCheckpointer.aput_writes" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">aput_writes</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h4>
<div class="language-python doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">aput_writes</span><span class="p">(</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>    <span class="n"><a class="autorefs autorefs-internal" title="&lt;b&gt;&lt;code&gt;config&lt;/code&gt;&lt;/b&gt; (&lt;code&gt;memstate.integrations.langgraph.AsyncMemStateCheckpointer.aput_writes(config)&lt;/code&gt;)" href="#memstate.integrations.langgraph.AsyncMemStateCheckpointer.aput_writes(config)">config</a></span><span class="p">:</span> <span class="n"><span title="langchain_core.runnables.RunnableConfig">RunnableConfig</span></span><span class="p">,</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>    <span class="n"><a class="autorefs autorefs-internal" title="&lt;b&gt;&lt;code&gt;writes&lt;/code&gt;&lt;/b&gt; (&lt;code&gt;memstate.integrations.langgraph.AsyncMemStateCheckpointer.aput_writes(writes)&lt;/code&gt;)" href="#memstate.integrations.langgraph.AsyncMemStateCheckpointer.aput_writes(writes)">writes</a></span><span class="p">:</span> <span class="n"><span title="typing.Sequence">Sequence</span></span><span class="p">[</span><span class="n"><span title="tuple">tuple</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">,</span> <span class="n"><span title="typing.Any">Any</span></span><span class="p">]],</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>    <span class="n"><a class="autorefs autorefs-internal" title="&lt;b&gt;&lt;code&gt;task_id&lt;/code&gt;&lt;/b&gt; (&lt;code&gt;memstate.integrations.langgraph.AsyncMemStateCheckpointer.aput_writes(task_id)&lt;/code&gt;)" href="#memstate.integrations.langgraph.AsyncMemStateCheckpointer.aput_writes(task_id)">task_id</a></span><span class="p">:</span> <span class="n"><span title="str">str</span></span><span class="p">,</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>    <span class="n"><a class="autorefs autorefs-internal" title="&lt;b&gt;&lt;code&gt;task_path&lt;/code&gt;&lt;/b&gt; (&lt;code&gt;memstate.integrations.langgraph.AsyncMemStateCheckpointer.aput_writes(task_path)&lt;/code&gt;)" href="#memstate.integrations.langgraph.AsyncMemStateCheckpointer.aput_writes(task_path)">task_path</a></span><span class="p">:</span> <span class="n"><span title="str">str</span></span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Asynchronously executes the operation to store a sequence of writes by committing them as facts into memory
with associated task and thread information. Each write entry in the sequence is processed
with a specific channel, value, and index to generate a payload, which is then committed.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
<h5 id="memstate.integrations.langgraph.AsyncMemStateCheckpointer.aput_writes(config)" class="doc doc-heading doc-heading-parameter">              <b><code>config</code></b>
</h5>              (<code><span title="langchain_core.runnables.RunnableConfig">RunnableConfig</span></code>)
          –
          <div class="doc-md-description">
            <p>The configuration object implementing the <code>RunnableConfig</code> interface. It must
contain a "configurable" dictionary with a thread ID linked under the key "thread_id".</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
<h5 id="memstate.integrations.langgraph.AsyncMemStateCheckpointer.aput_writes(writes)" class="doc doc-heading doc-heading-parameter">              <b><code>writes</code></b>
</h5>              (<code><span title="typing.Sequence">Sequence</span>[<span title="tuple">tuple</span>[<span title="str">str</span>, <span title="typing.Any">Any</span>]]</code>)
          –
          <div class="doc-md-description">
            <p>A sequence of tuples where each tuple contains a string representing the channel
and an associated value of type <code>Any</code> to be committed.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
<h5 id="memstate.integrations.langgraph.AsyncMemStateCheckpointer.aput_writes(task_id)" class="doc doc-heading doc-heading-parameter">              <b><code>task_id</code></b>
</h5>              (<code><span title="str">str</span></code>)
          –
          <div class="doc-md-description">
            <p>A string representing the unique identifier for the task that groups all the writes.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
<h5 id="memstate.integrations.langgraph.AsyncMemStateCheckpointer.aput_writes(task_path)" class="doc doc-heading doc-heading-parameter">              <b><code>task_path</code></b>
</h5>              (<code><span title="str">str</span></code>, default:
                  <code>&#39;&#39;</code>
)
          –
          <div class="doc-md-description">
            <p>(optional) A string that represents the path or hierarchy associated with
the task. Defaults to an empty string if not provided.</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code>None</code>
          –
          <div class="doc-md-description">
            <p>None</p>
          </div>
        </li>
    </ul>

          

            <details class="mkdocstrings-source">
              <summary>Source code in <code>memstate/integrations/langgraph.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-357">357</a></span>
<span class="normal"><a href="#__codelineno-0-358">358</a></span>
<span class="normal"><a href="#__codelineno-0-359">359</a></span>
<span class="normal"><a href="#__codelineno-0-360">360</a></span>
<span class="normal"><a href="#__codelineno-0-361">361</a></span>
<span class="normal"><a href="#__codelineno-0-362">362</a></span>
<span class="normal"><a href="#__codelineno-0-363">363</a></span>
<span class="normal"><a href="#__codelineno-0-364">364</a></span>
<span class="normal"><a href="#__codelineno-0-365">365</a></span>
<span class="normal"><a href="#__codelineno-0-366">366</a></span>
<span class="normal"><a href="#__codelineno-0-367">367</a></span>
<span class="normal"><a href="#__codelineno-0-368">368</a></span>
<span class="normal"><a href="#__codelineno-0-369">369</a></span>
<span class="normal"><a href="#__codelineno-0-370">370</a></span>
<span class="normal"><a href="#__codelineno-0-371">371</a></span>
<span class="normal"><a href="#__codelineno-0-372">372</a></span>
<span class="normal"><a href="#__codelineno-0-373">373</a></span>
<span class="normal"><a href="#__codelineno-0-374">374</a></span>
<span class="normal"><a href="#__codelineno-0-375">375</a></span>
<span class="normal"><a href="#__codelineno-0-376">376</a></span>
<span class="normal"><a href="#__codelineno-0-377">377</a></span>
<span class="normal"><a href="#__codelineno-0-378">378</a></span>
<span class="normal"><a href="#__codelineno-0-379">379</a></span>
<span class="normal"><a href="#__codelineno-0-380">380</a></span>
<span class="normal"><a href="#__codelineno-0-381">381</a></span>
<span class="normal"><a href="#__codelineno-0-382">382</a></span>
<span class="normal"><a href="#__codelineno-0-383">383</a></span>
<span class="normal"><a href="#__codelineno-0-384">384</a></span>
<span class="normal"><a href="#__codelineno-0-385">385</a></span>
<span class="normal"><a href="#__codelineno-0-386">386</a></span>
<span class="normal"><a href="#__codelineno-0-387">387</a></span>
<span class="normal"><a href="#__codelineno-0-388">388</a></span>
<span class="normal"><a href="#__codelineno-0-389">389</a></span>
<span class="normal"><a href="#__codelineno-0-390">390</a></span>
<span class="normal"><a href="#__codelineno-0-391">391</a></span>
<span class="normal"><a href="#__codelineno-0-392">392</a></span>
<span class="normal"><a href="#__codelineno-0-393">393</a></span>
<span class="normal"><a href="#__codelineno-0-394">394</a></span>
<span class="normal"><a href="#__codelineno-0-395">395</a></span>
<span class="normal"><a href="#__codelineno-0-396">396</a></span>
<span class="normal"><a href="#__codelineno-0-397">397</a></span>
<span class="normal"><a href="#__codelineno-0-398">398</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-357" name="__codelineno-0-357"></a><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">aput_writes</span><span class="p">(</span>
<a id="__codelineno-0-358" name="__codelineno-0-358"></a>    <span class="bp">self</span><span class="p">,</span>
<a id="__codelineno-0-359" name="__codelineno-0-359"></a>    <span class="n">config</span><span class="p">:</span> <span class="n">RunnableConfig</span><span class="p">,</span>
<a id="__codelineno-0-360" name="__codelineno-0-360"></a>    <span class="n">writes</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]],</span>
<a id="__codelineno-0-361" name="__codelineno-0-361"></a>    <span class="n">task_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
<a id="__codelineno-0-362" name="__codelineno-0-362"></a>    <span class="n">task_path</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
<a id="__codelineno-0-363" name="__codelineno-0-363"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-364" name="__codelineno-0-364"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-365" name="__codelineno-0-365"></a><span class="sd">    Asynchronously executes the operation to store a sequence of writes by committing them as facts into memory</span>
<a id="__codelineno-0-366" name="__codelineno-0-366"></a><span class="sd">    with associated task and thread information. Each write entry in the sequence is processed</span>
<a id="__codelineno-0-367" name="__codelineno-0-367"></a><span class="sd">    with a specific channel, value, and index to generate a payload, which is then committed.</span>
<a id="__codelineno-0-368" name="__codelineno-0-368"></a>
<a id="__codelineno-0-369" name="__codelineno-0-369"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-370" name="__codelineno-0-370"></a><span class="sd">        config (RunnableConfig): The configuration object implementing the `RunnableConfig` interface. It must</span>
<a id="__codelineno-0-371" name="__codelineno-0-371"></a><span class="sd">            contain a &quot;configurable&quot; dictionary with a thread ID linked under the key &quot;thread_id&quot;.</span>
<a id="__codelineno-0-372" name="__codelineno-0-372"></a><span class="sd">        writes (Sequence[tuple[str, Any]]): A sequence of tuples where each tuple contains a string representing the channel</span>
<a id="__codelineno-0-373" name="__codelineno-0-373"></a><span class="sd">            and an associated value of type `Any` to be committed.</span>
<a id="__codelineno-0-374" name="__codelineno-0-374"></a><span class="sd">        task_id (str): A string representing the unique identifier for the task that groups all the writes.</span>
<a id="__codelineno-0-375" name="__codelineno-0-375"></a><span class="sd">        task_path (str): (optional) A string that represents the path or hierarchy associated with</span>
<a id="__codelineno-0-376" name="__codelineno-0-376"></a><span class="sd">            the task. Defaults to an empty string if not provided.</span>
<a id="__codelineno-0-377" name="__codelineno-0-377"></a>
<a id="__codelineno-0-378" name="__codelineno-0-378"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-379" name="__codelineno-0-379"></a><span class="sd">        None</span>
<a id="__codelineno-0-380" name="__codelineno-0-380"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-381" name="__codelineno-0-381"></a>    <span class="n">thread_id</span> <span class="o">=</span> <span class="n">config</span><span class="p">[</span><span class="s2">&quot;configurable&quot;</span><span class="p">][</span><span class="s2">&quot;thread_id&quot;</span><span class="p">]</span>
<a id="__codelineno-0-382" name="__codelineno-0-382"></a>    <span class="n">checkpoint_ns</span> <span class="o">=</span> <span class="n">config</span><span class="p">[</span><span class="s2">&quot;configurable&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;checkpoint_ns&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
<a id="__codelineno-0-383" name="__codelineno-0-383"></a>
<a id="__codelineno-0-384" name="__codelineno-0-384"></a>    <span class="k">for</span> <span class="n">idx</span><span class="p">,</span> <span class="p">(</span><span class="n">channel</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">writes</span><span class="p">):</span>
<a id="__codelineno-0-385" name="__codelineno-0-385"></a>        <span class="n">payload</span> <span class="o">=</span> <span class="p">{</span>
<a id="__codelineno-0-386" name="__codelineno-0-386"></a>            <span class="s2">&quot;task_id&quot;</span><span class="p">:</span> <span class="n">task_id</span><span class="p">,</span>
<a id="__codelineno-0-387" name="__codelineno-0-387"></a>            <span class="s2">&quot;task_path&quot;</span><span class="p">:</span> <span class="n">task_path</span><span class="p">,</span>
<a id="__codelineno-0-388" name="__codelineno-0-388"></a>            <span class="s2">&quot;channel&quot;</span><span class="p">:</span> <span class="n">channel</span><span class="p">,</span>
<a id="__codelineno-0-389" name="__codelineno-0-389"></a>            <span class="s2">&quot;value&quot;</span><span class="p">:</span> <span class="n">value</span><span class="p">,</span>
<a id="__codelineno-0-390" name="__codelineno-0-390"></a>            <span class="s2">&quot;idx&quot;</span><span class="p">:</span> <span class="n">idx</span><span class="p">,</span>
<a id="__codelineno-0-391" name="__codelineno-0-391"></a>            <span class="s2">&quot;thread_id&quot;</span><span class="p">:</span> <span class="n">thread_id</span><span class="p">,</span>
<a id="__codelineno-0-392" name="__codelineno-0-392"></a>            <span class="s2">&quot;checkpoint_ns&quot;</span><span class="p">:</span> <span class="n">checkpoint_ns</span><span class="p">,</span>
<a id="__codelineno-0-393" name="__codelineno-0-393"></a>        <span class="p">}</span>
<a id="__codelineno-0-394" name="__codelineno-0-394"></a>
<a id="__codelineno-0-395" name="__codelineno-0-395"></a>        <span class="c1"># AWAIT COMMIT</span>
<a id="__codelineno-0-396" name="__codelineno-0-396"></a>        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">memory</span><span class="o">.</span><span class="n">commit</span><span class="p">(</span>
<a id="__codelineno-0-397" name="__codelineno-0-397"></a>            <span class="n">Fact</span><span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">write_type</span><span class="p">,</span> <span class="n">payload</span><span class="o">=</span><span class="n">payload</span><span class="p">,</span> <span class="n">source</span><span class="o">=</span><span class="s2">&quot;langgraph_writes&quot;</span><span class="p">),</span> <span class="n">session_id</span><span class="o">=</span><span class="n">thread_id</span>
<a id="__codelineno-0-398" name="__codelineno-0-398"></a>        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="memstate.integrations.langgraph.MemStateCheckpointer" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">MemStateCheckpointer</span>


</h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">MemStateCheckpointer</span><span class="p">(</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>    <span class="n"><span title="memstate.integrations.langgraph.MemStateCheckpointer(memory)">memory</span></span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="&lt;code class=&quot;doc-symbol doc-symbol-heading doc-symbol-class&quot;&gt;&lt;/code&gt;            &lt;span class=&quot;doc doc-object-name doc-class-name&quot;&gt;MemoryStore&lt;/span&gt; (&lt;code&gt;memstate.storage.MemoryStore&lt;/code&gt;)" href="../memstate/#memstate.storage.MemoryStore">MemoryStore</a></span><span class="p">,</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>    <span class="n"><span title="memstate.integrations.langgraph.MemStateCheckpointer(serde)">serde</span></span><span class="p">:</span> <span class="n"><span title="langgraph.checkpoint.base.SerializerProtocol">SerializerProtocol</span></span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="langgraph.checkpoint.base.BaseCheckpointSaver">BaseCheckpointSaver</span>[<span title="str">str</span>]</code></p>



        <p>Manages the storage, retrieval, and deletion of checkpoint data in memory.</p>
<p>The MemStateCheckpointer class enables storing checkpoints using an in-memory
storage system, facilitating workflows that require checkpointing and versioning
mechanisms. It interacts with a memory store to persist checkpoint data and
associated metadata, supporting use cases that require checkpointer objects
functioning as temporary memory storage.</p>
<p>Pro Tip: LangGraph checkpoints can be noisy. To prevent them from cluttering your Vector DB,
set <code>target_types</code> in your Sync Hook to include only your semantic fact types (e.g., <code>{"memory", "knowledge"}</code>),
effectively ignoring the technical <code>langgraph_checkpoint</code> type.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <ul>
        <li class="doc-section-item field-body">
          <b><code><span title="memstate.integrations.langgraph.MemStateCheckpointer.memory">memory</span></code></b>
              (<code><a class="autorefs autorefs-internal" title="&lt;code class=&quot;doc-symbol doc-symbol-heading doc-symbol-class&quot;&gt;&lt;/code&gt;            &lt;span class=&quot;doc doc-object-name doc-class-name&quot;&gt;MemoryStore&lt;/span&gt; (&lt;code&gt;memstate.storage.MemoryStore&lt;/code&gt;)" href="../memstate/#memstate.storage.MemoryStore">MemoryStore</a></code>)
          –
          <div class="doc-md-description">
            <p>Reference to the memory store used for storage operations.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
          <b><code><span title="memstate.integrations.langgraph.MemStateCheckpointer.serde">serde</span></code></b>
              (<code><span title="langgraph.checkpoint.base.SerializerProtocol">SerializerProtocol</span></code>)
          –
          <div class="doc-md-description">
            <p>Serializer for serializing checkpoint data.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
          <b><code><span title="memstate.integrations.langgraph.MemStateCheckpointer.fact_type">fact_type</span></code></b>
              (<code><span title="str">str</span></code>)
          –
          <div class="doc-md-description">
            <p>String identifier for checkpoint facts within the memory store.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
          <b><code><span title="memstate.integrations.langgraph.MemStateCheckpointer.write_type">write_type</span></code></b>
              (<code><span title="str">str</span></code>)
          –
          <div class="doc-md-description">
            <p>String identifier for write facts within the memory store.</p>
          </div>
        </li>
    </ul>

          











<p><span class="doc-section-title">Methods:</span></p>
    <ul>
          <li class="doc-section-item field-body">
            <b><code><a class="autorefs autorefs-internal" title="&lt;code class=&quot;doc-symbol doc-symbol-heading doc-symbol-method&quot;&gt;&lt;/code&gt;            &lt;span class=&quot;doc doc-object-name doc-function-name&quot;&gt;delete_thread&lt;/span&gt; (&lt;code&gt;memstate.integrations.langgraph.MemStateCheckpointer.delete_thread&lt;/code&gt;)" href="#memstate.integrations.langgraph.MemStateCheckpointer.delete_thread">delete_thread</a></code></b>
            –
            <div class="doc-md-description">
              <p>Deletes a specific thread from memory by its identifier.</p>
            </div>
          </li>
          <li class="doc-section-item field-body">
            <b><code><a class="autorefs autorefs-internal" title="&lt;code class=&quot;doc-symbol doc-symbol-heading doc-symbol-method&quot;&gt;&lt;/code&gt;            &lt;span class=&quot;doc doc-object-name doc-function-name&quot;&gt;get_tuple&lt;/span&gt; (&lt;code&gt;memstate.integrations.langgraph.MemStateCheckpointer.get_tuple&lt;/code&gt;)" href="#memstate.integrations.langgraph.MemStateCheckpointer.get_tuple">get_tuple</a></code></b>
            –
            <div class="doc-md-description">
              <p>Gets a checkpoint tuple based on the provided configuration.</p>
            </div>
          </li>
          <li class="doc-section-item field-body">
            <b><code><a class="autorefs autorefs-internal" title="&lt;code class=&quot;doc-symbol doc-symbol-heading doc-symbol-method&quot;&gt;&lt;/code&gt;            &lt;span class=&quot;doc doc-object-name doc-function-name&quot;&gt;list&lt;/span&gt; (&lt;code&gt;memstate.integrations.langgraph.MemStateCheckpointer.list&lt;/code&gt;)" href="#memstate.integrations.langgraph.MemStateCheckpointer.list">list</a></code></b>
            –
            <div class="doc-md-description">
              <p>List and yield checkpoint tuples based on given configuration and filters.</p>
            </div>
          </li>
          <li class="doc-section-item field-body">
            <b><code><a class="autorefs autorefs-internal" title="&lt;code class=&quot;doc-symbol doc-symbol-heading doc-symbol-method&quot;&gt;&lt;/code&gt;            &lt;span class=&quot;doc doc-object-name doc-function-name&quot;&gt;put&lt;/span&gt; (&lt;code&gt;memstate.integrations.langgraph.MemStateCheckpointer.put&lt;/code&gt;)" href="#memstate.integrations.langgraph.MemStateCheckpointer.put">put</a></code></b>
            –
            <div class="doc-md-description">
              <p>Updates the state of a process by committing checkpoint metadata into memory</p>
            </div>
          </li>
          <li class="doc-section-item field-body">
            <b><code><a class="autorefs autorefs-internal" title="&lt;code class=&quot;doc-symbol doc-symbol-heading doc-symbol-method&quot;&gt;&lt;/code&gt;            &lt;span class=&quot;doc doc-object-name doc-function-name&quot;&gt;put_writes&lt;/span&gt; (&lt;code&gt;memstate.integrations.langgraph.MemStateCheckpointer.put_writes&lt;/code&gt;)" href="#memstate.integrations.langgraph.MemStateCheckpointer.put_writes">put_writes</a></code></b>
            –
            <div class="doc-md-description">
              <p>Executes the operation to store a sequence of writes by committing them as facts into memory</p>
            </div>
          </li>
    </ul>



                  <details class="mkdocstrings-source">
                    <summary>Source code in <code>memstate/integrations/langgraph.py</code></summary>
                    <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-45">45</a></span>
<span class="normal"><a href="#__codelineno-0-46">46</a></span>
<span class="normal"><a href="#__codelineno-0-47">47</a></span>
<span class="normal"><a href="#__codelineno-0-48">48</a></span>
<span class="normal"><a href="#__codelineno-0-49">49</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-45" name="__codelineno-0-45"></a><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">memory</span><span class="p">:</span> <span class="n">MemoryStore</span><span class="p">,</span> <span class="n">serde</span><span class="p">:</span> <span class="n">SerializerProtocol</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-46" name="__codelineno-0-46"></a>    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">serde</span><span class="o">=</span><span class="n">serde</span> <span class="ow">or</span> <span class="n">JsonPlusSerializer</span><span class="p">())</span>
<a id="__codelineno-0-47" name="__codelineno-0-47"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">memory</span> <span class="o">=</span> <span class="n">memory</span>
<a id="__codelineno-0-48" name="__codelineno-0-48"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">fact_type</span> <span class="o">=</span> <span class="s2">&quot;langgraph_checkpoint&quot;</span>
<a id="__codelineno-0-49" name="__codelineno-0-49"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">write_type</span> <span class="o">=</span> <span class="s2">&quot;langgraph_write&quot;</span>
</code></pre></div></td></tr></table></div>
                  </details>



<div class="doc doc-children">










<div class="doc doc-object doc-function">


<h4 id="memstate.integrations.langgraph.MemStateCheckpointer.delete_thread" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">delete_thread</span>


</h4>
<div class="language-python doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">delete_thread</span><span class="p">(</span><span class="n"><a class="autorefs autorefs-internal" title="&lt;b&gt;&lt;code&gt;thread_id&lt;/code&gt;&lt;/b&gt; (&lt;code&gt;memstate.integrations.langgraph.MemStateCheckpointer.delete_thread(thread_id)&lt;/code&gt;)" href="#memstate.integrations.langgraph.MemStateCheckpointer.delete_thread(thread_id)">thread_id</a></span><span class="p">:</span> <span class="n"><span title="str">str</span></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Deletes a specific thread from memory by its identifier.</p>
<p>This method removes the session associated with the given thread ID
from the memory, ensuring that it is no longer retained or accessed
in the system.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
<h5 id="memstate.integrations.langgraph.MemStateCheckpointer.delete_thread(thread_id)" class="doc doc-heading doc-heading-parameter">              <b><code>thread_id</code></b>
</h5>              (<code><span title="str">str</span></code>)
          –
          <div class="doc-md-description">
            <p>The unique identifier of the thread to be deleted.</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code>None</code>
          –
          <div class="doc-md-description">
            <p>This method does not return any value.</p>
          </div>
        </li>
    </ul>

          

            <details class="mkdocstrings-source">
              <summary>Source code in <code>memstate/integrations/langgraph.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-260">260</a></span>
<span class="normal"><a href="#__codelineno-0-261">261</a></span>
<span class="normal"><a href="#__codelineno-0-262">262</a></span>
<span class="normal"><a href="#__codelineno-0-263">263</a></span>
<span class="normal"><a href="#__codelineno-0-264">264</a></span>
<span class="normal"><a href="#__codelineno-0-265">265</a></span>
<span class="normal"><a href="#__codelineno-0-266">266</a></span>
<span class="normal"><a href="#__codelineno-0-267">267</a></span>
<span class="normal"><a href="#__codelineno-0-268">268</a></span>
<span class="normal"><a href="#__codelineno-0-269">269</a></span>
<span class="normal"><a href="#__codelineno-0-270">270</a></span>
<span class="normal"><a href="#__codelineno-0-271">271</a></span>
<span class="normal"><a href="#__codelineno-0-272">272</a></span>
<span class="normal"><a href="#__codelineno-0-273">273</a></span>
<span class="normal"><a href="#__codelineno-0-274">274</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-260" name="__codelineno-0-260"></a><span class="k">def</span><span class="w"> </span><span class="nf">delete_thread</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">thread_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-261" name="__codelineno-0-261"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-262" name="__codelineno-0-262"></a><span class="sd">    Deletes a specific thread from memory by its identifier.</span>
<a id="__codelineno-0-263" name="__codelineno-0-263"></a>
<a id="__codelineno-0-264" name="__codelineno-0-264"></a><span class="sd">    This method removes the session associated with the given thread ID</span>
<a id="__codelineno-0-265" name="__codelineno-0-265"></a><span class="sd">    from the memory, ensuring that it is no longer retained or accessed</span>
<a id="__codelineno-0-266" name="__codelineno-0-266"></a><span class="sd">    in the system.</span>
<a id="__codelineno-0-267" name="__codelineno-0-267"></a>
<a id="__codelineno-0-268" name="__codelineno-0-268"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-269" name="__codelineno-0-269"></a><span class="sd">        thread_id (str): The unique identifier of the thread to be deleted.</span>
<a id="__codelineno-0-270" name="__codelineno-0-270"></a>
<a id="__codelineno-0-271" name="__codelineno-0-271"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-272" name="__codelineno-0-272"></a><span class="sd">        This method does not return any value.</span>
<a id="__codelineno-0-273" name="__codelineno-0-273"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-274" name="__codelineno-0-274"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">memory</span><span class="o">.</span><span class="n">discard_session</span><span class="p">(</span><span class="n">thread_id</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="memstate.integrations.langgraph.MemStateCheckpointer.get_tuple" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">get_tuple</span>


</h4>
<div class="language-python doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">get_tuple</span><span class="p">(</span><span class="n"><a class="autorefs autorefs-internal" title="&lt;b&gt;&lt;code&gt;config&lt;/code&gt;&lt;/b&gt; (&lt;code&gt;memstate.integrations.langgraph.MemStateCheckpointer.get_tuple(config)&lt;/code&gt;)" href="#memstate.integrations.langgraph.MemStateCheckpointer.get_tuple(config)">config</a></span><span class="p">:</span> <span class="n"><span title="langchain_core.runnables.RunnableConfig">RunnableConfig</span></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><span title="langgraph.checkpoint.base.CheckpointTuple">CheckpointTuple</span></span> <span class="o">|</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Gets a checkpoint tuple based on the provided configuration.</p>
<p>This method queries memory to retrieve facts associated with a specific thread ID
from the configuration. Depending on whether a thread timestamp is provided,
it selects the most recent fact or the one matching the given timestamp.
Finally, it reconstructs the checkpoint tuple based on the retrieved fact's payload.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
<h5 id="memstate.integrations.langgraph.MemStateCheckpointer.get_tuple(config)" class="doc doc-heading doc-heading-parameter">              <b><code>config</code></b>
</h5>              (<code><span title="langchain_core.runnables.RunnableConfig">RunnableConfig</span></code>)
          –
          <div class="doc-md-description">
            <p>Configuration object containing thread-specific retrieval
data, including <code>thread_id</code> and optionally <code>thread_ts</code>.</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code><span title="langgraph.checkpoint.base.CheckpointTuple">CheckpointTuple</span> | None</code>
          –
          <div class="doc-md-description">
            <p>A <code>CheckpointTuple</code> containing the retrieved checkpoint data if a fact is found, otherwise <code>None</code>.</p>
          </div>
        </li>
    </ul>

          

            <details class="mkdocstrings-source">
              <summary>Source code in <code>memstate/integrations/langgraph.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-145">145</a></span>
<span class="normal"><a href="#__codelineno-0-146">146</a></span>
<span class="normal"><a href="#__codelineno-0-147">147</a></span>
<span class="normal"><a href="#__codelineno-0-148">148</a></span>
<span class="normal"><a href="#__codelineno-0-149">149</a></span>
<span class="normal"><a href="#__codelineno-0-150">150</a></span>
<span class="normal"><a href="#__codelineno-0-151">151</a></span>
<span class="normal"><a href="#__codelineno-0-152">152</a></span>
<span class="normal"><a href="#__codelineno-0-153">153</a></span>
<span class="normal"><a href="#__codelineno-0-154">154</a></span>
<span class="normal"><a href="#__codelineno-0-155">155</a></span>
<span class="normal"><a href="#__codelineno-0-156">156</a></span>
<span class="normal"><a href="#__codelineno-0-157">157</a></span>
<span class="normal"><a href="#__codelineno-0-158">158</a></span>
<span class="normal"><a href="#__codelineno-0-159">159</a></span>
<span class="normal"><a href="#__codelineno-0-160">160</a></span>
<span class="normal"><a href="#__codelineno-0-161">161</a></span>
<span class="normal"><a href="#__codelineno-0-162">162</a></span>
<span class="normal"><a href="#__codelineno-0-163">163</a></span>
<span class="normal"><a href="#__codelineno-0-164">164</a></span>
<span class="normal"><a href="#__codelineno-0-165">165</a></span>
<span class="normal"><a href="#__codelineno-0-166">166</a></span>
<span class="normal"><a href="#__codelineno-0-167">167</a></span>
<span class="normal"><a href="#__codelineno-0-168">168</a></span>
<span class="normal"><a href="#__codelineno-0-169">169</a></span>
<span class="normal"><a href="#__codelineno-0-170">170</a></span>
<span class="normal"><a href="#__codelineno-0-171">171</a></span>
<span class="normal"><a href="#__codelineno-0-172">172</a></span>
<span class="normal"><a href="#__codelineno-0-173">173</a></span>
<span class="normal"><a href="#__codelineno-0-174">174</a></span>
<span class="normal"><a href="#__codelineno-0-175">175</a></span>
<span class="normal"><a href="#__codelineno-0-176">176</a></span>
<span class="normal"><a href="#__codelineno-0-177">177</a></span>
<span class="normal"><a href="#__codelineno-0-178">178</a></span>
<span class="normal"><a href="#__codelineno-0-179">179</a></span>
<span class="normal"><a href="#__codelineno-0-180">180</a></span>
<span class="normal"><a href="#__codelineno-0-181">181</a></span>
<span class="normal"><a href="#__codelineno-0-182">182</a></span>
<span class="normal"><a href="#__codelineno-0-183">183</a></span>
<span class="normal"><a href="#__codelineno-0-184">184</a></span>
<span class="normal"><a href="#__codelineno-0-185">185</a></span>
<span class="normal"><a href="#__codelineno-0-186">186</a></span>
<span class="normal"><a href="#__codelineno-0-187">187</a></span>
<span class="normal"><a href="#__codelineno-0-188">188</a></span>
<span class="normal"><a href="#__codelineno-0-189">189</a></span>
<span class="normal"><a href="#__codelineno-0-190">190</a></span>
<span class="normal"><a href="#__codelineno-0-191">191</a></span>
<span class="normal"><a href="#__codelineno-0-192">192</a></span>
<span class="normal"><a href="#__codelineno-0-193">193</a></span>
<span class="normal"><a href="#__codelineno-0-194">194</a></span>
<span class="normal"><a href="#__codelineno-0-195">195</a></span>
<span class="normal"><a href="#__codelineno-0-196">196</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-145" name="__codelineno-0-145"></a><span class="k">def</span><span class="w"> </span><span class="nf">get_tuple</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config</span><span class="p">:</span> <span class="n">RunnableConfig</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">CheckpointTuple</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-146" name="__codelineno-0-146"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-147" name="__codelineno-0-147"></a><span class="sd">    Gets a checkpoint tuple based on the provided configuration.</span>
<a id="__codelineno-0-148" name="__codelineno-0-148"></a>
<a id="__codelineno-0-149" name="__codelineno-0-149"></a><span class="sd">    This method queries memory to retrieve facts associated with a specific thread ID</span>
<a id="__codelineno-0-150" name="__codelineno-0-150"></a><span class="sd">    from the configuration. Depending on whether a thread timestamp is provided,</span>
<a id="__codelineno-0-151" name="__codelineno-0-151"></a><span class="sd">    it selects the most recent fact or the one matching the given timestamp.</span>
<a id="__codelineno-0-152" name="__codelineno-0-152"></a><span class="sd">    Finally, it reconstructs the checkpoint tuple based on the retrieved fact&#39;s payload.</span>
<a id="__codelineno-0-153" name="__codelineno-0-153"></a>
<a id="__codelineno-0-154" name="__codelineno-0-154"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-155" name="__codelineno-0-155"></a><span class="sd">        config (RunnableConfig): Configuration object containing thread-specific retrieval</span>
<a id="__codelineno-0-156" name="__codelineno-0-156"></a><span class="sd">            data, including `thread_id` and optionally `thread_ts`.</span>
<a id="__codelineno-0-157" name="__codelineno-0-157"></a>
<a id="__codelineno-0-158" name="__codelineno-0-158"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-159" name="__codelineno-0-159"></a><span class="sd">        A `CheckpointTuple` containing the retrieved checkpoint data if a fact is found, otherwise `None`.</span>
<a id="__codelineno-0-160" name="__codelineno-0-160"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-161" name="__codelineno-0-161"></a>    <span class="n">thread_id</span> <span class="o">=</span> <span class="n">config</span><span class="p">[</span><span class="s2">&quot;configurable&quot;</span><span class="p">][</span><span class="s2">&quot;thread_id&quot;</span><span class="p">]</span>
<a id="__codelineno-0-162" name="__codelineno-0-162"></a>    <span class="n">thread_ts</span> <span class="o">=</span> <span class="n">config</span><span class="p">[</span><span class="s2">&quot;configurable&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;thread_ts&quot;</span><span class="p">)</span>
<a id="__codelineno-0-163" name="__codelineno-0-163"></a>    <span class="n">checkpoint_ns</span> <span class="o">=</span> <span class="n">config</span><span class="p">[</span><span class="s2">&quot;configurable&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;checkpoint_ns&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
<a id="__codelineno-0-164" name="__codelineno-0-164"></a>
<a id="__codelineno-0-165" name="__codelineno-0-165"></a>    <span class="n">facts</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">memory</span><span class="o">.</span><span class="n">query</span><span class="p">(</span>
<a id="__codelineno-0-166" name="__codelineno-0-166"></a>        <span class="n">typename</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">fact_type</span><span class="p">,</span> <span class="n">filters</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;session_id&quot;</span><span class="p">:</span> <span class="n">thread_id</span><span class="p">,</span> <span class="s2">&quot;payload.checkpoint_ns&quot;</span><span class="p">:</span> <span class="n">checkpoint_ns</span><span class="p">}</span>
<a id="__codelineno-0-167" name="__codelineno-0-167"></a>    <span class="p">)</span>
<a id="__codelineno-0-168" name="__codelineno-0-168"></a>
<a id="__codelineno-0-169" name="__codelineno-0-169"></a>    <span class="k">if</span> <span class="ow">not</span> <span class="n">facts</span><span class="p">:</span>
<a id="__codelineno-0-170" name="__codelineno-0-170"></a>        <span class="k">return</span> <span class="kc">None</span>
<a id="__codelineno-0-171" name="__codelineno-0-171"></a>
<a id="__codelineno-0-172" name="__codelineno-0-172"></a>    <span class="k">if</span> <span class="n">thread_ts</span><span class="p">:</span>
<a id="__codelineno-0-173" name="__codelineno-0-173"></a>        <span class="n">matching</span> <span class="o">=</span> <span class="p">[</span><span class="n">f</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">facts</span> <span class="k">if</span> <span class="n">f</span><span class="p">[</span><span class="s2">&quot;payload&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;thread_ts&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="n">thread_ts</span><span class="p">]</span>
<a id="__codelineno-0-174" name="__codelineno-0-174"></a>        <span class="n">fact</span> <span class="o">=</span> <span class="n">matching</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">if</span> <span class="n">matching</span> <span class="k">else</span> <span class="kc">None</span>
<a id="__codelineno-0-175" name="__codelineno-0-175"></a>    <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-176" name="__codelineno-0-176"></a>        <span class="n">facts</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="s2">&quot;ts&quot;</span><span class="p">],</span> <span class="n">reverse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<a id="__codelineno-0-177" name="__codelineno-0-177"></a>        <span class="n">fact</span> <span class="o">=</span> <span class="n">facts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<a id="__codelineno-0-178" name="__codelineno-0-178"></a>
<a id="__codelineno-0-179" name="__codelineno-0-179"></a>    <span class="k">if</span> <span class="ow">not</span> <span class="n">fact</span><span class="p">:</span>
<a id="__codelineno-0-180" name="__codelineno-0-180"></a>        <span class="k">return</span> <span class="kc">None</span>
<a id="__codelineno-0-181" name="__codelineno-0-181"></a>
<a id="__codelineno-0-182" name="__codelineno-0-182"></a>    <span class="n">payload</span> <span class="o">=</span> <span class="n">fact</span><span class="p">[</span><span class="s2">&quot;payload&quot;</span><span class="p">]</span>
<a id="__codelineno-0-183" name="__codelineno-0-183"></a>    <span class="n">checkpoint</span> <span class="o">=</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;checkpoint&quot;</span><span class="p">]</span>
<a id="__codelineno-0-184" name="__codelineno-0-184"></a>    <span class="n">pending_sends</span> <span class="o">=</span> <span class="n">checkpoint</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;pending_sends&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="p">[]</span>
<a id="__codelineno-0-185" name="__codelineno-0-185"></a>
<a id="__codelineno-0-186" name="__codelineno-0-186"></a>    <span class="n">saved_metadata</span> <span class="o">=</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;metadata&quot;</span><span class="p">]</span>
<a id="__codelineno-0-187" name="__codelineno-0-187"></a>    <span class="k">if</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;metadata&quot;</span><span class="p">):</span>
<a id="__codelineno-0-188" name="__codelineno-0-188"></a>        <span class="n">saved_metadata</span> <span class="o">=</span> <span class="p">{</span><span class="o">**</span><span class="n">saved_metadata</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span><span class="p">[</span><span class="s2">&quot;metadata&quot;</span><span class="p">]}</span>
<a id="__codelineno-0-189" name="__codelineno-0-189"></a>
<a id="__codelineno-0-190" name="__codelineno-0-190"></a>    <span class="k">return</span> <span class="n">CheckpointTuple</span><span class="p">(</span>
<a id="__codelineno-0-191" name="__codelineno-0-191"></a>        <span class="n">config</span><span class="o">=</span><span class="n">config</span><span class="p">,</span>
<a id="__codelineno-0-192" name="__codelineno-0-192"></a>        <span class="n">checkpoint</span><span class="o">=</span><span class="n">checkpoint</span><span class="p">,</span>
<a id="__codelineno-0-193" name="__codelineno-0-193"></a>        <span class="n">metadata</span><span class="o">=</span><span class="n">saved_metadata</span><span class="p">,</span>
<a id="__codelineno-0-194" name="__codelineno-0-194"></a>        <span class="n">parent_config</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>  <span class="c1">#  (optional, skip for now)</span>
<a id="__codelineno-0-195" name="__codelineno-0-195"></a>        <span class="n">pending_writes</span><span class="o">=</span><span class="n">pending_sends</span><span class="p">,</span>
<a id="__codelineno-0-196" name="__codelineno-0-196"></a>    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="memstate.integrations.langgraph.MemStateCheckpointer.list" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">list</span>


</h4>
<div class="language-python doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">list</span><span class="p">(</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>    <span class="n"><a class="autorefs autorefs-internal" title="&lt;b&gt;&lt;code&gt;config&lt;/code&gt;&lt;/b&gt; (&lt;code&gt;memstate.integrations.langgraph.MemStateCheckpointer.list(config)&lt;/code&gt;)" href="#memstate.integrations.langgraph.MemStateCheckpointer.list(config)">config</a></span><span class="p">:</span> <span class="n"><span title="langchain_core.runnables.RunnableConfig">RunnableConfig</span></span> <span class="o">|</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>    <span class="o">*</span><span class="p">,</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>    <span class="n"><a class="autorefs autorefs-internal" title="&lt;b&gt;&lt;code&gt;filter&lt;/code&gt;&lt;/b&gt; (&lt;code&gt;memstate.integrations.langgraph.MemStateCheckpointer.list(filter)&lt;/code&gt;)" href="#memstate.integrations.langgraph.MemStateCheckpointer.list(filter)">filter</a></span><span class="p">:</span> <span class="n"><span title="dict">dict</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">,</span> <span class="n"><span title="typing.Any">Any</span></span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>    <span class="n"><a class="autorefs autorefs-internal" title="&lt;b&gt;&lt;code&gt;before&lt;/code&gt;&lt;/b&gt; (&lt;code&gt;memstate.integrations.langgraph.MemStateCheckpointer.list(before)&lt;/code&gt;)" href="#memstate.integrations.langgraph.MemStateCheckpointer.list(before)">before</a></span><span class="p">:</span> <span class="n"><span title="langchain_core.runnables.RunnableConfig">RunnableConfig</span></span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>    <span class="n"><a class="autorefs autorefs-internal" title="&lt;b&gt;&lt;code&gt;limit&lt;/code&gt;&lt;/b&gt; (&lt;code&gt;memstate.integrations.langgraph.MemStateCheckpointer.list(limit)&lt;/code&gt;)" href="#memstate.integrations.langgraph.MemStateCheckpointer.list(limit)">limit</a></span><span class="p">:</span> <span class="n"><span title="int">int</span></span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><span title="typing.Iterator">Iterator</span></span><span class="p">[</span><span class="n"><span title="langgraph.checkpoint.base.CheckpointTuple">CheckpointTuple</span></span><span class="p">]</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>List and yield checkpoint tuples based on given configuration and filters.</p>
<p>This function retrieves fact data stored in memory, optionally applies
filters based on configuration or other specified parameters, and yields
checkpoint tuples sorted by timestamp. The functionality includes support
for limiting the number of facts processed.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
<h5 id="memstate.integrations.langgraph.MemStateCheckpointer.list(config)" class="doc doc-heading doc-heading-parameter">              <b><code>config</code></b>
</h5>              (<code><span title="langchain_core.runnables.RunnableConfig">RunnableConfig</span> | None</code>)
          –
          <div class="doc-md-description">
            <p>Configuration information for filtering facts. Optional.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
<h5 id="memstate.integrations.langgraph.MemStateCheckpointer.list(filter)" class="doc doc-heading doc-heading-parameter">              <b><code>filter</code></b>
</h5>              (<code><span title="dict">dict</span>[<span title="str">str</span>, <span title="typing.Any">Any</span>] | None</code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>Additional criteria for filtering facts based on key-value pairs. Optional.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
<h5 id="memstate.integrations.langgraph.MemStateCheckpointer.list(before)" class="doc doc-heading doc-heading-parameter">              <b><code>before</code></b>
</h5>              (<code><span title="langchain_core.runnables.RunnableConfig">RunnableConfig</span> | None</code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>Configuration object to apply filter before a certain criterion. Optional.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
<h5 id="memstate.integrations.langgraph.MemStateCheckpointer.list(limit)" class="doc doc-heading doc-heading-parameter">              <b><code>limit</code></b>
</h5>              (<code><span title="int">int</span> | None</code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>Maximum number of facts to process and yield. Optional.</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code><span title="typing.Iterator">Iterator</span>[<span title="langgraph.checkpoint.base.CheckpointTuple">CheckpointTuple</span>]</code>
          –
          <div class="doc-md-description">
            <p>An iterator over checkpoint tuples derived from the filtered facts.</p>
          </div>
        </li>
    </ul>

          

            <details class="mkdocstrings-source">
              <summary>Source code in <code>memstate/integrations/langgraph.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-198">198</a></span>
<span class="normal"><a href="#__codelineno-0-199">199</a></span>
<span class="normal"><a href="#__codelineno-0-200">200</a></span>
<span class="normal"><a href="#__codelineno-0-201">201</a></span>
<span class="normal"><a href="#__codelineno-0-202">202</a></span>
<span class="normal"><a href="#__codelineno-0-203">203</a></span>
<span class="normal"><a href="#__codelineno-0-204">204</a></span>
<span class="normal"><a href="#__codelineno-0-205">205</a></span>
<span class="normal"><a href="#__codelineno-0-206">206</a></span>
<span class="normal"><a href="#__codelineno-0-207">207</a></span>
<span class="normal"><a href="#__codelineno-0-208">208</a></span>
<span class="normal"><a href="#__codelineno-0-209">209</a></span>
<span class="normal"><a href="#__codelineno-0-210">210</a></span>
<span class="normal"><a href="#__codelineno-0-211">211</a></span>
<span class="normal"><a href="#__codelineno-0-212">212</a></span>
<span class="normal"><a href="#__codelineno-0-213">213</a></span>
<span class="normal"><a href="#__codelineno-0-214">214</a></span>
<span class="normal"><a href="#__codelineno-0-215">215</a></span>
<span class="normal"><a href="#__codelineno-0-216">216</a></span>
<span class="normal"><a href="#__codelineno-0-217">217</a></span>
<span class="normal"><a href="#__codelineno-0-218">218</a></span>
<span class="normal"><a href="#__codelineno-0-219">219</a></span>
<span class="normal"><a href="#__codelineno-0-220">220</a></span>
<span class="normal"><a href="#__codelineno-0-221">221</a></span>
<span class="normal"><a href="#__codelineno-0-222">222</a></span>
<span class="normal"><a href="#__codelineno-0-223">223</a></span>
<span class="normal"><a href="#__codelineno-0-224">224</a></span>
<span class="normal"><a href="#__codelineno-0-225">225</a></span>
<span class="normal"><a href="#__codelineno-0-226">226</a></span>
<span class="normal"><a href="#__codelineno-0-227">227</a></span>
<span class="normal"><a href="#__codelineno-0-228">228</a></span>
<span class="normal"><a href="#__codelineno-0-229">229</a></span>
<span class="normal"><a href="#__codelineno-0-230">230</a></span>
<span class="normal"><a href="#__codelineno-0-231">231</a></span>
<span class="normal"><a href="#__codelineno-0-232">232</a></span>
<span class="normal"><a href="#__codelineno-0-233">233</a></span>
<span class="normal"><a href="#__codelineno-0-234">234</a></span>
<span class="normal"><a href="#__codelineno-0-235">235</a></span>
<span class="normal"><a href="#__codelineno-0-236">236</a></span>
<span class="normal"><a href="#__codelineno-0-237">237</a></span>
<span class="normal"><a href="#__codelineno-0-238">238</a></span>
<span class="normal"><a href="#__codelineno-0-239">239</a></span>
<span class="normal"><a href="#__codelineno-0-240">240</a></span>
<span class="normal"><a href="#__codelineno-0-241">241</a></span>
<span class="normal"><a href="#__codelineno-0-242">242</a></span>
<span class="normal"><a href="#__codelineno-0-243">243</a></span>
<span class="normal"><a href="#__codelineno-0-244">244</a></span>
<span class="normal"><a href="#__codelineno-0-245">245</a></span>
<span class="normal"><a href="#__codelineno-0-246">246</a></span>
<span class="normal"><a href="#__codelineno-0-247">247</a></span>
<span class="normal"><a href="#__codelineno-0-248">248</a></span>
<span class="normal"><a href="#__codelineno-0-249">249</a></span>
<span class="normal"><a href="#__codelineno-0-250">250</a></span>
<span class="normal"><a href="#__codelineno-0-251">251</a></span>
<span class="normal"><a href="#__codelineno-0-252">252</a></span>
<span class="normal"><a href="#__codelineno-0-253">253</a></span>
<span class="normal"><a href="#__codelineno-0-254">254</a></span>
<span class="normal"><a href="#__codelineno-0-255">255</a></span>
<span class="normal"><a href="#__codelineno-0-256">256</a></span>
<span class="normal"><a href="#__codelineno-0-257">257</a></span>
<span class="normal"><a href="#__codelineno-0-258">258</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-198" name="__codelineno-0-198"></a><span class="k">def</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span>
<a id="__codelineno-0-199" name="__codelineno-0-199"></a>    <span class="bp">self</span><span class="p">,</span>
<a id="__codelineno-0-200" name="__codelineno-0-200"></a>    <span class="n">config</span><span class="p">:</span> <span class="n">RunnableConfig</span> <span class="o">|</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-201" name="__codelineno-0-201"></a>    <span class="o">*</span><span class="p">,</span>
<a id="__codelineno-0-202" name="__codelineno-0-202"></a>    <span class="nb">filter</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-203" name="__codelineno-0-203"></a>    <span class="n">before</span><span class="p">:</span> <span class="n">RunnableConfig</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-204" name="__codelineno-0-204"></a>    <span class="n">limit</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-205" name="__codelineno-0-205"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterator</span><span class="p">[</span><span class="n">CheckpointTuple</span><span class="p">]:</span>
<a id="__codelineno-0-206" name="__codelineno-0-206"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-207" name="__codelineno-0-207"></a><span class="sd">    List and yield checkpoint tuples based on given configuration and filters.</span>
<a id="__codelineno-0-208" name="__codelineno-0-208"></a>
<a id="__codelineno-0-209" name="__codelineno-0-209"></a><span class="sd">    This function retrieves fact data stored in memory, optionally applies</span>
<a id="__codelineno-0-210" name="__codelineno-0-210"></a><span class="sd">    filters based on configuration or other specified parameters, and yields</span>
<a id="__codelineno-0-211" name="__codelineno-0-211"></a><span class="sd">    checkpoint tuples sorted by timestamp. The functionality includes support</span>
<a id="__codelineno-0-212" name="__codelineno-0-212"></a><span class="sd">    for limiting the number of facts processed.</span>
<a id="__codelineno-0-213" name="__codelineno-0-213"></a>
<a id="__codelineno-0-214" name="__codelineno-0-214"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-215" name="__codelineno-0-215"></a><span class="sd">        config (RunnableConfig | None): Configuration information for filtering facts. Optional.</span>
<a id="__codelineno-0-216" name="__codelineno-0-216"></a><span class="sd">        filter (dict[str, Any] | None): Additional criteria for filtering facts based on key-value pairs. Optional.</span>
<a id="__codelineno-0-217" name="__codelineno-0-217"></a><span class="sd">        before (RunnableConfig | None): Configuration object to apply filter before a certain criterion. Optional.</span>
<a id="__codelineno-0-218" name="__codelineno-0-218"></a><span class="sd">        limit (int | None): Maximum number of facts to process and yield. Optional.</span>
<a id="__codelineno-0-219" name="__codelineno-0-219"></a>
<a id="__codelineno-0-220" name="__codelineno-0-220"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-221" name="__codelineno-0-221"></a><span class="sd">        An iterator over checkpoint tuples derived from the filtered facts.</span>
<a id="__codelineno-0-222" name="__codelineno-0-222"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-223" name="__codelineno-0-223"></a>
<a id="__codelineno-0-224" name="__codelineno-0-224"></a>    <span class="n">json_filters</span> <span class="o">=</span> <span class="p">{}</span>
<a id="__codelineno-0-225" name="__codelineno-0-225"></a>
<a id="__codelineno-0-226" name="__codelineno-0-226"></a>    <span class="k">if</span> <span class="n">config</span> <span class="ow">and</span> <span class="s2">&quot;configurable&quot;</span> <span class="ow">in</span> <span class="n">config</span><span class="p">:</span>
<a id="__codelineno-0-227" name="__codelineno-0-227"></a>        <span class="n">thread_id</span> <span class="o">=</span> <span class="n">config</span><span class="p">[</span><span class="s2">&quot;configurable&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;thread_id&quot;</span><span class="p">)</span>
<a id="__codelineno-0-228" name="__codelineno-0-228"></a>        <span class="n">checkpoint_ns</span> <span class="o">=</span> <span class="n">config</span><span class="p">[</span><span class="s2">&quot;configurable&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;checkpoint_ns&quot;</span><span class="p">)</span>
<a id="__codelineno-0-229" name="__codelineno-0-229"></a>        <span class="k">if</span> <span class="n">thread_id</span><span class="p">:</span>
<a id="__codelineno-0-230" name="__codelineno-0-230"></a>            <span class="n">json_filters</span><span class="p">[</span><span class="s2">&quot;session_id&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">thread_id</span>
<a id="__codelineno-0-231" name="__codelineno-0-231"></a>        <span class="k">if</span> <span class="n">checkpoint_ns</span><span class="p">:</span>
<a id="__codelineno-0-232" name="__codelineno-0-232"></a>            <span class="n">json_filters</span><span class="p">[</span><span class="s2">&quot;payload.checkpoint_ns&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">checkpoint_ns</span>
<a id="__codelineno-0-233" name="__codelineno-0-233"></a>
<a id="__codelineno-0-234" name="__codelineno-0-234"></a>    <span class="k">if</span> <span class="nb">filter</span><span class="p">:</span>
<a id="__codelineno-0-235" name="__codelineno-0-235"></a>        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="nb">filter</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
<a id="__codelineno-0-236" name="__codelineno-0-236"></a>            <span class="n">json_filters</span><span class="p">[</span><span class="sa">f</span><span class="s2">&quot;payload.metadata.</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
<a id="__codelineno-0-237" name="__codelineno-0-237"></a>
<a id="__codelineno-0-238" name="__codelineno-0-238"></a>    <span class="n">facts</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">memory</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">typename</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">fact_type</span><span class="p">,</span> <span class="n">filters</span><span class="o">=</span><span class="n">json_filters</span> <span class="k">if</span> <span class="n">json_filters</span> <span class="k">else</span> <span class="kc">None</span><span class="p">)</span>
<a id="__codelineno-0-239" name="__codelineno-0-239"></a>
<a id="__codelineno-0-240" name="__codelineno-0-240"></a>    <span class="n">facts</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="s2">&quot;ts&quot;</span><span class="p">],</span> <span class="n">reverse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<a id="__codelineno-0-241" name="__codelineno-0-241"></a>
<a id="__codelineno-0-242" name="__codelineno-0-242"></a>    <span class="k">if</span> <span class="n">limit</span><span class="p">:</span>
<a id="__codelineno-0-243" name="__codelineno-0-243"></a>        <span class="n">facts</span> <span class="o">=</span> <span class="n">facts</span><span class="p">[:</span><span class="n">limit</span><span class="p">]</span>
<a id="__codelineno-0-244" name="__codelineno-0-244"></a>
<a id="__codelineno-0-245" name="__codelineno-0-245"></a>    <span class="k">for</span> <span class="n">fact</span> <span class="ow">in</span> <span class="n">facts</span><span class="p">:</span>
<a id="__codelineno-0-246" name="__codelineno-0-246"></a>        <span class="n">payload</span> <span class="o">=</span> <span class="n">fact</span><span class="p">[</span><span class="s2">&quot;payload&quot;</span><span class="p">]</span>
<a id="__codelineno-0-247" name="__codelineno-0-247"></a>        <span class="k">yield</span> <span class="n">CheckpointTuple</span><span class="p">(</span>
<a id="__codelineno-0-248" name="__codelineno-0-248"></a>            <span class="p">{</span>
<a id="__codelineno-0-249" name="__codelineno-0-249"></a>                <span class="s2">&quot;configurable&quot;</span><span class="p">:</span> <span class="p">{</span>
<a id="__codelineno-0-250" name="__codelineno-0-250"></a>                    <span class="s2">&quot;thread_id&quot;</span><span class="p">:</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;thread_id&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="n">json_filters</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;session_id&quot;</span><span class="p">),</span>
<a id="__codelineno-0-251" name="__codelineno-0-251"></a>                    <span class="s2">&quot;thread_ts&quot;</span><span class="p">:</span> <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;thread_ts&quot;</span><span class="p">],</span>
<a id="__codelineno-0-252" name="__codelineno-0-252"></a>                    <span class="s2">&quot;checkpoint_ns&quot;</span><span class="p">:</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;checkpoint_ns&quot;</span><span class="p">),</span>
<a id="__codelineno-0-253" name="__codelineno-0-253"></a>                <span class="p">}</span>
<a id="__codelineno-0-254" name="__codelineno-0-254"></a>            <span class="p">},</span>
<a id="__codelineno-0-255" name="__codelineno-0-255"></a>            <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;checkpoint&quot;</span><span class="p">],</span>
<a id="__codelineno-0-256" name="__codelineno-0-256"></a>            <span class="n">payload</span><span class="p">[</span><span class="s2">&quot;metadata&quot;</span><span class="p">],</span>
<a id="__codelineno-0-257" name="__codelineno-0-257"></a>            <span class="p">(</span><span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;checkpoint&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="p">{})</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;pending_sends&quot;</span><span class="p">,</span> <span class="p">[]),</span>
<a id="__codelineno-0-258" name="__codelineno-0-258"></a>        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="memstate.integrations.langgraph.MemStateCheckpointer.put" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">put</span>


</h4>
<div class="language-python doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">put</span><span class="p">(</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>    <span class="n"><a class="autorefs autorefs-internal" title="&lt;b&gt;&lt;code&gt;config&lt;/code&gt;&lt;/b&gt; (&lt;code&gt;memstate.integrations.langgraph.MemStateCheckpointer.put(config)&lt;/code&gt;)" href="#memstate.integrations.langgraph.MemStateCheckpointer.put(config)">config</a></span><span class="p">:</span> <span class="n"><span title="langchain_core.runnables.RunnableConfig">RunnableConfig</span></span><span class="p">,</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>    <span class="n"><a class="autorefs autorefs-internal" title="&lt;b&gt;&lt;code&gt;checkpoint&lt;/code&gt;&lt;/b&gt; (&lt;code&gt;memstate.integrations.langgraph.MemStateCheckpointer.put(checkpoint)&lt;/code&gt;)" href="#memstate.integrations.langgraph.MemStateCheckpointer.put(checkpoint)">checkpoint</a></span><span class="p">:</span> <span class="n"><span title="langgraph.checkpoint.base.Checkpoint">Checkpoint</span></span><span class="p">,</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>    <span class="n"><a class="autorefs autorefs-internal" title="&lt;b&gt;&lt;code&gt;metadata&lt;/code&gt;&lt;/b&gt; (&lt;code&gt;memstate.integrations.langgraph.MemStateCheckpointer.put(metadata)&lt;/code&gt;)" href="#memstate.integrations.langgraph.MemStateCheckpointer.put(metadata)">metadata</a></span><span class="p">:</span> <span class="n"><span title="langgraph.checkpoint.base.CheckpointMetadata">CheckpointMetadata</span></span><span class="p">,</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>    <span class="n"><a class="autorefs autorefs-internal" title="&lt;b&gt;&lt;code&gt;new_versions&lt;/code&gt;&lt;/b&gt; (&lt;code&gt;memstate.integrations.langgraph.MemStateCheckpointer.put(new_versions)&lt;/code&gt;)" href="#memstate.integrations.langgraph.MemStateCheckpointer.put(new_versions)">new_versions</a></span><span class="p">:</span> <span class="n"><span title="dict">dict</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">,</span> <span class="n"><span title="typing.Any">Any</span></span><span class="p">],</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><span title="langchain_core.runnables.RunnableConfig">RunnableConfig</span></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Updates the state of a process by committing checkpoint metadata into memory
and returning an updated configuration object.</p>
<p>This method handles storing the provided checkpoint and its associated metadata
to facilitate process tracking. It interacts with the memory instance to ensure
the relevant details are committed within the appropriate session. After updating
memory, it returns a modified configuration containing the updated thread
parameters.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
<h5 id="memstate.integrations.langgraph.MemStateCheckpointer.put(config)" class="doc doc-heading doc-heading-parameter">              <b><code>config</code></b>
</h5>              (<code><span title="langchain_core.runnables.RunnableConfig">RunnableConfig</span></code>)
          –
          <div class="doc-md-description">
            <p>The configuration object for the runnable, which must include a <code>thread_id</code> under the <code>configurable</code> key.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
<h5 id="memstate.integrations.langgraph.MemStateCheckpointer.put(checkpoint)" class="doc doc-heading doc-heading-parameter">              <b><code>checkpoint</code></b>
</h5>              (<code><span title="langgraph.checkpoint.base.Checkpoint">Checkpoint</span></code>)
          –
          <div class="doc-md-description">
            <p>The checkpoint object containing state information to be stored in memory.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
<h5 id="memstate.integrations.langgraph.MemStateCheckpointer.put(metadata)" class="doc doc-heading doc-heading-parameter">              <b><code>metadata</code></b>
</h5>              (<code><span title="langgraph.checkpoint.base.CheckpointMetadata">CheckpointMetadata</span></code>)
          –
          <div class="doc-md-description">
            <p>Additional metadata corresponding to the checkpoint, providing
supplementary details about the stored state.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
<h5 id="memstate.integrations.langgraph.MemStateCheckpointer.put(new_versions)" class="doc doc-heading doc-heading-parameter">              <b><code>new_versions</code></b>
</h5>              (<code><span title="dict">dict</span>[<span title="str">str</span>, <span title="typing.Any">Any</span>]</code>)
          –
          <div class="doc-md-description">
            <p>A mapping of version keys to their new corresponding
values, used to track changes in versions during the execution process.</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code><span title="langchain_core.runnables.RunnableConfig">RunnableConfig</span></code>
          –
          <div class="doc-md-description">
            <p>A modified configuration object reflecting the updated thread
parameters after committing the provided checkpoint to memory.</p>
          </div>
        </li>
    </ul>

          

            <details class="mkdocstrings-source">
              <summary>Source code in <code>memstate/integrations/langgraph.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-51"> 51</a></span>
<span class="normal"><a href="#__codelineno-0-52"> 52</a></span>
<span class="normal"><a href="#__codelineno-0-53"> 53</a></span>
<span class="normal"><a href="#__codelineno-0-54"> 54</a></span>
<span class="normal"><a href="#__codelineno-0-55"> 55</a></span>
<span class="normal"><a href="#__codelineno-0-56"> 56</a></span>
<span class="normal"><a href="#__codelineno-0-57"> 57</a></span>
<span class="normal"><a href="#__codelineno-0-58"> 58</a></span>
<span class="normal"><a href="#__codelineno-0-59"> 59</a></span>
<span class="normal"><a href="#__codelineno-0-60"> 60</a></span>
<span class="normal"><a href="#__codelineno-0-61"> 61</a></span>
<span class="normal"><a href="#__codelineno-0-62"> 62</a></span>
<span class="normal"><a href="#__codelineno-0-63"> 63</a></span>
<span class="normal"><a href="#__codelineno-0-64"> 64</a></span>
<span class="normal"><a href="#__codelineno-0-65"> 65</a></span>
<span class="normal"><a href="#__codelineno-0-66"> 66</a></span>
<span class="normal"><a href="#__codelineno-0-67"> 67</a></span>
<span class="normal"><a href="#__codelineno-0-68"> 68</a></span>
<span class="normal"><a href="#__codelineno-0-69"> 69</a></span>
<span class="normal"><a href="#__codelineno-0-70"> 70</a></span>
<span class="normal"><a href="#__codelineno-0-71"> 71</a></span>
<span class="normal"><a href="#__codelineno-0-72"> 72</a></span>
<span class="normal"><a href="#__codelineno-0-73"> 73</a></span>
<span class="normal"><a href="#__codelineno-0-74"> 74</a></span>
<span class="normal"><a href="#__codelineno-0-75"> 75</a></span>
<span class="normal"><a href="#__codelineno-0-76"> 76</a></span>
<span class="normal"><a href="#__codelineno-0-77"> 77</a></span>
<span class="normal"><a href="#__codelineno-0-78"> 78</a></span>
<span class="normal"><a href="#__codelineno-0-79"> 79</a></span>
<span class="normal"><a href="#__codelineno-0-80"> 80</a></span>
<span class="normal"><a href="#__codelineno-0-81"> 81</a></span>
<span class="normal"><a href="#__codelineno-0-82"> 82</a></span>
<span class="normal"><a href="#__codelineno-0-83"> 83</a></span>
<span class="normal"><a href="#__codelineno-0-84"> 84</a></span>
<span class="normal"><a href="#__codelineno-0-85"> 85</a></span>
<span class="normal"><a href="#__codelineno-0-86"> 86</a></span>
<span class="normal"><a href="#__codelineno-0-87"> 87</a></span>
<span class="normal"><a href="#__codelineno-0-88"> 88</a></span>
<span class="normal"><a href="#__codelineno-0-89"> 89</a></span>
<span class="normal"><a href="#__codelineno-0-90"> 90</a></span>
<span class="normal"><a href="#__codelineno-0-91"> 91</a></span>
<span class="normal"><a href="#__codelineno-0-92"> 92</a></span>
<span class="normal"><a href="#__codelineno-0-93"> 93</a></span>
<span class="normal"><a href="#__codelineno-0-94"> 94</a></span>
<span class="normal"><a href="#__codelineno-0-95"> 95</a></span>
<span class="normal"><a href="#__codelineno-0-96"> 96</a></span>
<span class="normal"><a href="#__codelineno-0-97"> 97</a></span>
<span class="normal"><a href="#__codelineno-0-98"> 98</a></span>
<span class="normal"><a href="#__codelineno-0-99"> 99</a></span>
<span class="normal"><a href="#__codelineno-0-100">100</a></span>
<span class="normal"><a href="#__codelineno-0-101">101</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-51" name="__codelineno-0-51"></a><span class="k">def</span><span class="w"> </span><span class="nf">put</span><span class="p">(</span>
<a id="__codelineno-0-52" name="__codelineno-0-52"></a>    <span class="bp">self</span><span class="p">,</span>
<a id="__codelineno-0-53" name="__codelineno-0-53"></a>    <span class="n">config</span><span class="p">:</span> <span class="n">RunnableConfig</span><span class="p">,</span>
<a id="__codelineno-0-54" name="__codelineno-0-54"></a>    <span class="n">checkpoint</span><span class="p">:</span> <span class="n">Checkpoint</span><span class="p">,</span>
<a id="__codelineno-0-55" name="__codelineno-0-55"></a>    <span class="n">metadata</span><span class="p">:</span> <span class="n">CheckpointMetadata</span><span class="p">,</span>
<a id="__codelineno-0-56" name="__codelineno-0-56"></a>    <span class="n">new_versions</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
<a id="__codelineno-0-57" name="__codelineno-0-57"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RunnableConfig</span><span class="p">:</span>
<a id="__codelineno-0-58" name="__codelineno-0-58"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-59" name="__codelineno-0-59"></a><span class="sd">    Updates the state of a process by committing checkpoint metadata into memory</span>
<a id="__codelineno-0-60" name="__codelineno-0-60"></a><span class="sd">    and returning an updated configuration object.</span>
<a id="__codelineno-0-61" name="__codelineno-0-61"></a>
<a id="__codelineno-0-62" name="__codelineno-0-62"></a><span class="sd">    This method handles storing the provided checkpoint and its associated metadata</span>
<a id="__codelineno-0-63" name="__codelineno-0-63"></a><span class="sd">    to facilitate process tracking. It interacts with the memory instance to ensure</span>
<a id="__codelineno-0-64" name="__codelineno-0-64"></a><span class="sd">    the relevant details are committed within the appropriate session. After updating</span>
<a id="__codelineno-0-65" name="__codelineno-0-65"></a><span class="sd">    memory, it returns a modified configuration containing the updated thread</span>
<a id="__codelineno-0-66" name="__codelineno-0-66"></a><span class="sd">    parameters.</span>
<a id="__codelineno-0-67" name="__codelineno-0-67"></a>
<a id="__codelineno-0-68" name="__codelineno-0-68"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-69" name="__codelineno-0-69"></a><span class="sd">        config (RunnableConfig): The configuration object for the runnable, which must include a `thread_id` under the `configurable` key.</span>
<a id="__codelineno-0-70" name="__codelineno-0-70"></a><span class="sd">        checkpoint (Checkpoint): The checkpoint object containing state information to be stored in memory.</span>
<a id="__codelineno-0-71" name="__codelineno-0-71"></a><span class="sd">        metadata (CheckpointMetadata): Additional metadata corresponding to the checkpoint, providing</span>
<a id="__codelineno-0-72" name="__codelineno-0-72"></a><span class="sd">            supplementary details about the stored state.</span>
<a id="__codelineno-0-73" name="__codelineno-0-73"></a><span class="sd">        new_versions (dict[str, Any]): A mapping of version keys to their new corresponding</span>
<a id="__codelineno-0-74" name="__codelineno-0-74"></a><span class="sd">            values, used to track changes in versions during the execution process.</span>
<a id="__codelineno-0-75" name="__codelineno-0-75"></a>
<a id="__codelineno-0-76" name="__codelineno-0-76"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-77" name="__codelineno-0-77"></a><span class="sd">        A modified configuration object reflecting the updated thread</span>
<a id="__codelineno-0-78" name="__codelineno-0-78"></a><span class="sd">            parameters after committing the provided checkpoint to memory.</span>
<a id="__codelineno-0-79" name="__codelineno-0-79"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-80" name="__codelineno-0-80"></a>    <span class="n">thread_id</span> <span class="o">=</span> <span class="n">config</span><span class="p">[</span><span class="s2">&quot;configurable&quot;</span><span class="p">][</span><span class="s2">&quot;thread_id&quot;</span><span class="p">]</span>
<a id="__codelineno-0-81" name="__codelineno-0-81"></a>    <span class="n">checkpoint_ns</span> <span class="o">=</span> <span class="n">config</span><span class="p">[</span><span class="s2">&quot;configurable&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;checkpoint_ns&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
<a id="__codelineno-0-82" name="__codelineno-0-82"></a>
<a id="__codelineno-0-83" name="__codelineno-0-83"></a>    <span class="n">payload</span> <span class="o">=</span> <span class="p">{</span>
<a id="__codelineno-0-84" name="__codelineno-0-84"></a>        <span class="s2">&quot;checkpoint&quot;</span><span class="p">:</span> <span class="n">checkpoint</span><span class="p">,</span>
<a id="__codelineno-0-85" name="__codelineno-0-85"></a>        <span class="s2">&quot;metadata&quot;</span><span class="p">:</span> <span class="n">metadata</span><span class="p">,</span>
<a id="__codelineno-0-86" name="__codelineno-0-86"></a>        <span class="s2">&quot;new_versions&quot;</span><span class="p">:</span> <span class="n">new_versions</span><span class="p">,</span>
<a id="__codelineno-0-87" name="__codelineno-0-87"></a>        <span class="s2">&quot;thread_ts&quot;</span><span class="p">:</span> <span class="n">checkpoint</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">],</span>
<a id="__codelineno-0-88" name="__codelineno-0-88"></a>        <span class="s2">&quot;checkpoint_ns&quot;</span><span class="p">:</span> <span class="n">checkpoint_ns</span><span class="p">,</span>
<a id="__codelineno-0-89" name="__codelineno-0-89"></a>    <span class="p">}</span>
<a id="__codelineno-0-90" name="__codelineno-0-90"></a>
<a id="__codelineno-0-91" name="__codelineno-0-91"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">memory</span><span class="o">.</span><span class="n">commit</span><span class="p">(</span>
<a id="__codelineno-0-92" name="__codelineno-0-92"></a>        <span class="n">Fact</span><span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">fact_type</span><span class="p">,</span> <span class="n">payload</span><span class="o">=</span><span class="n">payload</span><span class="p">,</span> <span class="n">source</span><span class="o">=</span><span class="s2">&quot;langgraph_checkpoint&quot;</span><span class="p">),</span> <span class="n">session_id</span><span class="o">=</span><span class="n">thread_id</span>
<a id="__codelineno-0-93" name="__codelineno-0-93"></a>    <span class="p">)</span>
<a id="__codelineno-0-94" name="__codelineno-0-94"></a>
<a id="__codelineno-0-95" name="__codelineno-0-95"></a>    <span class="k">return</span> <span class="p">{</span>
<a id="__codelineno-0-96" name="__codelineno-0-96"></a>        <span class="s2">&quot;configurable&quot;</span><span class="p">:</span> <span class="p">{</span>
<a id="__codelineno-0-97" name="__codelineno-0-97"></a>            <span class="s2">&quot;thread_id&quot;</span><span class="p">:</span> <span class="n">thread_id</span><span class="p">,</span>
<a id="__codelineno-0-98" name="__codelineno-0-98"></a>            <span class="s2">&quot;thread_ts&quot;</span><span class="p">:</span> <span class="n">checkpoint</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">],</span>
<a id="__codelineno-0-99" name="__codelineno-0-99"></a>            <span class="s2">&quot;checkpoint_ns&quot;</span><span class="p">:</span> <span class="n">checkpoint_ns</span><span class="p">,</span>
<a id="__codelineno-0-100" name="__codelineno-0-100"></a>        <span class="p">}</span>
<a id="__codelineno-0-101" name="__codelineno-0-101"></a>    <span class="p">}</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="memstate.integrations.langgraph.MemStateCheckpointer.put_writes" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">put_writes</span>


</h4>
<div class="language-python doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">put_writes</span><span class="p">(</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>    <span class="n"><a class="autorefs autorefs-internal" title="&lt;b&gt;&lt;code&gt;config&lt;/code&gt;&lt;/b&gt; (&lt;code&gt;memstate.integrations.langgraph.MemStateCheckpointer.put_writes(config)&lt;/code&gt;)" href="#memstate.integrations.langgraph.MemStateCheckpointer.put_writes(config)">config</a></span><span class="p">:</span> <span class="n"><span title="langchain_core.runnables.RunnableConfig">RunnableConfig</span></span><span class="p">,</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>    <span class="n"><a class="autorefs autorefs-internal" title="&lt;b&gt;&lt;code&gt;writes&lt;/code&gt;&lt;/b&gt; (&lt;code&gt;memstate.integrations.langgraph.MemStateCheckpointer.put_writes(writes)&lt;/code&gt;)" href="#memstate.integrations.langgraph.MemStateCheckpointer.put_writes(writes)">writes</a></span><span class="p">:</span> <span class="n"><span title="typing.Sequence">Sequence</span></span><span class="p">[</span><span class="n"><span title="tuple">tuple</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">,</span> <span class="n"><span title="typing.Any">Any</span></span><span class="p">]],</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>    <span class="n"><a class="autorefs autorefs-internal" title="&lt;b&gt;&lt;code&gt;task_id&lt;/code&gt;&lt;/b&gt; (&lt;code&gt;memstate.integrations.langgraph.MemStateCheckpointer.put_writes(task_id)&lt;/code&gt;)" href="#memstate.integrations.langgraph.MemStateCheckpointer.put_writes(task_id)">task_id</a></span><span class="p">:</span> <span class="n"><span title="str">str</span></span><span class="p">,</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>    <span class="n"><a class="autorefs autorefs-internal" title="&lt;b&gt;&lt;code&gt;task_path&lt;/code&gt;&lt;/b&gt; (&lt;code&gt;memstate.integrations.langgraph.MemStateCheckpointer.put_writes(task_path)&lt;/code&gt;)" href="#memstate.integrations.langgraph.MemStateCheckpointer.put_writes(task_path)">task_path</a></span><span class="p">:</span> <span class="n"><span title="str">str</span></span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Executes the operation to store a sequence of writes by committing them as facts into memory
with associated task and thread information. Each write entry in the sequence is processed
with a specific channel, value, and index to generate a payload, which is then committed.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
<h5 id="memstate.integrations.langgraph.MemStateCheckpointer.put_writes(config)" class="doc doc-heading doc-heading-parameter">              <b><code>config</code></b>
</h5>              (<code><span title="langchain_core.runnables.RunnableConfig">RunnableConfig</span></code>)
          –
          <div class="doc-md-description">
            <p>The configuration object implementing the <code>RunnableConfig</code> interface. It must
contain a "configurable" dictionary with a thread ID linked under the key "thread_id".</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
<h5 id="memstate.integrations.langgraph.MemStateCheckpointer.put_writes(writes)" class="doc doc-heading doc-heading-parameter">              <b><code>writes</code></b>
</h5>              (<code><span title="typing.Sequence">Sequence</span>[<span title="tuple">tuple</span>[<span title="str">str</span>, <span title="typing.Any">Any</span>]]</code>)
          –
          <div class="doc-md-description">
            <p>A sequence of tuples where each tuple contains a string representing the channel
and an associated value of type <code>Any</code> to be committed.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
<h5 id="memstate.integrations.langgraph.MemStateCheckpointer.put_writes(task_id)" class="doc doc-heading doc-heading-parameter">              <b><code>task_id</code></b>
</h5>              (<code><span title="str">str</span></code>)
          –
          <div class="doc-md-description">
            <p>A string representing the unique identifier for the task that groups all the writes.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
<h5 id="memstate.integrations.langgraph.MemStateCheckpointer.put_writes(task_path)" class="doc doc-heading doc-heading-parameter">              <b><code>task_path</code></b>
</h5>              (<code><span title="str">str</span></code>, default:
                  <code>&#39;&#39;</code>
)
          –
          <div class="doc-md-description">
            <p>(optional) A string that represents the path or hierarchy associated with
the task. Defaults to an empty string if not provided.</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code>None</code>
          –
          <div class="doc-md-description">
            <p>None</p>
          </div>
        </li>
    </ul>

          

            <details class="mkdocstrings-source">
              <summary>Source code in <code>memstate/integrations/langgraph.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-103">103</a></span>
<span class="normal"><a href="#__codelineno-0-104">104</a></span>
<span class="normal"><a href="#__codelineno-0-105">105</a></span>
<span class="normal"><a href="#__codelineno-0-106">106</a></span>
<span class="normal"><a href="#__codelineno-0-107">107</a></span>
<span class="normal"><a href="#__codelineno-0-108">108</a></span>
<span class="normal"><a href="#__codelineno-0-109">109</a></span>
<span class="normal"><a href="#__codelineno-0-110">110</a></span>
<span class="normal"><a href="#__codelineno-0-111">111</a></span>
<span class="normal"><a href="#__codelineno-0-112">112</a></span>
<span class="normal"><a href="#__codelineno-0-113">113</a></span>
<span class="normal"><a href="#__codelineno-0-114">114</a></span>
<span class="normal"><a href="#__codelineno-0-115">115</a></span>
<span class="normal"><a href="#__codelineno-0-116">116</a></span>
<span class="normal"><a href="#__codelineno-0-117">117</a></span>
<span class="normal"><a href="#__codelineno-0-118">118</a></span>
<span class="normal"><a href="#__codelineno-0-119">119</a></span>
<span class="normal"><a href="#__codelineno-0-120">120</a></span>
<span class="normal"><a href="#__codelineno-0-121">121</a></span>
<span class="normal"><a href="#__codelineno-0-122">122</a></span>
<span class="normal"><a href="#__codelineno-0-123">123</a></span>
<span class="normal"><a href="#__codelineno-0-124">124</a></span>
<span class="normal"><a href="#__codelineno-0-125">125</a></span>
<span class="normal"><a href="#__codelineno-0-126">126</a></span>
<span class="normal"><a href="#__codelineno-0-127">127</a></span>
<span class="normal"><a href="#__codelineno-0-128">128</a></span>
<span class="normal"><a href="#__codelineno-0-129">129</a></span>
<span class="normal"><a href="#__codelineno-0-130">130</a></span>
<span class="normal"><a href="#__codelineno-0-131">131</a></span>
<span class="normal"><a href="#__codelineno-0-132">132</a></span>
<span class="normal"><a href="#__codelineno-0-133">133</a></span>
<span class="normal"><a href="#__codelineno-0-134">134</a></span>
<span class="normal"><a href="#__codelineno-0-135">135</a></span>
<span class="normal"><a href="#__codelineno-0-136">136</a></span>
<span class="normal"><a href="#__codelineno-0-137">137</a></span>
<span class="normal"><a href="#__codelineno-0-138">138</a></span>
<span class="normal"><a href="#__codelineno-0-139">139</a></span>
<span class="normal"><a href="#__codelineno-0-140">140</a></span>
<span class="normal"><a href="#__codelineno-0-141">141</a></span>
<span class="normal"><a href="#__codelineno-0-142">142</a></span>
<span class="normal"><a href="#__codelineno-0-143">143</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-103" name="__codelineno-0-103"></a><span class="k">def</span><span class="w"> </span><span class="nf">put_writes</span><span class="p">(</span>
<a id="__codelineno-0-104" name="__codelineno-0-104"></a>    <span class="bp">self</span><span class="p">,</span>
<a id="__codelineno-0-105" name="__codelineno-0-105"></a>    <span class="n">config</span><span class="p">:</span> <span class="n">RunnableConfig</span><span class="p">,</span>
<a id="__codelineno-0-106" name="__codelineno-0-106"></a>    <span class="n">writes</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]],</span>
<a id="__codelineno-0-107" name="__codelineno-0-107"></a>    <span class="n">task_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
<a id="__codelineno-0-108" name="__codelineno-0-108"></a>    <span class="n">task_path</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
<a id="__codelineno-0-109" name="__codelineno-0-109"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-110" name="__codelineno-0-110"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-111" name="__codelineno-0-111"></a><span class="sd">    Executes the operation to store a sequence of writes by committing them as facts into memory</span>
<a id="__codelineno-0-112" name="__codelineno-0-112"></a><span class="sd">    with associated task and thread information. Each write entry in the sequence is processed</span>
<a id="__codelineno-0-113" name="__codelineno-0-113"></a><span class="sd">    with a specific channel, value, and index to generate a payload, which is then committed.</span>
<a id="__codelineno-0-114" name="__codelineno-0-114"></a>
<a id="__codelineno-0-115" name="__codelineno-0-115"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-116" name="__codelineno-0-116"></a><span class="sd">        config (RunnableConfig): The configuration object implementing the `RunnableConfig` interface. It must</span>
<a id="__codelineno-0-117" name="__codelineno-0-117"></a><span class="sd">            contain a &quot;configurable&quot; dictionary with a thread ID linked under the key &quot;thread_id&quot;.</span>
<a id="__codelineno-0-118" name="__codelineno-0-118"></a><span class="sd">        writes (Sequence[tuple[str, Any]]): A sequence of tuples where each tuple contains a string representing the channel</span>
<a id="__codelineno-0-119" name="__codelineno-0-119"></a><span class="sd">            and an associated value of type `Any` to be committed.</span>
<a id="__codelineno-0-120" name="__codelineno-0-120"></a><span class="sd">        task_id (str): A string representing the unique identifier for the task that groups all the writes.</span>
<a id="__codelineno-0-121" name="__codelineno-0-121"></a><span class="sd">        task_path (str): (optional) A string that represents the path or hierarchy associated with</span>
<a id="__codelineno-0-122" name="__codelineno-0-122"></a><span class="sd">            the task. Defaults to an empty string if not provided.</span>
<a id="__codelineno-0-123" name="__codelineno-0-123"></a>
<a id="__codelineno-0-124" name="__codelineno-0-124"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-125" name="__codelineno-0-125"></a><span class="sd">        None</span>
<a id="__codelineno-0-126" name="__codelineno-0-126"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-127" name="__codelineno-0-127"></a>    <span class="n">thread_id</span> <span class="o">=</span> <span class="n">config</span><span class="p">[</span><span class="s2">&quot;configurable&quot;</span><span class="p">][</span><span class="s2">&quot;thread_id&quot;</span><span class="p">]</span>
<a id="__codelineno-0-128" name="__codelineno-0-128"></a>    <span class="n">checkpoint_ns</span> <span class="o">=</span> <span class="n">config</span><span class="p">[</span><span class="s2">&quot;configurable&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;checkpoint_ns&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
<a id="__codelineno-0-129" name="__codelineno-0-129"></a>
<a id="__codelineno-0-130" name="__codelineno-0-130"></a>    <span class="k">for</span> <span class="n">idx</span><span class="p">,</span> <span class="p">(</span><span class="n">channel</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">writes</span><span class="p">):</span>
<a id="__codelineno-0-131" name="__codelineno-0-131"></a>        <span class="n">payload</span> <span class="o">=</span> <span class="p">{</span>
<a id="__codelineno-0-132" name="__codelineno-0-132"></a>            <span class="s2">&quot;task_id&quot;</span><span class="p">:</span> <span class="n">task_id</span><span class="p">,</span>
<a id="__codelineno-0-133" name="__codelineno-0-133"></a>            <span class="s2">&quot;task_path&quot;</span><span class="p">:</span> <span class="n">task_path</span><span class="p">,</span>
<a id="__codelineno-0-134" name="__codelineno-0-134"></a>            <span class="s2">&quot;channel&quot;</span><span class="p">:</span> <span class="n">channel</span><span class="p">,</span>
<a id="__codelineno-0-135" name="__codelineno-0-135"></a>            <span class="s2">&quot;value&quot;</span><span class="p">:</span> <span class="n">value</span><span class="p">,</span>
<a id="__codelineno-0-136" name="__codelineno-0-136"></a>            <span class="s2">&quot;idx&quot;</span><span class="p">:</span> <span class="n">idx</span><span class="p">,</span>
<a id="__codelineno-0-137" name="__codelineno-0-137"></a>            <span class="s2">&quot;thread_id&quot;</span><span class="p">:</span> <span class="n">thread_id</span><span class="p">,</span>
<a id="__codelineno-0-138" name="__codelineno-0-138"></a>            <span class="s2">&quot;checkpoint_ns&quot;</span><span class="p">:</span> <span class="n">checkpoint_ns</span><span class="p">,</span>
<a id="__codelineno-0-139" name="__codelineno-0-139"></a>        <span class="p">}</span>
<a id="__codelineno-0-140" name="__codelineno-0-140"></a>
<a id="__codelineno-0-141" name="__codelineno-0-141"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">memory</span><span class="o">.</span><span class="n">commit</span><span class="p">(</span>
<a id="__codelineno-0-142" name="__codelineno-0-142"></a>            <span class="n">Fact</span><span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">write_type</span><span class="p">,</span> <span class="n">payload</span><span class="o">=</span><span class="n">payload</span><span class="p">,</span> <span class="n">source</span><span class="o">=</span><span class="s2">&quot;langgraph_writes&quot;</span><span class="p">),</span> <span class="n">session_id</span><span class="o">=</span><span class="n">thread_id</span>
<a id="__codelineno-0-143" name="__codelineno-0-143"></a>        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>




  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h2 id="memstate.integrations.qdrant" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-module"></code>            <span class="doc doc-object-name doc-module-name">qdrant</span>


</h2>

    <div class="doc doc-contents ">

        <p>Qdrant integration.</p>

          









<p><span class="doc-section-title">Classes:</span></p>
    <ul>
        <li class="doc-section-item field-body">
          <b><code><a class="autorefs autorefs-internal" title="&lt;code class=&quot;doc-symbol doc-symbol-heading doc-symbol-class&quot;&gt;&lt;/code&gt;            &lt;span class=&quot;doc doc-object-name doc-class-name&quot;&gt;AsyncQdrantSyncHook&lt;/span&gt; (&lt;code&gt;memstate.integrations.qdrant.AsyncQdrantSyncHook&lt;/code&gt;)" href="#memstate.integrations.qdrant.AsyncQdrantSyncHook">AsyncQdrantSyncHook</a></code></b>
          –
          <div class="doc-md-description">
            <p>Handles synchronization of memory updates with a Qdrant collection by managing</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
          <b><code><a class="autorefs autorefs-internal" title="&lt;code class=&quot;doc-symbol doc-symbol-heading doc-symbol-class&quot;&gt;&lt;/code&gt;            &lt;span class=&quot;doc doc-object-name doc-class-name&quot;&gt;FastEmbedEncoder&lt;/span&gt; (&lt;code&gt;memstate.integrations.qdrant.FastEmbedEncoder&lt;/code&gt;)" href="#memstate.integrations.qdrant.FastEmbedEncoder">FastEmbedEncoder</a></code></b>
          –
          <div class="doc-md-description">
            <p>Default embedding implementation using FastEmbed.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
          <b><code><a class="autorefs autorefs-internal" title="&lt;code class=&quot;doc-symbol doc-symbol-heading doc-symbol-class&quot;&gt;&lt;/code&gt;            &lt;span class=&quot;doc doc-object-name doc-class-name&quot;&gt;QdrantSyncHook&lt;/span&gt; (&lt;code&gt;memstate.integrations.qdrant.QdrantSyncHook&lt;/code&gt;)" href="#memstate.integrations.qdrant.QdrantSyncHook">QdrantSyncHook</a></code></b>
          –
          <div class="doc-md-description">
            <p>Handles synchronization of memory updates with a Qdrant collection by managing</p>
          </div>
        </li>
    </ul>







<div class="doc doc-children">









<div class="doc doc-object doc-class">



<h3 id="memstate.integrations.qdrant.AsyncQdrantSyncHook" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">AsyncQdrantSyncHook</span>


</h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">AsyncQdrantSyncHook</span><span class="p">(</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>    <span class="n"><span title="memstate.integrations.qdrant.AsyncQdrantSyncHook(client)">client</span></span><span class="p">:</span> <span class="n"><span title="qdrant_client.AsyncQdrantClient">AsyncQdrantClient</span></span><span class="p">,</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>    <span class="n"><span title="memstate.integrations.qdrant.AsyncQdrantSyncHook(collection_name)">collection_name</span></span><span class="p">:</span> <span class="n"><span title="str">str</span></span><span class="p">,</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>    <span class="n"><span title="memstate.integrations.qdrant.AsyncQdrantSyncHook(embedding_fn)">embedding_fn</span></span><span class="p">:</span> <span class="n"><span title="memstate.integrations.qdrant.EmbeddingFunction">EmbeddingFunction</span></span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>    <span class="n"><span title="memstate.integrations.qdrant.AsyncQdrantSyncHook(target_types)">target_types</span></span><span class="p">:</span> <span class="n"><span title="set">set</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>    <span class="n"><span title="memstate.integrations.qdrant.AsyncQdrantSyncHook(text_field)">text_field</span></span><span class="p">:</span> <span class="n"><span title="str">str</span></span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>    <span class="n"><span title="memstate.integrations.qdrant.AsyncQdrantSyncHook(text_formatter)">text_formatter</span></span><span class="p">:</span> <span class="n"><span title="memstate.integrations.qdrant.TextFormatter">TextFormatter</span></span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>    <span class="n"><span title="memstate.integrations.qdrant.AsyncQdrantSyncHook(metadata_fields)">metadata_fields</span></span><span class="p">:</span> <span class="n"><span title="list">list</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a>    <span class="n"><span title="memstate.integrations.qdrant.AsyncQdrantSyncHook(metadata_formatter)">metadata_formatter</span></span><span class="p">:</span> <span class="n"><span title="memstate.integrations.qdrant.MetadataFormatter">MetadataFormatter</span></span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a>    <span class="n"><span title="memstate.integrations.qdrant.AsyncQdrantSyncHook(distance)">distance</span></span><span class="p">:</span> <span class="n"><span title="qdrant_client.models.Distance">Distance</span></span> <span class="o">=</span> <span class="n"><span title="qdrant_client.models.Distance.COSINE">COSINE</span></span><span class="p">,</span>
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="memstate.types.AsyncMemoryHook">AsyncMemoryHook</span></code></p>



        <p>Handles synchronization of memory updates with a Qdrant collection by managing
CRUD operations on vector embeddings and metadata. Designed for real-time updates
and integration with Qdrant database collections.</p>
<p>The class provides support for maintaining vector embeddings, setting up collection
parameters, formatting metadata, and handling various operations such as inserts,
updates, deletions, and session discards. Additionally, it supports embedding functions
and configurable distance metrics for vector similarity functionality.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <ul>
        <li class="doc-section-item field-body">
          <b><code><span title="memstate.integrations.qdrant.AsyncQdrantSyncHook.client">client</span></code></b>
              (<code><span title="qdrant_client.AsyncQdrantClient">AsyncQdrantClient</span></code>)
          –
          <div class="doc-md-description">
            <p>Client instance for interacting with the Qdrant database.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
          <b><code><span title="memstate.integrations.qdrant.AsyncQdrantSyncHook.collection_name">collection_name</span></code></b>
              (<code><span title="str">str</span></code>)
          –
          <div class="doc-md-description">
            <p>Name of the Qdrant collection to synchronize with.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
          <b><code><span title="memstate.integrations.qdrant.AsyncQdrantSyncHook.embedding_fn">embedding_fn</span></code></b>
              (<code><span title="memstate.integrations.qdrant.EmbeddingFunction">EmbeddingFunction</span> | None</code>)
          –
          <div class="doc-md-description">
            <p>Function responsible for generating vector embeddings,
defaulting to FastEmbedEncoder if not provided.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
          <b><code><span title="memstate.integrations.qdrant.AsyncQdrantSyncHook.target_types">target_types</span></code></b>
              (<code><span title="set">set</span>[<span title="str">str</span>] | None</code>)
          –
          <div class="doc-md-description">
            <p>Set of target types that define which operations are supported
for synchronization. Defaults to an empty set.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
          <b><code><span title="memstate.integrations.qdrant.AsyncQdrantSyncHook.distance">distance</span></code></b>
              (<code><span title="qdrant_client.models.Distance">Distance</span></code>)
          –
          <div class="doc-md-description">
            <p>Metric to compute vector similarity in Qdrant, e.g., COSINE, EUCLIDEAN.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
          <b><code><span title="memstate.integrations.qdrant.AsyncQdrantSyncHook.metadata_fields">metadata_fields</span></code></b>
              (<code><span title="list">list</span>[<span title="str">str</span>] | None</code>)
          –
          <div class="doc-md-description">
            <p>List of fields to include in the metadata payload.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
          <b><code><span title="memstate.integrations.qdrant.AsyncQdrantSyncHook.metadata_formatter">metadata_formatter</span></code></b>
              (<code><span title="memstate.integrations.qdrant.MetadataFormatter">MetadataFormatter</span> | None</code>)
          –
          <div class="doc-md-description">
            <p>Formatter function for structuring metadata. Optional.</p>
          </div>
        </li>
    </ul>

          











<p><span class="doc-section-title">Methods:</span></p>
    <ul>
          <li class="doc-section-item field-body">
            <b><code><a class="autorefs autorefs-internal" title="&lt;code class=&quot;doc-symbol doc-symbol-heading doc-symbol-method&quot;&gt;&lt;/code&gt;            &lt;span class=&quot;doc doc-object-name doc-function-name&quot;&gt;search&lt;/span&gt;


  &lt;span class=&quot;doc doc-labels&quot;&gt;
      &lt;small class=&quot;doc doc-label doc-label-async&quot;&gt;&lt;code&gt;async&lt;/code&gt;&lt;/small&gt;
  &lt;/span&gt; (&lt;code&gt;memstate.integrations.qdrant.AsyncQdrantSyncHook.search&lt;/code&gt;)" href="#memstate.integrations.qdrant.AsyncQdrantSyncHook.search">search</a></code></b>
            –
            <div class="doc-md-description">
              <p>Asynchronously searches for results based on a query string, a specified limit, and optional filters.</p>
            </div>
          </li>
    </ul>



                  <details class="mkdocstrings-source">
                    <summary>Source code in <code>memstate/integrations/qdrant.py</code></summary>
                    <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-340">340</a></span>
<span class="normal"><a href="#__codelineno-0-341">341</a></span>
<span class="normal"><a href="#__codelineno-0-342">342</a></span>
<span class="normal"><a href="#__codelineno-0-343">343</a></span>
<span class="normal"><a href="#__codelineno-0-344">344</a></span>
<span class="normal"><a href="#__codelineno-0-345">345</a></span>
<span class="normal"><a href="#__codelineno-0-346">346</a></span>
<span class="normal"><a href="#__codelineno-0-347">347</a></span>
<span class="normal"><a href="#__codelineno-0-348">348</a></span>
<span class="normal"><a href="#__codelineno-0-349">349</a></span>
<span class="normal"><a href="#__codelineno-0-350">350</a></span>
<span class="normal"><a href="#__codelineno-0-351">351</a></span>
<span class="normal"><a href="#__codelineno-0-352">352</a></span>
<span class="normal"><a href="#__codelineno-0-353">353</a></span>
<span class="normal"><a href="#__codelineno-0-354">354</a></span>
<span class="normal"><a href="#__codelineno-0-355">355</a></span>
<span class="normal"><a href="#__codelineno-0-356">356</a></span>
<span class="normal"><a href="#__codelineno-0-357">357</a></span>
<span class="normal"><a href="#__codelineno-0-358">358</a></span>
<span class="normal"><a href="#__codelineno-0-359">359</a></span>
<span class="normal"><a href="#__codelineno-0-360">360</a></span>
<span class="normal"><a href="#__codelineno-0-361">361</a></span>
<span class="normal"><a href="#__codelineno-0-362">362</a></span>
<span class="normal"><a href="#__codelineno-0-363">363</a></span>
<span class="normal"><a href="#__codelineno-0-364">364</a></span>
<span class="normal"><a href="#__codelineno-0-365">365</a></span>
<span class="normal"><a href="#__codelineno-0-366">366</a></span>
<span class="normal"><a href="#__codelineno-0-367">367</a></span>
<span class="normal"><a href="#__codelineno-0-368">368</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-340" name="__codelineno-0-340"></a><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
<a id="__codelineno-0-341" name="__codelineno-0-341"></a>    <span class="bp">self</span><span class="p">,</span>
<a id="__codelineno-0-342" name="__codelineno-0-342"></a>    <span class="n">client</span><span class="p">:</span> <span class="n">AsyncQdrantClient</span><span class="p">,</span>
<a id="__codelineno-0-343" name="__codelineno-0-343"></a>    <span class="n">collection_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
<a id="__codelineno-0-344" name="__codelineno-0-344"></a>    <span class="n">embedding_fn</span><span class="p">:</span> <span class="n">EmbeddingFunction</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-345" name="__codelineno-0-345"></a>    <span class="n">target_types</span><span class="p">:</span> <span class="nb">set</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-346" name="__codelineno-0-346"></a>    <span class="n">text_field</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-347" name="__codelineno-0-347"></a>    <span class="n">text_formatter</span><span class="p">:</span> <span class="n">TextFormatter</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-348" name="__codelineno-0-348"></a>    <span class="n">metadata_fields</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-349" name="__codelineno-0-349"></a>    <span class="n">metadata_formatter</span><span class="p">:</span> <span class="n">MetadataFormatter</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-350" name="__codelineno-0-350"></a>    <span class="n">distance</span><span class="p">:</span> <span class="n">models</span><span class="o">.</span><span class="n">Distance</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">Distance</span><span class="o">.</span><span class="n">COSINE</span><span class="p">,</span>
<a id="__codelineno-0-351" name="__codelineno-0-351"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-352" name="__codelineno-0-352"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">client</span> <span class="o">=</span> <span class="n">client</span>
<a id="__codelineno-0-353" name="__codelineno-0-353"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">collection_name</span> <span class="o">=</span> <span class="n">collection_name</span>
<a id="__codelineno-0-354" name="__codelineno-0-354"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">embedding_fn</span> <span class="o">=</span> <span class="n">embedding_fn</span> <span class="ow">or</span> <span class="n">FastEmbedEncoder</span><span class="p">()</span>
<a id="__codelineno-0-355" name="__codelineno-0-355"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">target_types</span> <span class="o">=</span> <span class="n">target_types</span> <span class="ow">or</span> <span class="nb">set</span><span class="p">()</span>
<a id="__codelineno-0-356" name="__codelineno-0-356"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">distance</span> <span class="o">=</span> <span class="n">distance</span>
<a id="__codelineno-0-357" name="__codelineno-0-357"></a>
<a id="__codelineno-0-358" name="__codelineno-0-358"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_collection_checked</span> <span class="o">=</span> <span class="kc">False</span>
<a id="__codelineno-0-359" name="__codelineno-0-359"></a>
<a id="__codelineno-0-360" name="__codelineno-0-360"></a>    <span class="k">if</span> <span class="n">text_formatter</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-361" name="__codelineno-0-361"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_extract_text</span> <span class="o">=</span> <span class="n">text_formatter</span>
<a id="__codelineno-0-362" name="__codelineno-0-362"></a>    <span class="k">elif</span> <span class="n">text_field</span><span class="p">:</span>
<a id="__codelineno-0-363" name="__codelineno-0-363"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_extract_text</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">data</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">text_field</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">))</span>
<a id="__codelineno-0-364" name="__codelineno-0-364"></a>    <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-365" name="__codelineno-0-365"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_extract_text</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">data</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<a id="__codelineno-0-366" name="__codelineno-0-366"></a>
<a id="__codelineno-0-367" name="__codelineno-0-367"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">metadata_fields</span> <span class="o">=</span> <span class="n">metadata_fields</span> <span class="ow">or</span> <span class="p">[]</span>
<a id="__codelineno-0-368" name="__codelineno-0-368"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">metadata_formatter</span> <span class="o">=</span> <span class="n">metadata_formatter</span>
</code></pre></div></td></tr></table></div>
                  </details>



<div class="doc doc-children">










<div class="doc doc-object doc-function">


<h4 id="memstate.integrations.qdrant.AsyncQdrantSyncHook.search" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">search</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h4>
<div class="language-python doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">search</span><span class="p">(</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>    <span class="n"><a class="autorefs autorefs-internal" title="&lt;b&gt;&lt;code&gt;query&lt;/code&gt;&lt;/b&gt; (&lt;code&gt;memstate.integrations.qdrant.AsyncQdrantSyncHook.search(query)&lt;/code&gt;)" href="#memstate.integrations.qdrant.AsyncQdrantSyncHook.search(query)">query</a></span><span class="p">:</span> <span class="n"><span title="str">str</span></span><span class="p">,</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>    <span class="n"><a class="autorefs autorefs-internal" title="&lt;b&gt;&lt;code&gt;limit&lt;/code&gt;&lt;/b&gt; (&lt;code&gt;memstate.integrations.qdrant.AsyncQdrantSyncHook.search(limit)&lt;/code&gt;)" href="#memstate.integrations.qdrant.AsyncQdrantSyncHook.search(limit)">limit</a></span><span class="p">:</span> <span class="n"><span title="int">int</span></span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>    <span class="n"><a class="autorefs autorefs-internal" title="&lt;b&gt;&lt;code&gt;filters&lt;/code&gt;&lt;/b&gt; (&lt;code&gt;memstate.integrations.qdrant.AsyncQdrantSyncHook.search(filters)&lt;/code&gt;)" href="#memstate.integrations.qdrant.AsyncQdrantSyncHook.search(filters)">filters</a></span><span class="p">:</span> <span class="n"><span title="dict">dict</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">,</span> <span class="n"><span title="typing.Any">Any</span></span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>    <span class="n"><a class="autorefs autorefs-internal" title="&lt;b&gt;&lt;code&gt;score_threshold&lt;/code&gt;&lt;/b&gt; (&lt;code&gt;memstate.integrations.qdrant.AsyncQdrantSyncHook.search(score_threshold)&lt;/code&gt;)" href="#memstate.integrations.qdrant.AsyncQdrantSyncHook.search(score_threshold)">score_threshold</a></span><span class="p">:</span> <span class="n"><span title="float">float</span></span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><span title="list">list</span></span><span class="p">[</span><span class="n"><span title="memstate.schemas.SearchResult">SearchResult</span></span><span class="p">]</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Asynchronously searches for results based on a query string, a specified limit, and optional filters.</p>
<p>This function performs a search and returns a list of results
matching the input query. The number of results returned can
be limited by the <code>limit</code> parameter. Filters can also be applied
to refine the search. If no filters are provided, the search is
performed without additional constraints.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
<h5 id="memstate.integrations.qdrant.AsyncQdrantSyncHook.search(query)" class="doc doc-heading doc-heading-parameter">              <b><code>query</code></b>
</h5>              (<code><span title="str">str</span></code>)
          –
          <div class="doc-md-description">
            <p>A string representing the search query.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
<h5 id="memstate.integrations.qdrant.AsyncQdrantSyncHook.search(limit)" class="doc doc-heading doc-heading-parameter">              <b><code>limit</code></b>
</h5>              (<code><span title="int">int</span></code>, default:
                  <code>5</code>
)
          –
          <div class="doc-md-description">
            <p>An integer specifying the maximum number of results to return. Defaults to 5.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
<h5 id="memstate.integrations.qdrant.AsyncQdrantSyncHook.search(filters)" class="doc doc-heading doc-heading-parameter">              <b><code>filters</code></b>
</h5>              (<code><span title="dict">dict</span> | None</code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>Qdrant-compatible filter.
You can pass a <code>qdrant_client.models.Filter</code> object or a raw dict.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
<h5 id="memstate.integrations.qdrant.AsyncQdrantSyncHook.search(score_threshold)" class="doc doc-heading doc-heading-parameter">              <b><code>score_threshold</code></b>
</h5>              (<code><span title="float">float</span> | None</code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>Minimum similarity score.
<strong>Note:</strong> Qdrant usually uses Cosine Similarity (higher is better).
This acts as a <strong>Minimum Score</strong> filter.
Results with score &lt; score_threshold will be excluded.</p>
          </div>
        </li>
    </ul>
        <p>Returns:
    A list of <code>SearchResult</code> objects corresponding to the
        matches found according to the query, limit, and filters.</p>

          

            <details class="mkdocstrings-source">
              <summary>Source code in <code>memstate/integrations/qdrant.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-514">514</a></span>
<span class="normal"><a href="#__codelineno-0-515">515</a></span>
<span class="normal"><a href="#__codelineno-0-516">516</a></span>
<span class="normal"><a href="#__codelineno-0-517">517</a></span>
<span class="normal"><a href="#__codelineno-0-518">518</a></span>
<span class="normal"><a href="#__codelineno-0-519">519</a></span>
<span class="normal"><a href="#__codelineno-0-520">520</a></span>
<span class="normal"><a href="#__codelineno-0-521">521</a></span>
<span class="normal"><a href="#__codelineno-0-522">522</a></span>
<span class="normal"><a href="#__codelineno-0-523">523</a></span>
<span class="normal"><a href="#__codelineno-0-524">524</a></span>
<span class="normal"><a href="#__codelineno-0-525">525</a></span>
<span class="normal"><a href="#__codelineno-0-526">526</a></span>
<span class="normal"><a href="#__codelineno-0-527">527</a></span>
<span class="normal"><a href="#__codelineno-0-528">528</a></span>
<span class="normal"><a href="#__codelineno-0-529">529</a></span>
<span class="normal"><a href="#__codelineno-0-530">530</a></span>
<span class="normal"><a href="#__codelineno-0-531">531</a></span>
<span class="normal"><a href="#__codelineno-0-532">532</a></span>
<span class="normal"><a href="#__codelineno-0-533">533</a></span>
<span class="normal"><a href="#__codelineno-0-534">534</a></span>
<span class="normal"><a href="#__codelineno-0-535">535</a></span>
<span class="normal"><a href="#__codelineno-0-536">536</a></span>
<span class="normal"><a href="#__codelineno-0-537">537</a></span>
<span class="normal"><a href="#__codelineno-0-538">538</a></span>
<span class="normal"><a href="#__codelineno-0-539">539</a></span>
<span class="normal"><a href="#__codelineno-0-540">540</a></span>
<span class="normal"><a href="#__codelineno-0-541">541</a></span>
<span class="normal"><a href="#__codelineno-0-542">542</a></span>
<span class="normal"><a href="#__codelineno-0-543">543</a></span>
<span class="normal"><a href="#__codelineno-0-544">544</a></span>
<span class="normal"><a href="#__codelineno-0-545">545</a></span>
<span class="normal"><a href="#__codelineno-0-546">546</a></span>
<span class="normal"><a href="#__codelineno-0-547">547</a></span>
<span class="normal"><a href="#__codelineno-0-548">548</a></span>
<span class="normal"><a href="#__codelineno-0-549">549</a></span>
<span class="normal"><a href="#__codelineno-0-550">550</a></span>
<span class="normal"><a href="#__codelineno-0-551">551</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-514" name="__codelineno-0-514"></a><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">search</span><span class="p">(</span>
<a id="__codelineno-0-515" name="__codelineno-0-515"></a>    <span class="bp">self</span><span class="p">,</span> <span class="n">query</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">limit</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span> <span class="n">filters</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">score_threshold</span><span class="p">:</span> <span class="nb">float</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
<a id="__codelineno-0-516" name="__codelineno-0-516"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">SearchResult</span><span class="p">]:</span>
<a id="__codelineno-0-517" name="__codelineno-0-517"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-518" name="__codelineno-0-518"></a><span class="sd">    Asynchronously searches for results based on a query string, a specified limit, and optional filters.</span>
<a id="__codelineno-0-519" name="__codelineno-0-519"></a>
<a id="__codelineno-0-520" name="__codelineno-0-520"></a><span class="sd">    This function performs a search and returns a list of results</span>
<a id="__codelineno-0-521" name="__codelineno-0-521"></a><span class="sd">    matching the input query. The number of results returned can</span>
<a id="__codelineno-0-522" name="__codelineno-0-522"></a><span class="sd">    be limited by the `limit` parameter. Filters can also be applied</span>
<a id="__codelineno-0-523" name="__codelineno-0-523"></a><span class="sd">    to refine the search. If no filters are provided, the search is</span>
<a id="__codelineno-0-524" name="__codelineno-0-524"></a><span class="sd">    performed without additional constraints.</span>
<a id="__codelineno-0-525" name="__codelineno-0-525"></a>
<a id="__codelineno-0-526" name="__codelineno-0-526"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-527" name="__codelineno-0-527"></a><span class="sd">        query (str): A string representing the search query.</span>
<a id="__codelineno-0-528" name="__codelineno-0-528"></a><span class="sd">        limit (int): An integer specifying the maximum number of results to return. Defaults to 5.</span>
<a id="__codelineno-0-529" name="__codelineno-0-529"></a><span class="sd">        filters (dict | None): Qdrant-compatible filter.</span>
<a id="__codelineno-0-530" name="__codelineno-0-530"></a><span class="sd">            You can pass a `qdrant_client.models.Filter` object or a raw dict.</span>
<a id="__codelineno-0-531" name="__codelineno-0-531"></a><span class="sd">        score_threshold (float | None): Minimum similarity score.</span>
<a id="__codelineno-0-532" name="__codelineno-0-532"></a><span class="sd">            **Note:** Qdrant usually uses Cosine Similarity (higher is better).</span>
<a id="__codelineno-0-533" name="__codelineno-0-533"></a><span class="sd">            This acts as a **Minimum Score** filter.</span>
<a id="__codelineno-0-534" name="__codelineno-0-534"></a><span class="sd">            Results with score &lt; score_threshold will be excluded.</span>
<a id="__codelineno-0-535" name="__codelineno-0-535"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-536" name="__codelineno-0-536"></a><span class="sd">        A list of `SearchResult` objects corresponding to the</span>
<a id="__codelineno-0-537" name="__codelineno-0-537"></a><span class="sd">            matches found according to the query, limit, and filters.</span>
<a id="__codelineno-0-538" name="__codelineno-0-538"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-539" name="__codelineno-0-539"></a>    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ensure_collection</span><span class="p">()</span>
<a id="__codelineno-0-540" name="__codelineno-0-540"></a>
<a id="__codelineno-0-541" name="__codelineno-0-541"></a>    <span class="n">qdrant_filter</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_build_filter</span><span class="p">(</span><span class="n">filters</span><span class="p">)</span>
<a id="__codelineno-0-542" name="__codelineno-0-542"></a>    <span class="n">vector</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">embedding_fn</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
<a id="__codelineno-0-543" name="__codelineno-0-543"></a>
<a id="__codelineno-0-544" name="__codelineno-0-544"></a>    <span class="n">resp</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">query_points</span><span class="p">(</span>
<a id="__codelineno-0-545" name="__codelineno-0-545"></a>        <span class="n">collection_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">collection_name</span><span class="p">,</span>
<a id="__codelineno-0-546" name="__codelineno-0-546"></a>        <span class="n">query</span><span class="o">=</span><span class="n">vector</span><span class="p">,</span>
<a id="__codelineno-0-547" name="__codelineno-0-547"></a>        <span class="n">query_filter</span><span class="o">=</span><span class="n">qdrant_filter</span><span class="p">,</span>
<a id="__codelineno-0-548" name="__codelineno-0-548"></a>        <span class="n">limit</span><span class="o">=</span><span class="n">limit</span><span class="p">,</span>
<a id="__codelineno-0-549" name="__codelineno-0-549"></a>        <span class="n">score_threshold</span><span class="o">=</span><span class="n">score_threshold</span><span class="p">,</span>
<a id="__codelineno-0-550" name="__codelineno-0-550"></a>    <span class="p">)</span>
<a id="__codelineno-0-551" name="__codelineno-0-551"></a>    <span class="k">return</span> <span class="p">[</span><span class="n">SearchResult</span><span class="p">(</span><span class="n">fact_id</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">id</span><span class="p">),</span> <span class="n">score</span><span class="o">=</span><span class="n">p</span><span class="o">.</span><span class="n">score</span><span class="p">)</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">resp</span><span class="o">.</span><span class="n">points</span><span class="p">]</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="memstate.integrations.qdrant.FastEmbedEncoder" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">FastEmbedEncoder</span>


</h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">FastEmbedEncoder</span><span class="p">(</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>    <span class="n"><a class="autorefs autorefs-internal" title="&lt;b&gt;&lt;code&gt;model_name&lt;/code&gt;&lt;/b&gt; (&lt;code&gt;memstate.integrations.qdrant.FastEmbedEncoder(model_name)&lt;/code&gt;)" href="#memstate.integrations.qdrant.FastEmbedEncoder(model_name)">model_name</a></span><span class="p">:</span> <span class="n"><span title="str">str</span></span> <span class="o">=</span> <span class="s2">&quot;sentence-transformers/all-MiniLM-L6-v2&quot;</span><span class="p">,</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>    <span class="n"><a class="autorefs autorefs-internal" title="&lt;b&gt;&lt;code&gt;options&lt;/code&gt;&lt;/b&gt; (&lt;code&gt;memstate.integrations.qdrant.FastEmbedEncoder(options)&lt;/code&gt;)" href="#memstate.integrations.qdrant.FastEmbedEncoder(options)">options</a></span><span class="p">:</span> <span class="n"><span title="dict">dict</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">,</span> <span class="n"><span title="typing.Any">Any</span></span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">



        <p>Default embedding implementation using FastEmbed.
Used if no custom embedding_fn is provided.</p>
<p>This class provides a lightweight wrapper around the FastEmbed library to
generate embeddings for text inputs. The encoder initializes with a specific
pre-trained model from FastEmbed and can be invoked to generate a numerical
vector representation of the provided text.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <ul>
        <li class="doc-section-item field-body">
          <b><code><span title="memstate.integrations.qdrant.FastEmbedEncoder.model">model</span></code></b>
              (<code><span title="TextEmbedding">TextEmbedding</span></code>)
          –
          <div class="doc-md-description">
            <p>Instance of the FastEmbed TextEmbedding model used to generate embeddings.</p>
          </div>
        </li>
    </ul>

        <p>If the FastEmbed library is not installed on the system, an ImportError is raised,
advising the user to install the library or provide a custom embedding function.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
<h4 id="memstate.integrations.qdrant.FastEmbedEncoder(model_name)" class="doc doc-heading doc-heading-parameter">              <b><code>model_name</code></b>
</h4>              (<code><span title="str">str</span></code>, default:
                  <code>&#39;sentence-transformers/all-MiniLM-L6-v2&#39;</code>
)
          –
          <div class="doc-md-description">
            <p>The name of the model to be used for text embeddings.
Defaults to "sentence-transformers/all-MiniLM-L6-v2".</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
<h4 id="memstate.integrations.qdrant.FastEmbedEncoder(options)" class="doc doc-heading doc-heading-parameter">              <b><code>options</code></b>
</h4>              (<code><span title="dict">dict</span>[<span title="str">str</span>, <span title="typing.Any">Any</span>] | None</code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>A dictionary of options for configuring the embedding model.
If not provided, an empty dictionary is used.</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Raises:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code><span title="ImportError">ImportError</span></code>
            –
          <div class="doc-md-description">
            <p>If the FastEmbed library is not installed on the system, this exception
is raised, advising the use of <code>pip install fastembed</code> or providing a custom embedding function.</p>
          </div>
        </li>
    </ul>

          












                  <details class="mkdocstrings-source">
                    <summary>Source code in <code>memstate/integrations/qdrant.py</code></summary>
                    <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-35">35</a></span>
<span class="normal"><a href="#__codelineno-0-36">36</a></span>
<span class="normal"><a href="#__codelineno-0-37">37</a></span>
<span class="normal"><a href="#__codelineno-0-38">38</a></span>
<span class="normal"><a href="#__codelineno-0-39">39</a></span>
<span class="normal"><a href="#__codelineno-0-40">40</a></span>
<span class="normal"><a href="#__codelineno-0-41">41</a></span>
<span class="normal"><a href="#__codelineno-0-42">42</a></span>
<span class="normal"><a href="#__codelineno-0-43">43</a></span>
<span class="normal"><a href="#__codelineno-0-44">44</a></span>
<span class="normal"><a href="#__codelineno-0-45">45</a></span>
<span class="normal"><a href="#__codelineno-0-46">46</a></span>
<span class="normal"><a href="#__codelineno-0-47">47</a></span>
<span class="normal"><a href="#__codelineno-0-48">48</a></span>
<span class="normal"><a href="#__codelineno-0-49">49</a></span>
<span class="normal"><a href="#__codelineno-0-50">50</a></span>
<span class="normal"><a href="#__codelineno-0-51">51</a></span>
<span class="normal"><a href="#__codelineno-0-52">52</a></span>
<span class="normal"><a href="#__codelineno-0-53">53</a></span>
<span class="normal"><a href="#__codelineno-0-54">54</a></span>
<span class="normal"><a href="#__codelineno-0-55">55</a></span>
<span class="normal"><a href="#__codelineno-0-56">56</a></span>
<span class="normal"><a href="#__codelineno-0-57">57</a></span>
<span class="normal"><a href="#__codelineno-0-58">58</a></span>
<span class="normal"><a href="#__codelineno-0-59">59</a></span>
<span class="normal"><a href="#__codelineno-0-60">60</a></span>
<span class="normal"><a href="#__codelineno-0-61">61</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-35" name="__codelineno-0-35"></a><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
<a id="__codelineno-0-36" name="__codelineno-0-36"></a>    <span class="bp">self</span><span class="p">,</span> <span class="n">model_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;sentence-transformers/all-MiniLM-L6-v2&quot;</span><span class="p">,</span> <span class="n">options</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
<a id="__codelineno-0-37" name="__codelineno-0-37"></a><span class="p">):</span>
<a id="__codelineno-0-38" name="__codelineno-0-38"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-39" name="__codelineno-0-39"></a><span class="sd">    Initializes the embedding model using the specified `model_name` and optional `options`</span>
<a id="__codelineno-0-40" name="__codelineno-0-40"></a><span class="sd">    dictionary. The class leverages the FastEmbed library for handling text embeddings.</span>
<a id="__codelineno-0-41" name="__codelineno-0-41"></a>
<a id="__codelineno-0-42" name="__codelineno-0-42"></a><span class="sd">    If the FastEmbed library is not installed on the system, an ImportError is raised,</span>
<a id="__codelineno-0-43" name="__codelineno-0-43"></a><span class="sd">    advising the user to install the library or provide a custom embedding function.</span>
<a id="__codelineno-0-44" name="__codelineno-0-44"></a>
<a id="__codelineno-0-45" name="__codelineno-0-45"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-46" name="__codelineno-0-46"></a><span class="sd">        model_name (str): The name of the model to be used for text embeddings.</span>
<a id="__codelineno-0-47" name="__codelineno-0-47"></a><span class="sd">            Defaults to &quot;sentence-transformers/all-MiniLM-L6-v2&quot;.</span>
<a id="__codelineno-0-48" name="__codelineno-0-48"></a><span class="sd">        options (dict[str, Any] | None): A dictionary of options for configuring the embedding model.</span>
<a id="__codelineno-0-49" name="__codelineno-0-49"></a><span class="sd">            If not provided, an empty dictionary is used.</span>
<a id="__codelineno-0-50" name="__codelineno-0-50"></a>
<a id="__codelineno-0-51" name="__codelineno-0-51"></a><span class="sd">    Raises:</span>
<a id="__codelineno-0-52" name="__codelineno-0-52"></a><span class="sd">        ImportError: If the FastEmbed library is not installed on the system, this exception</span>
<a id="__codelineno-0-53" name="__codelineno-0-53"></a><span class="sd">            is raised, advising the use of `pip install fastembed` or providing a custom embedding function.</span>
<a id="__codelineno-0-54" name="__codelineno-0-54"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-55" name="__codelineno-0-55"></a>    <span class="k">try</span><span class="p">:</span>
<a id="__codelineno-0-56" name="__codelineno-0-56"></a>        <span class="kn">from</span><span class="w"> </span><span class="nn">fastembed</span><span class="w"> </span><span class="kn">import</span> <span class="n">TextEmbedding</span>
<a id="__codelineno-0-57" name="__codelineno-0-57"></a>    <span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
<a id="__codelineno-0-58" name="__codelineno-0-58"></a>        <span class="k">raise</span> <span class="ne">ImportError</span><span class="p">(</span>
<a id="__codelineno-0-59" name="__codelineno-0-59"></a>            <span class="s2">&quot;FastEmbed is not installed. &quot;</span> <span class="s2">&quot;Install it via `pip install fastembed` or pass a custom `embedding_fn`.&quot;</span>
<a id="__codelineno-0-60" name="__codelineno-0-60"></a>        <span class="p">)</span>
<a id="__codelineno-0-61" name="__codelineno-0-61"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">model</span> <span class="o">=</span> <span class="n">TextEmbedding</span><span class="p">(</span><span class="n">model_name</span><span class="p">,</span> <span class="o">**</span><span class="p">(</span><span class="n">options</span> <span class="ow">or</span> <span class="p">{}))</span>
</code></pre></div></td></tr></table></div>
                  </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="memstate.integrations.qdrant.QdrantSyncHook" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">QdrantSyncHook</span>


</h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">QdrantSyncHook</span><span class="p">(</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>    <span class="n"><span title="memstate.integrations.qdrant.QdrantSyncHook(client)">client</span></span><span class="p">:</span> <span class="n"><span title="qdrant_client.QdrantClient">QdrantClient</span></span><span class="p">,</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>    <span class="n"><span title="memstate.integrations.qdrant.QdrantSyncHook(collection_name)">collection_name</span></span><span class="p">:</span> <span class="n"><span title="str">str</span></span><span class="p">,</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>    <span class="n"><span title="memstate.integrations.qdrant.QdrantSyncHook(embedding_fn)">embedding_fn</span></span><span class="p">:</span> <span class="n"><span title="memstate.integrations.qdrant.EmbeddingFunction">EmbeddingFunction</span></span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>    <span class="n"><span title="memstate.integrations.qdrant.QdrantSyncHook(target_types)">target_types</span></span><span class="p">:</span> <span class="n"><span title="set">set</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>    <span class="n"><span title="memstate.integrations.qdrant.QdrantSyncHook(text_field)">text_field</span></span><span class="p">:</span> <span class="n"><span title="str">str</span></span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>    <span class="n"><span title="memstate.integrations.qdrant.QdrantSyncHook(text_formatter)">text_formatter</span></span><span class="p">:</span> <span class="n"><span title="memstate.integrations.qdrant.TextFormatter">TextFormatter</span></span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>    <span class="n"><span title="memstate.integrations.qdrant.QdrantSyncHook(metadata_fields)">metadata_fields</span></span><span class="p">:</span> <span class="n"><span title="list">list</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a>    <span class="n"><span title="memstate.integrations.qdrant.QdrantSyncHook(metadata_formatter)">metadata_formatter</span></span><span class="p">:</span> <span class="n"><span title="memstate.integrations.qdrant.MetadataFormatter">MetadataFormatter</span></span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a>    <span class="n"><span title="memstate.integrations.qdrant.QdrantSyncHook(distance)">distance</span></span><span class="p">:</span> <span class="n"><span title="qdrant_client.models.Distance">Distance</span></span> <span class="o">=</span> <span class="n"><span title="qdrant_client.models.Distance.COSINE">COSINE</span></span><span class="p">,</span>
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="memstate.types.MemoryHook">MemoryHook</span></code></p>



        <p>Handles synchronization of memory updates with a Qdrant collection by managing
CRUD operations on vector embeddings and metadata. Designed for real-time updates
and integration with Qdrant database collections.</p>
<p>The class provides support for maintaining vector embeddings, setting up collection
parameters, formatting metadata, and handling various operations such as inserts,
updates, deletions, and session discards. Additionally, it supports embedding functions
and configurable distance metrics for vector similarity functionality.</p>


<details class="example" open>
  <summary>Example</summary>
  <div class="language-python highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">encoder</span> <span class="o">=</span> <span class="n">FastEmbedEncoder</span><span class="p">(</span><span class="n">model_name</span><span class="o">=</span><span class="s2">&quot;BAAI/bge-small-en-v1.5&quot;</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;cuda&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">})</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="n">hook</span> <span class="o">=</span> <span class="n">QdrantSyncHook</span><span class="p">(</span><span class="n">client</span><span class="p">,</span> <span class="s2">&quot;memory&quot;</span><span class="p">,</span> <span class="n">embedding_fn</span><span class="o">=</span><span class="n">encoder</span><span class="p">)</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="n">resp</span> <span class="o">=</span> <span class="n">openai</span><span class="o">.</span><span class="n">embeddings</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="nb">input</span><span class="o">=</span><span class="n">text</span><span class="p">,</span> <span class="n">model</span><span class="o">=</span><span class="s2">&quot;text-embedding-3-small&quot;</span><span class="p">)</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="n">openai_embedder</span> <span class="o">=</span> <span class="n">resp</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">embedding</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="n">hook</span> <span class="o">=</span> <span class="n">QdrantSyncHook</span><span class="p">(</span><span class="n">client</span><span class="p">,</span> <span class="s2">&quot;memory&quot;</span><span class="p">,</span> <span class="n">embedding_fn</span><span class="o">=</span><span class="n">openai_embedder</span><span class="p">)</span>
</code></pre></div>
</details>

<p><span class="doc-section-title">Attributes:</span></p>
    <ul>
        <li class="doc-section-item field-body">
          <b><code><span title="memstate.integrations.qdrant.QdrantSyncHook.client">client</span></code></b>
              (<code><span title="qdrant_client.QdrantClient">QdrantClient</span></code>)
          –
          <div class="doc-md-description">
            <p>Client instance for interacting with the Qdrant database.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
          <b><code><span title="memstate.integrations.qdrant.QdrantSyncHook.collection_name">collection_name</span></code></b>
              (<code><span title="str">str</span></code>)
          –
          <div class="doc-md-description">
            <p>Name of the Qdrant collection to synchronize with.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
          <b><code><span title="memstate.integrations.qdrant.QdrantSyncHook.embedding_fn">embedding_fn</span></code></b>
              (<code><span title="memstate.integrations.qdrant.EmbeddingFunction">EmbeddingFunction</span> | None</code>)
          –
          <div class="doc-md-description">
            <p>Function responsible for generating vector embeddings,
defaulting to FastEmbedEncoder if not provided.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
          <b><code><span title="memstate.integrations.qdrant.QdrantSyncHook.target_types">target_types</span></code></b>
              (<code><span title="set">set</span>[<span title="str">str</span>] | None</code>)
          –
          <div class="doc-md-description">
            <p>Set of target types that define which operations are supported
for synchronization. Defaults to an empty set.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
          <b><code><span title="memstate.integrations.qdrant.QdrantSyncHook.distance">distance</span></code></b>
              (<code><span title="qdrant_client.models.Distance">Distance</span></code>)
          –
          <div class="doc-md-description">
            <p>Metric to compute vector similarity in Qdrant, e.g., COSINE, EUCLIDEAN.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
          <b><code><span title="memstate.integrations.qdrant.QdrantSyncHook.metadata_fields">metadata_fields</span></code></b>
              (<code><span title="list">list</span>[<span title="str">str</span>] | None</code>)
          –
          <div class="doc-md-description">
            <p>List of fields to include in the metadata payload.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
          <b><code><span title="memstate.integrations.qdrant.QdrantSyncHook.metadata_formatter">metadata_formatter</span></code></b>
              (<code><span title="memstate.integrations.qdrant.MetadataFormatter">MetadataFormatter</span> | None</code>)
          –
          <div class="doc-md-description">
            <p>Formatter function for structuring metadata. Optional.</p>
          </div>
        </li>
    </ul>

          











<p><span class="doc-section-title">Methods:</span></p>
    <ul>
          <li class="doc-section-item field-body">
            <b><code><a class="autorefs autorefs-internal" title="&lt;code class=&quot;doc-symbol doc-symbol-heading doc-symbol-method&quot;&gt;&lt;/code&gt;            &lt;span class=&quot;doc doc-object-name doc-function-name&quot;&gt;search&lt;/span&gt; (&lt;code&gt;memstate.integrations.qdrant.QdrantSyncHook.search&lt;/code&gt;)" href="#memstate.integrations.qdrant.QdrantSyncHook.search">search</a></code></b>
            –
            <div class="doc-md-description">
              <p>Searches for results based on a query string, a specified limit, and optional filters.</p>
            </div>
          </li>
    </ul>



                  <details class="mkdocstrings-source">
                    <summary>Source code in <code>memstate/integrations/qdrant.py</code></summary>
                    <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-109">109</a></span>
<span class="normal"><a href="#__codelineno-0-110">110</a></span>
<span class="normal"><a href="#__codelineno-0-111">111</a></span>
<span class="normal"><a href="#__codelineno-0-112">112</a></span>
<span class="normal"><a href="#__codelineno-0-113">113</a></span>
<span class="normal"><a href="#__codelineno-0-114">114</a></span>
<span class="normal"><a href="#__codelineno-0-115">115</a></span>
<span class="normal"><a href="#__codelineno-0-116">116</a></span>
<span class="normal"><a href="#__codelineno-0-117">117</a></span>
<span class="normal"><a href="#__codelineno-0-118">118</a></span>
<span class="normal"><a href="#__codelineno-0-119">119</a></span>
<span class="normal"><a href="#__codelineno-0-120">120</a></span>
<span class="normal"><a href="#__codelineno-0-121">121</a></span>
<span class="normal"><a href="#__codelineno-0-122">122</a></span>
<span class="normal"><a href="#__codelineno-0-123">123</a></span>
<span class="normal"><a href="#__codelineno-0-124">124</a></span>
<span class="normal"><a href="#__codelineno-0-125">125</a></span>
<span class="normal"><a href="#__codelineno-0-126">126</a></span>
<span class="normal"><a href="#__codelineno-0-127">127</a></span>
<span class="normal"><a href="#__codelineno-0-128">128</a></span>
<span class="normal"><a href="#__codelineno-0-129">129</a></span>
<span class="normal"><a href="#__codelineno-0-130">130</a></span>
<span class="normal"><a href="#__codelineno-0-131">131</a></span>
<span class="normal"><a href="#__codelineno-0-132">132</a></span>
<span class="normal"><a href="#__codelineno-0-133">133</a></span>
<span class="normal"><a href="#__codelineno-0-134">134</a></span>
<span class="normal"><a href="#__codelineno-0-135">135</a></span>
<span class="normal"><a href="#__codelineno-0-136">136</a></span>
<span class="normal"><a href="#__codelineno-0-137">137</a></span>
<span class="normal"><a href="#__codelineno-0-138">138</a></span>
<span class="normal"><a href="#__codelineno-0-139">139</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-109" name="__codelineno-0-109"></a><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
<a id="__codelineno-0-110" name="__codelineno-0-110"></a>    <span class="bp">self</span><span class="p">,</span>
<a id="__codelineno-0-111" name="__codelineno-0-111"></a>    <span class="n">client</span><span class="p">:</span> <span class="n">QdrantClient</span><span class="p">,</span>
<a id="__codelineno-0-112" name="__codelineno-0-112"></a>    <span class="n">collection_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
<a id="__codelineno-0-113" name="__codelineno-0-113"></a>    <span class="n">embedding_fn</span><span class="p">:</span> <span class="n">EmbeddingFunction</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-114" name="__codelineno-0-114"></a>    <span class="n">target_types</span><span class="p">:</span> <span class="nb">set</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-115" name="__codelineno-0-115"></a>    <span class="n">text_field</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-116" name="__codelineno-0-116"></a>    <span class="n">text_formatter</span><span class="p">:</span> <span class="n">TextFormatter</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-117" name="__codelineno-0-117"></a>    <span class="n">metadata_fields</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-118" name="__codelineno-0-118"></a>    <span class="n">metadata_formatter</span><span class="p">:</span> <span class="n">MetadataFormatter</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-119" name="__codelineno-0-119"></a>    <span class="n">distance</span><span class="p">:</span> <span class="n">models</span><span class="o">.</span><span class="n">Distance</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">Distance</span><span class="o">.</span><span class="n">COSINE</span><span class="p">,</span>
<a id="__codelineno-0-120" name="__codelineno-0-120"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-121" name="__codelineno-0-121"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">client</span> <span class="o">=</span> <span class="n">client</span>
<a id="__codelineno-0-122" name="__codelineno-0-122"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">collection_name</span> <span class="o">=</span> <span class="n">collection_name</span>
<a id="__codelineno-0-123" name="__codelineno-0-123"></a>
<a id="__codelineno-0-124" name="__codelineno-0-124"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">embedding_fn</span> <span class="o">=</span> <span class="n">embedding_fn</span> <span class="ow">or</span> <span class="n">FastEmbedEncoder</span><span class="p">()</span>
<a id="__codelineno-0-125" name="__codelineno-0-125"></a>
<a id="__codelineno-0-126" name="__codelineno-0-126"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">target_types</span> <span class="o">=</span> <span class="n">target_types</span> <span class="ow">or</span> <span class="nb">set</span><span class="p">()</span>
<a id="__codelineno-0-127" name="__codelineno-0-127"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">distance</span> <span class="o">=</span> <span class="n">distance</span>
<a id="__codelineno-0-128" name="__codelineno-0-128"></a>
<a id="__codelineno-0-129" name="__codelineno-0-129"></a>    <span class="k">if</span> <span class="n">text_formatter</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-130" name="__codelineno-0-130"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_extract_text</span> <span class="o">=</span> <span class="n">text_formatter</span>
<a id="__codelineno-0-131" name="__codelineno-0-131"></a>    <span class="k">elif</span> <span class="n">text_field</span><span class="p">:</span>
<a id="__codelineno-0-132" name="__codelineno-0-132"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_extract_text</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">data</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">text_field</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">))</span>
<a id="__codelineno-0-133" name="__codelineno-0-133"></a>    <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-134" name="__codelineno-0-134"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_extract_text</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">data</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<a id="__codelineno-0-135" name="__codelineno-0-135"></a>
<a id="__codelineno-0-136" name="__codelineno-0-136"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">metadata_fields</span> <span class="o">=</span> <span class="n">metadata_fields</span> <span class="ow">or</span> <span class="p">[]</span>
<a id="__codelineno-0-137" name="__codelineno-0-137"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">metadata_formatter</span> <span class="o">=</span> <span class="n">metadata_formatter</span>
<a id="__codelineno-0-138" name="__codelineno-0-138"></a>
<a id="__codelineno-0-139" name="__codelineno-0-139"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_ensure_collection</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
                  </details>



<div class="doc doc-children">










<div class="doc doc-object doc-function">


<h4 id="memstate.integrations.qdrant.QdrantSyncHook.search" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">search</span>


</h4>
<div class="language-python doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">search</span><span class="p">(</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>    <span class="n"><a class="autorefs autorefs-internal" title="&lt;b&gt;&lt;code&gt;query&lt;/code&gt;&lt;/b&gt; (&lt;code&gt;memstate.integrations.qdrant.QdrantSyncHook.search(query)&lt;/code&gt;)" href="#memstate.integrations.qdrant.QdrantSyncHook.search(query)">query</a></span><span class="p">:</span> <span class="n"><span title="str">str</span></span><span class="p">,</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>    <span class="n"><a class="autorefs autorefs-internal" title="&lt;b&gt;&lt;code&gt;limit&lt;/code&gt;&lt;/b&gt; (&lt;code&gt;memstate.integrations.qdrant.QdrantSyncHook.search(limit)&lt;/code&gt;)" href="#memstate.integrations.qdrant.QdrantSyncHook.search(limit)">limit</a></span><span class="p">:</span> <span class="n"><span title="int">int</span></span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>    <span class="n"><a class="autorefs autorefs-internal" title="&lt;b&gt;&lt;code&gt;filters&lt;/code&gt;&lt;/b&gt; (&lt;code&gt;memstate.integrations.qdrant.QdrantSyncHook.search(filters)&lt;/code&gt;)" href="#memstate.integrations.qdrant.QdrantSyncHook.search(filters)">filters</a></span><span class="p">:</span> <span class="n"><span title="dict">dict</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">,</span> <span class="n"><span title="typing.Any">Any</span></span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>    <span class="n"><a class="autorefs autorefs-internal" title="&lt;b&gt;&lt;code&gt;score_threshold&lt;/code&gt;&lt;/b&gt; (&lt;code&gt;memstate.integrations.qdrant.QdrantSyncHook.search(score_threshold)&lt;/code&gt;)" href="#memstate.integrations.qdrant.QdrantSyncHook.search(score_threshold)">score_threshold</a></span><span class="p">:</span> <span class="n"><span title="float">float</span></span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><span title="list">list</span></span><span class="p">[</span><span class="n"><span title="memstate.schemas.SearchResult">SearchResult</span></span><span class="p">]</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Searches for results based on a query string, a specified limit, and optional filters.</p>
<p>This function performs a search and returns a list of results
matching the input query. The number of results returned can
be limited by the <code>limit</code> parameter. Filters can also be applied
to refine the search. If no filters are provided, the search is
performed without additional constraints.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
<h5 id="memstate.integrations.qdrant.QdrantSyncHook.search(query)" class="doc doc-heading doc-heading-parameter">              <b><code>query</code></b>
</h5>              (<code><span title="str">str</span></code>)
          –
          <div class="doc-md-description">
            <p>A string representing the search query.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
<h5 id="memstate.integrations.qdrant.QdrantSyncHook.search(limit)" class="doc doc-heading doc-heading-parameter">              <b><code>limit</code></b>
</h5>              (<code><span title="int">int</span></code>, default:
                  <code>5</code>
)
          –
          <div class="doc-md-description">
            <p>An integer specifying the maximum number of results to return. Defaults to 5.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
<h5 id="memstate.integrations.qdrant.QdrantSyncHook.search(filters)" class="doc doc-heading doc-heading-parameter">              <b><code>filters</code></b>
</h5>              (<code><span title="dict">dict</span> | None</code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>Qdrant-compatible filter.
You can pass a <code>qdrant_client.models.Filter</code> object or a raw dict.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
<h5 id="memstate.integrations.qdrant.QdrantSyncHook.search(score_threshold)" class="doc doc-heading doc-heading-parameter">              <b><code>score_threshold</code></b>
</h5>              (<code><span title="float">float</span> | None</code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>Minimum similarity score.
<strong>Note:</strong> Qdrant usually uses Cosine Similarity (higher is better).
This acts as a <strong>Minimum Score</strong> filter.
Results with score &lt; score_threshold will be excluded.</p>
          </div>
        </li>
    </ul>
        <p>Returns:
    A list of <code>SearchResult</code> objects corresponding to the
        matches found according to the query, limit, and filters.</p>

          

            <details class="mkdocstrings-source">
              <summary>Source code in <code>memstate/integrations/qdrant.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-279">279</a></span>
<span class="normal"><a href="#__codelineno-0-280">280</a></span>
<span class="normal"><a href="#__codelineno-0-281">281</a></span>
<span class="normal"><a href="#__codelineno-0-282">282</a></span>
<span class="normal"><a href="#__codelineno-0-283">283</a></span>
<span class="normal"><a href="#__codelineno-0-284">284</a></span>
<span class="normal"><a href="#__codelineno-0-285">285</a></span>
<span class="normal"><a href="#__codelineno-0-286">286</a></span>
<span class="normal"><a href="#__codelineno-0-287">287</a></span>
<span class="normal"><a href="#__codelineno-0-288">288</a></span>
<span class="normal"><a href="#__codelineno-0-289">289</a></span>
<span class="normal"><a href="#__codelineno-0-290">290</a></span>
<span class="normal"><a href="#__codelineno-0-291">291</a></span>
<span class="normal"><a href="#__codelineno-0-292">292</a></span>
<span class="normal"><a href="#__codelineno-0-293">293</a></span>
<span class="normal"><a href="#__codelineno-0-294">294</a></span>
<span class="normal"><a href="#__codelineno-0-295">295</a></span>
<span class="normal"><a href="#__codelineno-0-296">296</a></span>
<span class="normal"><a href="#__codelineno-0-297">297</a></span>
<span class="normal"><a href="#__codelineno-0-298">298</a></span>
<span class="normal"><a href="#__codelineno-0-299">299</a></span>
<span class="normal"><a href="#__codelineno-0-300">300</a></span>
<span class="normal"><a href="#__codelineno-0-301">301</a></span>
<span class="normal"><a href="#__codelineno-0-302">302</a></span>
<span class="normal"><a href="#__codelineno-0-303">303</a></span>
<span class="normal"><a href="#__codelineno-0-304">304</a></span>
<span class="normal"><a href="#__codelineno-0-305">305</a></span>
<span class="normal"><a href="#__codelineno-0-306">306</a></span>
<span class="normal"><a href="#__codelineno-0-307">307</a></span>
<span class="normal"><a href="#__codelineno-0-308">308</a></span>
<span class="normal"><a href="#__codelineno-0-309">309</a></span>
<span class="normal"><a href="#__codelineno-0-310">310</a></span>
<span class="normal"><a href="#__codelineno-0-311">311</a></span>
<span class="normal"><a href="#__codelineno-0-312">312</a></span>
<span class="normal"><a href="#__codelineno-0-313">313</a></span>
<span class="normal"><a href="#__codelineno-0-314">314</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-279" name="__codelineno-0-279"></a><span class="k">def</span><span class="w"> </span><span class="nf">search</span><span class="p">(</span>
<a id="__codelineno-0-280" name="__codelineno-0-280"></a>    <span class="bp">self</span><span class="p">,</span> <span class="n">query</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">limit</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span> <span class="n">filters</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">score_threshold</span><span class="p">:</span> <span class="nb">float</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
<a id="__codelineno-0-281" name="__codelineno-0-281"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">SearchResult</span><span class="p">]:</span>
<a id="__codelineno-0-282" name="__codelineno-0-282"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-283" name="__codelineno-0-283"></a><span class="sd">    Searches for results based on a query string, a specified limit, and optional filters.</span>
<a id="__codelineno-0-284" name="__codelineno-0-284"></a>
<a id="__codelineno-0-285" name="__codelineno-0-285"></a><span class="sd">    This function performs a search and returns a list of results</span>
<a id="__codelineno-0-286" name="__codelineno-0-286"></a><span class="sd">    matching the input query. The number of results returned can</span>
<a id="__codelineno-0-287" name="__codelineno-0-287"></a><span class="sd">    be limited by the `limit` parameter. Filters can also be applied</span>
<a id="__codelineno-0-288" name="__codelineno-0-288"></a><span class="sd">    to refine the search. If no filters are provided, the search is</span>
<a id="__codelineno-0-289" name="__codelineno-0-289"></a><span class="sd">    performed without additional constraints.</span>
<a id="__codelineno-0-290" name="__codelineno-0-290"></a>
<a id="__codelineno-0-291" name="__codelineno-0-291"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-292" name="__codelineno-0-292"></a><span class="sd">        query (str): A string representing the search query.</span>
<a id="__codelineno-0-293" name="__codelineno-0-293"></a><span class="sd">        limit (int): An integer specifying the maximum number of results to return. Defaults to 5.</span>
<a id="__codelineno-0-294" name="__codelineno-0-294"></a><span class="sd">        filters (dict | None): Qdrant-compatible filter.</span>
<a id="__codelineno-0-295" name="__codelineno-0-295"></a><span class="sd">            You can pass a `qdrant_client.models.Filter` object or a raw dict.</span>
<a id="__codelineno-0-296" name="__codelineno-0-296"></a><span class="sd">        score_threshold (float | None): Minimum similarity score.</span>
<a id="__codelineno-0-297" name="__codelineno-0-297"></a><span class="sd">            **Note:** Qdrant usually uses Cosine Similarity (higher is better).</span>
<a id="__codelineno-0-298" name="__codelineno-0-298"></a><span class="sd">            This acts as a **Minimum Score** filter.</span>
<a id="__codelineno-0-299" name="__codelineno-0-299"></a><span class="sd">            Results with score &lt; score_threshold will be excluded.</span>
<a id="__codelineno-0-300" name="__codelineno-0-300"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-301" name="__codelineno-0-301"></a><span class="sd">        A list of `SearchResult` objects corresponding to the</span>
<a id="__codelineno-0-302" name="__codelineno-0-302"></a><span class="sd">            matches found according to the query, limit, and filters.</span>
<a id="__codelineno-0-303" name="__codelineno-0-303"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-304" name="__codelineno-0-304"></a>    <span class="n">qdrant_filter</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_build_filter</span><span class="p">(</span><span class="n">filters</span><span class="p">)</span>
<a id="__codelineno-0-305" name="__codelineno-0-305"></a>    <span class="n">vector</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">embedding_fn</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
<a id="__codelineno-0-306" name="__codelineno-0-306"></a>
<a id="__codelineno-0-307" name="__codelineno-0-307"></a>    <span class="n">resp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">query_points</span><span class="p">(</span>
<a id="__codelineno-0-308" name="__codelineno-0-308"></a>        <span class="n">collection_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">collection_name</span><span class="p">,</span>
<a id="__codelineno-0-309" name="__codelineno-0-309"></a>        <span class="n">query</span><span class="o">=</span><span class="n">vector</span><span class="p">,</span>
<a id="__codelineno-0-310" name="__codelineno-0-310"></a>        <span class="n">query_filter</span><span class="o">=</span><span class="n">qdrant_filter</span><span class="p">,</span>
<a id="__codelineno-0-311" name="__codelineno-0-311"></a>        <span class="n">limit</span><span class="o">=</span><span class="n">limit</span><span class="p">,</span>
<a id="__codelineno-0-312" name="__codelineno-0-312"></a>        <span class="n">score_threshold</span><span class="o">=</span><span class="n">score_threshold</span><span class="p">,</span>
<a id="__codelineno-0-313" name="__codelineno-0-313"></a>    <span class="p">)</span>
<a id="__codelineno-0-314" name="__codelineno-0-314"></a>    <span class="k">return</span> <span class="p">[</span><span class="n">SearchResult</span><span class="p">(</span><span class="n">fact_id</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">id</span><span class="p">),</span> <span class="n">score</span><span class="o">=</span><span class="n">p</span><span class="o">.</span><span class="n">score</span><span class="p">)</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">resp</span><span class="o">.</span><span class="n">points</span><span class="p">]</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>




  </div>

    </div>

</div>


  </div>

    </div>

</div>












                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../..", "features": ["navigation.tabs", "search.suggest", "search.highlight", "content.code.copy", "content.code.annotate", "content.tooltips", "content.tabs.link"], "search": "../../assets/javascripts/workers/search.7a47a382.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.e71a0d61.min.js"></script>
      
    
  </body>
</html>